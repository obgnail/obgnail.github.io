<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=" id=&quot;x-y&quot;&gt;&lt;a href=&quot;#x-y&quot; class=&quot;headerlink&quot; title=&quot;x|y&quot;&gt;&lt;/a&gt;x|y&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;如果没有包围在()里，其范围是整个正则表达式&lt;/strong&gt;。"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>Regex补充 | 凉薄的自动书记人偶</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-none-link" href="/tags/Regular-Expression/" rel="tag">Regular Expression</a></div><div class="post-time">2021-06-18</div></div></div><div class="container post-header"><h1>Regex补充</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#x-y"><span class="toc-number">1.</span> <span class="toc-text">x|y</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unicode%E5%A4%84%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">Unicode处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.</span> <span class="toc-text">示例</span></a></li></ol></details></div><div class="container post-content"><h2 id="x-y"><a href="#x-y" class="headerlink" title="x|y"></a>x|y</h2><p><strong>如果没有包围在()里，其范围是整个正则表达式</strong>。</p>
<p>例如：</p>
<ul>
<li>“<code>z|food</code>”能匹配“<code>z</code>”或“<code>food</code>”。</li>
<li>“<code>(?:z|f)ood</code>”则匹配“<code>zood</code>”或“<code>food</code>”。</li>
</ul>
<h2 id="Unicode处理"><a href="#Unicode处理" class="headerlink" title="Unicode处理"></a>Unicode处理</h2><p>在.NET、Java、JavaScript、Python的正则表达式中，可以用<code>\uXXXX</code>表示一个Unicode字符，其中<code>XXXX</code>为四位16进制数字。</p>
<p>Unicode Property：字符属于标点、空格、字母等等。每个Unicode字符只能属于唯一Unicode Property。<br>.NET、Java、PHP和Ruby等语言支持。具体分类为：</p>
<ul>
<li><p>字符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\p&#123;L&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>\p&#123;Ll&#125;</code>或<code>\p&#123;Lowercase_Letter&#125;</code>：小写字符（必须有大写的形式）。</li>
<li><code>\p&#123;Lu&#125;</code>或<code>\p&#123;Uppercase_Letter&#125;</code>：大写字符（必须有小写的形式）。</li>
<li><code>\p&#123;Lt&#125;</code>或<code>\p&#123;Titlecase_Letter&#125;</code>：全词首字母大写的字符。</li>
<li><code>\p&#123;L&amp;&#125;</code>或<code>\p&#123;Cased_Letter&#125;</code>：存在大小写形式的字符（Ll, Lu, Lt的组合）。</li>
<li><code>\p&#123;Lm&#125;</code>或<code>\p&#123;Modifier_Letter&#125;</code>：<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/w/index.php?title=%E9%9F%B3%E6%A0%87%E4%BF%AE%E9%A5%B0%E5%AD%97%E7%AC%A6&action=edit&redlink=1">音标修饰字符</a>。</li>
<li><code>\p&#123;Lo&#125;</code>或<code>\p&#123;Other_Letter&#125;</code>：不具有大小写的字符或字形。</li>
</ul>
</li>
<li><p>附加符号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\p&#123;M&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>\p&#123;Mn&#125;</code>或<code>\p&#123;Non_Spacing_Mark&#125;</code>：与其他字符结合，不额外占用空间的字符，例如<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%97%A5%E8%80%B3%E6%9B%BC%E8%AA%9E%E5%85%83%E9%9F%B3%E8%AE%8A%E9%9F%B3">日耳曼语元音变音</a>。</li>
<li><code>\p&#123;Mc&#125;</code>或<code>\p&#123;Spacing_Combining_Mark&#125;</code>：与其他字符结合，额外占用空间的字符，例如<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%A6%AC%E6%8B%89%E9%9B%85%E6%8B%89%E5%A7%86%E6%96%87#%E5%85%83%E9%9F%B3%E5%AD%97%E6%AF%8D%E5%8F%8A%E9%99%84%E6%A0%87">马拉雅拉姆文#元音字母及附标</a>。</li>
<li><code>\p&#123;Me&#125;</code>或<code>\p&#123;Enclosing_Mark&#125;</code>：包含其他字符的字符，例如圆圈、方块。</li>
</ul>
</li>
<li><p>分隔符p{Z}</p>
<ul>
<li><code>\p&#123;Zs&#125;</code>或<code>\p&#123;Space_Separator&#125;</code>：a whitespace character that is invisible, but does take up space.</li>
<li><code>\p&#123;Zl&#125;</code>或<code>\p&#123;Line_Separator&#125;</code>：line separator character U+2028.</li>
<li><code>\p&#123;Zp&#125;</code>或<code>\p&#123;Paragraph_Separator&#125;</code>：paragraph separator character U+2029.</li>
</ul>
</li>
<li><p>符号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\p&#123;S&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>\p&#123;Sm&#125;</code>或<code>\p&#123;Math_Symbol&#125;</code>：数学符号。</li>
<li><code>\p&#123;Sc&#125;</code>或<code>\p&#123;Currency_Symbol&#125;</code>：通货符号。</li>
<li><code>\p&#123;Sk&#125;</code>或<code>\p&#123;Modifier_Symbol&#125;</code>：组合为其他字符的符号。</li>
<li><code>\p&#123;So&#125;</code>或<code>\p&#123;Other_Symbol&#125;</code>：其他符号。</li>
</ul>
</li>
<li><p>数值字符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\p&#123;N&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>\p&#123;Nd&#125;</code>或<code>\p&#123;Decimal_Digit_Number&#125;</code>：所有文本中的数字0至9字符，不含<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%BD%A2%E6%84%8F%E7%AC%A6%E5%8F%B7">形意符号</a>。</li>
<li><code>\p&#123;Nl&#125;</code>或<code>\p&#123;Letter_Number&#125;</code>：看起来像字母的符号，包含<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97">罗马数字</a>。</li>
<li><code>\p&#123;No&#125;</code>或<code>\p&#123;Other_Number&#125;</code>：上角标或下角标数字，或者其他不属于0至9的数字。不含<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%BD%A2%E6%84%8F%E7%AC%A6%E5%8F%B7">形意符号</a>。</li>
</ul>
</li>
<li><p>标点符号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\p&#123;P&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>\p&#123;Pd&#125;</code>或<code>\p&#123;Dash_Punctuation&#125;</code>：任何种类的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%BF%9E%E5%AD%97%E5%8F%B7">连字号</a>或<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%BF%9E%E6%8E%A5%E5%8F%B7">连接号</a>。</li>
<li><code>\p&#123;Ps&#125;</code>或<code>\p&#123;Open_Punctuation&#125;</code>：任何种类开<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8B%AC%E5%8F%B7">括号</a>。</li>
<li><code>\p&#123;Pe&#125;</code>或<code>\p&#123;Close_Punctuation&#125;</code>：任何种类闭括号。</li>
<li><code>\p&#123;Pi&#125;</code>或<code>\p&#123;Initial_Punctuation&#125;</code>：任何种类开<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%BC%95%E5%8F%B7">引号</a>。</li>
<li><code>\p&#123;Pf&#125;</code>或<code>\p&#123;Final_Punctuation&#125;</code>：任何种类闭引号。</li>
<li><code>\p&#123;Pc&#125;</code>或<code>\p&#123;Connector_Punctuation&#125;</code>：连接词的标点符号，如下划线。</li>
<li><code>\p&#123;Po&#125;</code>或<code>\p&#123;Other_Punctuation&#125;</code>：其他标点符号。</li>
</ul>
</li>
<li><p>其它符号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\p&#123;C&#125;</span><br></pre></td></tr></table></figure>

<p>（包括不可见控制字符与未用<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%A0%81%E4%BD%8D">码位</a>）</p>
<ul>
<li><code>\p&#123;Cc&#125;</code>或<code>\p&#123;Control&#125;</code>：<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/ASCII">ASCII</a>或<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Latin-1">Latin-1</a><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8E%A7%E5%88%B6%E5%AD%97%E7%AC%A6">控制字符</a><code>0x00-0x1F</code>与<code>0x7F-0x9F</code>。</li>
<li><code>\p&#123;Cf&#125;</code>或<code>\p&#123;Format&#125;</code>：不可见的格式化指示字符。</li>
<li><code>\p&#123;Co&#125;</code>或<code>\p&#123;Private_Use&#125;</code>：私用<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%A0%81%E4%BD%8D">码位</a>。</li>
<li><code>\p&#123;Cs&#125;</code>或<code>\p&#123;Surrogate&#125;</code>：<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/UTF-16">UTF-16</a>编码的代理对的一半。</li>
<li><code>\p&#123;Cn&#125;</code>或<code>\p&#123;Unassigned&#125;</code>：未被使用的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%A0%81%E4%BD%8D">码位</a>。</li>
</ul>
</li>
</ul>
<p>Unicode Block：按照编码区间划分Unicode字符，每个Unicode Block中的字符编码属于一个编码区间。例如Java语言<code>\p&#123; InCJK_Compatibility_Ideographs &#125;</code>，.NET语言<code>\p&#123;IsCJK_Compatibility_Ideographs&#125;</code>。</p>
<p>Unicode Script：按照字符所属的书写系统来划分Unicode字符。PHP和Ruby（版本不低于1.9）支持Unicode Script。例如<code>\p&#123;Han&#125;</code>表示汉字（中文字符）。</p>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>用户昵称的正则匹配, 合法的字符有<code> 0-9, A-Z, a-z, _, 汉字</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">IsValidEmailNickName</span><span class="params">(nickName <span class="keyword">string</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">	nickNamePattern := <span class="string">`^[_.a-z0-9A-Z\p&#123;Han&#125;]+$`</span></span><br><span class="line">	nickNameRegexp := regexp.MustCompile(nickNamePattern)</span><br><span class="line">	<span class="keyword">return</span> nickNameRegexp.MatchString(nickName)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>pythonic的NickName</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用户昵称的正则匹配, 合法的字符有 0-9, A-Z, a-z, _, 汉字</span></span><br><span class="line"><span class="comment">// 字符 &#x27;_&#x27; 只能出现在中间且不能重复, 如 &quot;__&quot;</span></span><br><span class="line">nicknamePattern = <span class="string">`^[a-z0-9A-Z\p&#123;Han&#125;]+(_[a-z0-9A-Z\p&#123;Han&#125;]+)*$`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用户名的正则匹配, 合法的字符有 0-9, A-Z, a-z, _</span></span><br><span class="line"><span class="comment">// 第一个字母不能为 _, 0-9</span></span><br><span class="line"><span class="comment">// 最后一个字母不能为 _, 且 _ 不能连续</span></span><br><span class="line">usernamePattern = <span class="string">`^[a-zA-Z][a-z0-9A-Z]*(_[a-z0-9A-Z]+)*$`</span></span><br></pre></td></tr></table></figure>

</div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>