<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=" id=&quot;进制转换的解释&quot;&gt;&lt;a href=&quot;#进制转换的解释&quot; class=&quot;headerlink&quot; title=&quot;进制转换的解释&quot;&gt;&lt;/a&gt;进制转换的解释&lt;/h2&gt;&lt;p&gt;&lt;code&gt;42705.685&lt;/code&gt;其实就是："><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>编码 隐匿在计算机软硬件背后的语言 | 凉薄的自动书记人偶</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Tags</a><a class="sidebar-nav-item" href="/About">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Computer-Organization/" rel="tag">Computer Organization</a></div><div class="post-time">2021-12-04</div></div></div><div class="container post-header"><h1>编码 隐匿在计算机软硬件背后的语言</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2%E7%9A%84%E8%A7%A3%E9%87%8A"><span class="toc-number">1.</span> <span class="toc-text">进制转换的解释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E4%BB%A3%E6%95%B0%E4%B8%8E%E7%94%B5%E8%B7%AF%E7%9A%84%E8%9E%8D%E5%90%88"><span class="toc-number">2.</span> <span class="toc-text">布尔代数与电路的融合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%A8"><span class="toc-number">3.</span> <span class="toc-text">门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E%E9%97%A8"><span class="toc-number">3.1.</span> <span class="toc-text">与门</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%96%E9%97%A8"><span class="toc-number">3.2.</span> <span class="toc-text">或门</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%90%91%E5%99%A8"><span class="toc-number">3.3.</span> <span class="toc-text">反向器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%96%E9%9D%9E%E9%97%A8"><span class="toc-number">3.4.</span> <span class="toc-text">或非门</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E%E9%9D%9E%E9%97%A8"><span class="toc-number">3.5.</span> <span class="toc-text">与非门</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E5%99%A8"><span class="toc-number">3.6.</span> <span class="toc-text">缓冲器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%8A%A0%E6%B3%95%E5%99%A8"><span class="toc-number">4.</span> <span class="toc-text">二进制加法器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E5%8A%A0%E6%B3%95%E6%8B%86%E5%88%86%E6%88%90%E5%8A%A0%E5%92%8C%E4%BD%8D%E5%92%8C%E8%BF%9B%E4%BD%8D%E4%BD%8D"><span class="toc-number">4.1.</span> <span class="toc-text">将加法拆分成加和位和进位位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%8A%E5%8A%A0%E5%99%A8"><span class="toc-number">4.2.</span> <span class="toc-text">半加器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%8A%A0%E5%99%A8"><span class="toc-number">4.3.</span> <span class="toc-text">全加器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%87%8F%E6%B3%95"><span class="toc-number">5.</span> <span class="toc-text">如何实现减法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8%E5%80%9F%E4%BD%8D%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">5.1.</span> <span class="toc-text">避免使用借位的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%97%B6%E6%94%AF%E6%8C%81%E5%8A%A0%E6%B3%95%E5%92%8C%E5%87%8F%E6%B3%95%E7%9A%84%E6%9C%BA%E5%99%A8"><span class="toc-number">5.2.</span> <span class="toc-text">同时支持加法和减法的机器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E9%A6%88%E4%B8%8E%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">6.</span> <span class="toc-text">反馈与触发器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%87%E8%8D%A1%E5%99%A8-%E6%97%B6%E9%92%9F"><span class="toc-number">6.1.</span> <span class="toc-text">震荡器(时钟)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E9%A6%88%E7%9A%84%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F"><span class="toc-number">6.2.</span> <span class="toc-text">反馈的连接方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#R-S%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">6.3.</span> <span class="toc-text">R-S触发器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%B5%E5%B9%B3D%E5%9E%8B%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">6.4.</span> <span class="toc-text">电平D型触发器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%81%E5%AD%98%E5%99%A8"><span class="toc-number">6.5.</span> <span class="toc-text">锁存器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%81%E5%AD%98%E5%99%A8%E4%B8%8E%E5%8A%A0%E6%B3%95%E5%99%A8%E7%BB%93%E5%90%88"><span class="toc-number">6.6.</span> <span class="toc-text">锁存器与加法器结合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E9%9B%B6%EF%BC%88Clear%EF%BC%89%E7%9A%84%E8%BE%93%E5%85%A5%E4%BF%A1%E5%8F%B7"><span class="toc-number">6.7.</span> <span class="toc-text">清零（Clear）的输入信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%B9%E6%B2%BF%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">6.8.</span> <span class="toc-text">边沿触发器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-%E5%9E%8B%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">6.9.</span> <span class="toc-text">D 型触发器</span></a></li></ol></li></ol></details></div><div class="container post-content"><h2 id="进制转换的解释"><a href="#进制转换的解释" class="headerlink" title="进制转换的解释"></a>进制转换的解释</h2><p><code>42705.685</code>其实就是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">4*10^4 + </span><br><span class="line">2*10^3 +</span><br><span class="line">7*10^2 +</span><br><span class="line">0*10^1 +</span><br><span class="line">5*10^0 +</span><br><span class="line">6*10^-1 +</span><br><span class="line">8*10^-2 +</span><br><span class="line">5*10^-3 +</span><br></pre></td></tr></table></figure>

<p>也就是说：</p>
<p><img src="/images/image-20211202150359378.png" alt="image-20211202150359378"></p>
<p>对于八进制<code>03725</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3*8^3</span><br><span class="line">7*8^2</span><br><span class="line">2*8^1</span><br><span class="line">5*8^0</span><br></pre></td></tr></table></figure>

<p>也就是说：</p>
<p><img src="/images/image-20211202150551682.png" alt="image-20211202150551682"></p>
<blockquote>
<ul>
<li>对于十进制，把第x位数上的数字y 理解成有y个10^x。</li>
<li>对于八进制，把第x位数上的数字y 理解成有y个8^x。</li>
<li>对于二进制，把第x位数上的数字y 理解成有y个2^x。</li>
</ul>
</blockquote>
<p>这就能解释为什么十进制的49等于八进制的61：</p>
<ul>
<li>49 = <code>4*10^1 + 9 *10^0</code> = <code>6*8^1 + 1*8^1</code></li>
<li>上述式子可以解释为：<code>4个10^1 加上 9个10^0</code> 等于 <code>6个8^1 加上 1个8^0</code></li>
</ul>
<p>同理，十进制的42，转成八进制是多少？</p>
<ul>
<li>解方程：42 = x*8^1 + y8^0</li>
<li>解得：x=5，y=2。</li>
<li>所以答案为52</li>
</ul>
<h2 id="布尔代数与电路的融合"><a href="#布尔代数与电路的融合" class="headerlink" title="布尔代数与电路的融合"></a>布尔代数与电路的融合</h2><blockquote>
<p>将布尔代数中的AND和OR和线路中的开关串联及并联关联到一起。</p>
</blockquote>
<p>最初当你走进宠物商店的时候，告诉店员：“我想要一只公猫，已绝育的，白色或褐色都可以；或者一只母猫，已绝育的，除了白色任何颜色都可以；或者一只黑猫。”店员会得出以下表达式：</p>
<p><code>(M × N × (W + T)) + (F × N × (1 - W)) + B</code></p>
<p><img src="/images/image-20211202203621290.png" alt="image-20211202203621290"></p>
<h2 id="门"><a href="#门" class="headerlink" title="门"></a>门</h2><h3 id="与门"><a href="#与门" class="headerlink" title="与门"></a>与门</h3><blockquote>
<p>两个继电器串联形成<code>与门</code>。</p>
</blockquote>
<p>上面图中，我们使用了开关表示布尔代数中的false和true。实际上，<strong>开关可以使用继电器来实现</strong>。</p>
<p><img src="/images/image-20211202214902703.png" alt="image-20211202214902703"></p>
<p>对于上面这张图，当左上的开关和左下的开关都闭合的时候，灯泡亮起。</p>
<p><img src="/images/image-20211202215001144.png" alt="image-20211202215001144"></p>
<blockquote>
<p>就像两个开关串联一样，这两个继电器也执行了逻辑操作。**只有当两个继电器都被触发的时候灯泡才会亮。这样两个继电器的串联被称为一个<code>与门</code>**。</p>
</blockquote>
<p>与门的表示：</p>
<p><img src="/images/image-20211202215148850.png" alt="image-20211202215148850"></p>
<p>上面的电路图可以使用如下的图表示：</p>
<p><img src="/images/image-20211202215437396.png" alt="image-20211202215437396"></p>
<p>三输入端与门：</p>
<p><img src="/images/image-20211202215713839.png" alt="image-20211202215713839"></p>
<h3 id="或门"><a href="#或门" class="headerlink" title="或门"></a>或门</h3><blockquote>
<p>两个继电器并联形成<code>或门</code>。</p>
</blockquote>
<p><img src="/images/image-20211202215946948.png" alt="image-20211202215946948"></p>
<p><img src="/images/image-20211202220010669.png" alt="image-20211202220010669"></p>
<h3 id="反向器"><a href="#反向器" class="headerlink" title="反向器"></a>反向器</h3><p>开关闭合，灯泡就会熄灭。以这种方式连接的继电器叫做反向器（inverter）。</p>
<blockquote>
<p>双掷继电器就是<code>反向器</code>。</p>
</blockquote>
<p><img src="/images/image-20211202220304741.png" alt="image-20211202220304741"></p>
<p>符号表示：</p>
<p><img src="/images/image-20211202220457528.png" alt="image-20211202220457528"></p>
<p>它能将0（低电平）转换为1（高电平），因此被称为反向器：</p>
<p><img src="/images/image-20211202220537966.png" alt="image-20211202220537966"></p>
<h3 id="或非门"><a href="#或非门" class="headerlink" title="或非门"></a>或非门</h3><p>和<code>或门</code>正好相反，在或门中，两个输入中有一个为1输出就为1，只有两个输入都为0，输出才为0。</p>
<p>或非门：<strong>两个输入都为0时，输出为1</strong>。</p>
<blockquote>
<p>或非门可以这么理解：一个或门 加一个 反向器</p>
</blockquote>
<p><img src="/images/image-20211204100919500.png" alt="image-20211204100919500"></p>
<p><img src="/images/image-20211203140727670.png" alt="image-20211203140727670"></p>
<p><img src="/images/image-20211203140745635.png" alt="image-20211203140745635"></p>
<h3 id="与非门"><a href="#与非门" class="headerlink" title="与非门"></a>与非门</h3><p>和<code>与门</code>恰恰相反。</p>
<p>与非门：<strong>只有两个输入都为1时，输出为0</strong></p>
<blockquote>
<p>与非门可以这么理解：一个与门 加一个 反向器</p>
</blockquote>
<p><img src="/images/image-20211204103828458.png" alt="image-20211204103828458"></p>
<p><img src="/images/image-20211203142025984.png" alt="image-20211203142025984"></p>
<blockquote>
<p>总结：</p>
<p><img src="/images/image-20211203142354933.png" alt="image-20211203142354933"></p>
</blockquote>
<h3 id="缓冲器"><a href="#缓冲器" class="headerlink" title="缓冲器"></a>缓冲器</h3><p><img src="/images/image-20211203142503345.png" alt="image-20211203142503345"></p>
<p><img src="/images/image-20211203142514733.png" alt="image-20211203142514733"></p>
<p><img src="/images/image-20211203142527731.png" alt="image-20211203142527731"></p>
<h2 id="二进制加法器"><a href="#二进制加法器" class="headerlink" title="二进制加法器"></a>二进制加法器</h2><h3 id="将加法拆分成加和位和进位位"><a href="#将加法拆分成加和位和进位位" class="headerlink" title="将加法拆分成加和位和进位位"></a>将加法拆分成<code>加和位</code>和<code>进位位</code></h3><p>二进制的加法表</p>
<table>
<thead>
<tr>
<th align="center">+</th>
<th align="center">0</th>
<th align="center">1</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">00</td>
<td align="center">01</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">01</td>
<td align="center">10</td>
</tr>
</tbody></table>
<p>一对二进制数相加的结果中具有两个数位，其中一位叫做加法位（sum bit），另一位则叫做进位位（carry bit.例如，1加1等于0，进位为1）。</p>
<p>下面我们将二进制数加法表分成两个表格。</p>
<p>第一个是表示加和的。</p>
<table>
<thead>
<tr>
<th align="center">+加法</th>
<th align="center">0</th>
<th align="center">1</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<p>第二个是表示进位的：</p>
<table>
<thead>
<tr>
<th align="center">+进位</th>
<th align="center">0</th>
<th align="center">1</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
</tbody></table>
<h3 id="半加器"><a href="#半加器" class="headerlink" title="半加器"></a>半加器</h3><p>我们发现进位表和与门的输出是一样的：</p>
<table>
<thead>
<tr>
<th align="center">AND</th>
<th align="center">0</th>
<th align="center">1</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
</tbody></table>
<p><strong>因此，利用与门可以计算两个二进制数加法的进位。</strong></p>
<p>对于加法表，很像或门（除了右下角）：</p>
<table>
<thead>
<tr>
<th align="center">OR</th>
<th align="center">0</th>
<th align="center">1</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
</tbody></table>
<p>也很像与非门（除了左上角）：</p>
<table>
<thead>
<tr>
<th align="center">NAND</th>
<th align="center">0</th>
<th align="center">1</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<p>下面我们将或门和与非门连接到相同的输入上，如下图所示。</p>
<p><img src="/images/image-20211203151510538.png" alt="image-20211203151510538"></p>
<p>下表总结了或门和与非门的输出，并将其与我们想要的结果进行对比</p>
<table>
<thead>
<tr>
<th align="center">输入A</th>
<th align="center">输入B</th>
<th align="center">与门输出</th>
<th align="center">与非门输出</th>
<th align="center">想要的结果</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
</tbody></table>
<p>我们想要的是1，那么这种情况只有在或门和与非门的输出都为1时，才会出现。这表明两个输出端可以通过一个与门连接在一起：</p>
<p><img src="/images/image-20211204092055938.png" alt="image-20211204092055938"></p>
<ul>
<li>实际上，这个电路有个专门的名称，叫做<code>异或门</code>，简写为<code>XOR</code>。</li>
<li>之所以称为异或门是因为若想其输出结果为1，<strong>要么仅让输入A为1，要么仅让输入B为1，两输入端都为</strong><br><strong>则输出为0</strong>。</li>
</ul>
<p><img src="/images/image-20211204092557370.png" alt="image-20211204092557370"></p>
<table>
<thead>
<tr>
<th align="center">XOR</th>
<th align="center">0</th>
<th align="center">1</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<blockquote>
<ul>
<li>同理还有<code>同或门</code>：只有当两个输入相同的时候，其输出才为1。</li>
<li>同或门的输出和异或门相反，即：<strong>同或门 = 异或门 + 反向器</strong></li>
</ul>
</blockquote>
<p><strong>两个二进制数相加的结果是由异或门的输出给出的，而进位位是由与门的输出给出的</strong>。因此我们可以将与门和异或门连在一起来计算两个二进制数（即A和B）的和。</p>
<p><img src="/images/image-20211204094155067.png" alt="image-20211204094155067"></p>
<p>简单表示如下：</p>
<p><img src="/images/image-20211204094226781.png" alt="image-20211204094226781"></p>
<blockquote>
<p>之所以被称为是<code>半加器</code>（HalfAdder），是因为它没有做到将之前一次的加法可能产生的进位位纳入下一次运算。</p>
</blockquote>
<h3 id="全加器"><a href="#全加器" class="headerlink" title="全加器"></a>全加器</h3><p>为了对三个二进制数进行加法运算，我们需要将两个半加器和一个或门做如下连接：</p>
<p><img src="/images/image-20211204095040047.png" alt="image-20211204095040047"></p>
<blockquote>
<p>为什么这里使用的是或门，而不是一个半加器？</p>
<p>半加器当然是可行的。但是如果你了解了所有的可能性之后，你会发现两个半加法器的进位输出是不会同时为1的。或门在这里已经足够，因为或门除了在输入都为1的时候以外，其他情况下结果和异或门结果相同。</p>
</blockquote>
<p>以上的图，我们使用<code>全加器</code>符号表示：</p>
<p><img src="/images/image-20211204100050690.png" alt="image-20211204100050690"></p>
<p>接着，我们就可以把八个全加器连接起来，制作一个<strong>8位的二进制加法器</strong>：</p>
<p><img src="/images/image-20211204104929611.png" alt="image-20211204104929611"></p>
<p>简记为：</p>
<p><img src="/images/image-20211204105300975.png" alt="image-20211204105300975"></p>
<p>把两个8位二进制加法器级联起来就可以很容易地扩展出一个16位加法器。</p>
<p><img src="/images/image-20211204105349984.png" alt="image-20211204105349984"></p>
<h2 id="如何实现减法"><a href="#如何实现减法" class="headerlink" title="如何实现减法"></a>如何实现减法</h2><h3 id="避免使用借位的方法"><a href="#避免使用借位的方法" class="headerlink" title="避免使用借位的方法"></a>避免使用借位的方法</h3><p>减法的借位非常恶心。<strong>为了避免使用借位</strong>，我们的计算方式如下。eg，计算253-176：</p>
<ol>
<li>使用999减去被减数，即999-253，得到823，称之为<code>补数</code></li>
<li>被减数加上补数，即253+823，得到1076</li>
<li>将1076加1，再减去1000，即1076+1-1000，得到77，即为结果。</li>
</ol>
<blockquote>
<p>原理：</p>
<p>253-176</p>
<ul>
<li>= 253 - 176 + 1000 - 1000</li>
<li>= 253 - 176 + (999 + 1) - 1000</li>
<li>= 253 + (999 - 176) + 1 - 1000</li>
</ul>
</blockquote>
<p>二进制数同理，eg，计算1111 1101 - 1011 0000：</p>
<ol>
<li>1111 1111(即255) - 1011 0000 = 0100 1111。(其实此时可以直接<code>按位取反</code>，得出结果。此结果称之为<code>反码</code>)</li>
<li>反码加上被减数，即 1111 1101 + 0100 1111 = 1 0100 1100</li>
<li>将上述结果加1，即 1 0100 1100 + 1 = 1 0100 1101</li>
<li>将上述结果减去1 0000 0000(即256)，即 1 0100 1101 - 1 0000 0000 = 0100 1101</li>
</ol>
<h3 id="同时支持加法和减法的机器"><a href="#同时支持加法和减法的机器" class="headerlink" title="同时支持加法和减法的机器"></a>同时支持加法和减法的机器</h3><p>现在我们要做一个同时支持加法和减法的机器：</p>
<p>加法器中新增的主要部分就是一个用来求8位二进制数对1补数的电路。之前提到，二进制数对1求补数相当于对其每位取反，因此我们计算8位二进制数补数的时候可以简单地应用8个反向器。</p>
<p><img src="/images/image-20211204114339731.png" alt="image-20211204114339731"></p>
<p>问题是，该电路只会对输入求反，而我们要的是一台既能做加法又能做减法的机器，因此就要求该电路<strong>当且仅当进行减法运算时才实现反转</strong>。电路可以改造为如下图所示。</p>
<p><img src="/images/image-20211204114435208.png" alt="image-20211204114435208"></p>
<blockquote>
<p>因为使用了异或门，如果“取反”信号是0，则8个异或门输出与输入相同。例如，如果输入是01100001，那么输出也为01100001。如果“取反”信号为1，则输出信号反置。例如，如果输入为01100001，输出则为10011110。</p>
</blockquote>
<p>将8个异或门合并起来画成一个器件，称为求补器（One’s Complement）：</p>
<p><img src="/images/image-20211204114837156.png" alt="image-20211204114837156"></p>
<p>将一个求补器，一个8位二进制加法器和一个异或门做如下连接。</p>
<p><img src="/images/image-20211204115136822.png" alt="image-20211204115136822"></p>
<blockquote>
<p>注意，这里三个信号都标识为“SUB”，这就是加/减法转换开关。当该信号为0的时候，其进行的是加法运算，为1时进行的则是减法运算。在减法中，输入B（第二排开关）在送入加法器之前，需先通过求补电路进行取反。</p>
<p>此外，在做减法时，<strong>我们通过设定CI（进位输入）为1来使得结果加1</strong>。而在加法中，求补电路将不起作用，且输入CI为0。</p>
<p>加法器的SUB信号和CO（进位输出）输出作为异或门的输入来控制表示上溢/下溢的灯泡。如果SUB信号为0（表示进行加法运算），则当加法器CO输出为1时灯亮，意思是加法计算结果大于255。当进行减法运算的时候，<strong>如果减数（输入B）小于被减数（输入A），这时加法器的CO输出为1。这表示减法的最后一步要减去100000000</strong>。也就是说减数要大于被减数，结果为负。上面所示器件现在还不能表示负数。因此，上溢/下溢指示灯仅在加法器的CO输出为0时才会亮起。</p>
</blockquote>
<h2 id="反馈与触发器"><a href="#反馈与触发器" class="headerlink" title="反馈与触发器"></a>反馈与触发器</h2><h3 id="震荡器-时钟"><a href="#震荡器-时钟" class="headerlink" title="震荡器(时钟)"></a>震荡器(时钟)</h3><p><img src="/images/image-20211204134551328.png" alt="image-20211204134551328"></p>
<p>从整个过程来看：开关一且闭合，金属簧片就会上下跳动——电路也会随之连通或断开——声音也就会随之发出。如果金属簧片发出了一种刺耳的声音，这套系统就成为了一个蜂鸣器。如果金属簧片前端是一把小锤子，旁边只要放上一个锣，就构成了一个电铃。</p>
<p>可以简化为：</p>
<p><img src="/images/image-20211204135031134.png" alt="image-20211204135031134"></p>
<blockquote>
<p>我们要牢牢记住，<strong>反向器在本质上就是一个继电器，而继电器将状态取反以得到另一个状态是需要一点点时间的</strong>。所以，即使输入和输出是相同的，输出也会很快地改变，成为输入的相反状态。</p>
</blockquote>
<p>电路的输出是什么呢？要么提供电压，要么不提供电压，在两者之间切换。我们也可以换种方式来表达——输出结果要么是0，要么是1。我们把这种电路称为<code>振荡器</code>（oscillator）。振荡器又被称为<code>时钟</code>，通过震荡进行计数也是一种计时方式。</p>
<p>当采用0和1的交替序列来表示振荡器的输出时，我们一般使用下面这样的图来形象地描述输出。</p>
<p><img src="/images/image-20211204135402819.png" alt="image-20211204135402819"></p>
<h3 id="反馈的连接方式"><a href="#反馈的连接方式" class="headerlink" title="反馈的连接方式"></a>反馈的连接方式</h3><p>下面是一个包含两个或非门、两个开关和一个灯泡的电路：</p>
<p><img src="/images/image-20211204141159449.png" alt="image-20211204141159449"></p>
<p>左边或非门的输出是右边或非门的输入而右边或非门的输出是左边或非门的输入。这种连接方式我们称之为<code>反馈</code>（feedback）。</p>
<ol>
<li>在初始状态下，电路中只有左边的或非门输出电流，这是因为其两个输入均为0。让我们闭合上面的开关，左边或非门将立刻输出0，右边或非门的输出也会随之变为1，这时灯泡将被点亮。</li>
<li>奇妙的是，这时一且你关闭上边的开关，灯炮依然闪闪发光。这是因为由于左边或非门的输入中有一个为1，其输出依然是0，因而左边或非门的输出不变，所以灯泡仍然亮着。</li>
<li>闭合下面的开关。我们会发现右边或非门的输入中有一个立刻变为1，其输出就相应地变为0，灯泡随之熄灭。左边或非门的输出此刻变为1。</li>
<li>这时你再去断开下面的开关就会发现，灯泡一直处在熄灭状态。</li>
</ol>
<p>总结：</p>
<ul>
<li>接通上面的开关，灯泡被点亮，断开此开关灯泡仍然亮着。</li>
<li>接通下面的开关，灯泡被熄灭，断开此开关灯泡仍然不亮。</li>
</ul>
<blockquote>
<p>电路的奇怪之处是：<strong>同样是在两个开关都断开的状态下，灯泡有时亮着，有时却不亮</strong>。</p>
<p><strong>当两个开关都断开时，电路有两个稳定态，这类电路统称为触发器</strong>（Flip-Flop）。</p>
</blockquote>
<p>触发器电路可以保持信息，它可以“记住”某些信息。特别地，它可以记在最近一次是哪个开关先闭合。如果你遇到这样一种触发器，</p>
<ul>
<li>如果它的灯泡是亮着的，你就可以推测出最后一次连通的是上面的开关；</li>
<li>而如果灯泡不亮则可推测出最后一次连通的是下面的开关。</li>
</ul>
<blockquote>
<p>触发器和跷跷板有着很强的相似性。跷跷板也有两个稳定状态，它不会长期停留在不稳定的中间位置。通过观察跷跷板，我们很容易推测出哪边最后一次被压下来。</p>
</blockquote>
<h3 id="R-S触发器"><a href="#R-S触发器" class="headerlink" title="R-S触发器"></a>R-S触发器</h3><p>R-S（Reset-Set，复位/置位）触发器：</p>
<p><img src="/images/image-20211204144318554.png" alt="image-20211204144318554"></p>
<ul>
<li>置位：将Q设置为1，将<code>Q反</code>设置为0。</li>
<li>复位：将Q设置为0，将<code>Q反</code>设置为1。</li>
</ul>
<p>R-S触发器可以简化为带有输入和输出标志的小框图：</p>
<p><img src="/images/image-20211204144951072.png" alt="image-20211204144951072"></p>
<p>R-S触发器最突出的特点在于，它可以记住哪个输入端的最终状态为1。但是有时候我们需要一种记忆能力更加强大的电路，例如能记住在某个特定时间点上的一个信号是0还是1。</p>
<h3 id="电平D型触发器"><a href="#电平D型触发器" class="headerlink" title="电平D型触发器"></a>电平D型触发器</h3><p>将电路的两个输入分成：</p>
<ul>
<li>数据端</li>
<li>保持位</li>
</ul>
<blockquote>
<p>保持位的作用就是使当前的状态被“记住”，通常情况下保持位被设置为0，在这种情况下数据端对电路不产生影响。当保持位置1时，数据端的值就会在电路系统中被“记住”。随后保持位又置为0，这时电路已经“记住”了数据端的最后一次输入，而<strong>之后数据端的输入无论如何变化都不会对电路产生影响</strong>。</p>
</blockquote>
<p><img src="/images/26963789-3fc61d1c79a2810e.png" alt="img"></p>
<p>上面电路，只要保持位输入为 0，则置位端对于输出结果不会有任何影响。保持位为 0，那么无论复位和置位为什么输出都为 0，传输到后续的电路时对应前面介绍的 R = 0，S = 0，Q 和 Q反保持原有状态。而这也保证了触发器不被外面的数据干扰，继续保持原先保存的那个比特。</p>
<p>当保持位输入为1时，上面的电路<strong>退化为前面的R-S触发器</strong>。这时由于上面与门的输出和复位端输入相同，而下面与门的输出和置位端输入相同，所以电路系统的功能和普通的R-S触发器是一样的。</p>
<p><img src="/images/37be541e-image-20211204144318554.png" alt="image-20211204144318554"></p>
<p>现在我们干掉置位和复位，使用一个数据端。如下图：</p>
<p><img src="/images/26963789-6d0f04cac7e164a3.png" alt="img"></p>
<p>可以看出只要保持位为 0，电路输出就丝毫不受输入端的影响。</p>
<p>当保持位为 1 时，电路反映出数据端输入的值。电路会 “记得” 当保持位最后一次置 1 时数据端输入的值</p>
<ul>
<li>数据端设置位1，则<code>Q</code>为1，<code>Q反</code>为0</li>
<li>数据端设置为0，则<code>Q</code>为0，<code>Q反</code>为1</li>
</ul>
<p>当保持位再次回到0，数据端的变化对电路没有影响，电路会保持刚刚的状态。</p>
<p>这个电路称为<code>电平触发的D型触发器</code>，D（Data）表示数据端输入。所谓电平触发是指<strong>当保持位输入为某一特定电平（本例中为 “1”）时，触发器才保存数据端的输入值</strong>。</p>
<blockquote>
<p>D 触发器可以用下列符号来代替：</p>
<p><img src="/images/26963789-7ebec47cbdc4c498.png" alt="img"></p>
<p>由于 <code>Q反</code>端舍弃不用，这里表示时也可不必画出输出线</p>
</blockquote>
<h3 id="锁存器"><a href="#锁存器" class="headerlink" title="锁存器"></a>锁存器</h3><p>上面的保持位输入就可以使用时钟代替，用来指示什么时候保存数据。</p>
<p><img src="/images/26963789-2cd3b7e6fc3f08ac.png" alt="img"></p>
<p>通常把数据端简写为 D，时钟端简写为 Clk，其功能表如下所示。</p>
<p><img src="/images/26963789-b62fb28469024b2e.png" alt="img"></p>
<p>这个电路也就是所谓的<code>电平触发的 D 型锁存器</code>，它表示电路<strong>锁存住一位数据并保持它</strong>，以便将来使用。这个电路也可以被称为 <code>1 位存储器</code>。</p>
<p>八位锁存器</p>
<p><img src="/images/26963789-1b0f4c0fcefb93a8.png" alt="img"></p>
<p>这个锁存器可以一次保存 8 位数。上面的 8 个输入端依次标记为 D0～D7，下面的 8 个输出端被标记为 Q0～Q7。左边的输入是时钟（Clk），时钟信号通常为 0。当时钟信号为 1 时，D 端输入的 8 位值被送到 Q 端输出。当时钟信号为 0 时，这 8 位值将保持不变，直到时钟信号再次被置 1。</p>
<h3 id="锁存器与加法器结合"><a href="#锁存器与加法器结合" class="headerlink" title="锁存器与加法器结合"></a>锁存器与加法器结合</h3><p>8 位加法器的 8 个 S 输出端既与灯泡相连，又连接到 8 位锁存器的数据（D）输入端。标记为 “保存”（Save）的开关是锁存器的时钟输入，用来存放加法器的运算结果。</p>
<p><img src="/images/26963789-df3524981c828bf5.png" alt="img"></p>
<p>标识为 2-1 选择器的方块是让你<strong>用一个开关来选择加法器的 B 端输入是取自第 2 排开关还是取自锁存器的 Q 端输出</strong>。当开关闭合时，就选择了用 8 位锁存器的输出作为 B 端输入。</p>
<blockquote>
<p>[了解] 2-1 选择器使用了 8 个如下所示的电路。</p>
<p><img src="/images/26963789-a8153e1868db62c4.png" alt="img"></p>
<p>如果选择端（Select）输入是 1，那么或门的输出和 B 端的输入就是一致的。如果选择端的输入是 0，那么或门的输出则和 A 端输入一致。总结起来如下表所示。</p>
<p><img src="/images/26963789-ddd94ddaaa84a8c4.png" alt="img"></p>
</blockquote>
<h3 id="清零（Clear）的输入信号"><a href="#清零（Clear）的输入信号" class="headerlink" title="清零（Clear）的输入信号"></a>清零（Clear）的输入信号</h3><p>清零信号通常为 0，但当它为 1 时，Q 输出为 0，如下图所示。</p>
<p><img src="/images/26963789-8481b4138bf670b7.png" alt="img"></p>
<p>使用如下：</p>
<p><img src="/images/26963789-62fdbda5500f3bee.png" alt="img"></p>
<ol>
<li>首先按下清零开关，这个操作会使锁存器的输出为 0，并且熄灭了所有的灯泡，同时使 8 位加法器的第 2 行输入全为 0。</li>
<li>然后，通过开关输入第一个加数，并且闭合 “相加” 开关，这个加数的值就反映在灯泡上。</li>
<li>再输入第二个加数并再次闭合 “相加” 开关。由开关输入的 8 位操作数加到前面的结果上，所得的和体现到灯泡上。</li>
<li>反复如此操作，可以连续进行很多次加运算。</li>
</ol>
<blockquote>
<p>通过锁存器能够实现将多个数的相加。例如我们要计算 1 + 2 + 3，初始在 A 端输入 1，由于锁存器清零，所以 B 端输出 0，经过加法器相加得到 1，存入锁存器。之后 A 端输入 2，B 端接通锁存器则 B 端输出 1，通过加法器得到 3，同样结果 3 存入加法器。后续类似，结果通过灯泡的亮灭表示（亮即为 1）。</p>
</blockquote>
<h3 id="边沿触发器"><a href="#边沿触发器" class="headerlink" title="边沿触发器"></a>边沿触发器</h3><ul>
<li>在电平触发器中，当时钟输入为 0 时，数据端输入的任何改变都不会影响输出；</li>
<li>在边沿触发器中，当时钟输入为 1 时，<strong>数据端输入的改变也不会影响输出</strong>。只有在时钟输入从 0 变到 1 的瞬间，数据端的输入才会影响边沿触发器的输出。也就是<strong>只有时钟端从低到高，或者从高到低变化的瞬间触发</strong>。</li>
</ul>
<blockquote>
<p>示例：如果从 t0 时刻开始，数据端（D）和时钟端（CP）各自出现了下图所示的脉冲，那么，在 t1 时刻，触发器保存的是 0 还是 1？</p>
<p><img src="/images/26963789-7563c5459c365ac3.png" alt="img"></p>
<p>触发器里保存的是比特 “0”。很明显，在时钟端为 1 期间，只要数据端（D）的比特改变了，触发器就会随时触发。也就是说，我们在存储过程中数据不能发生任何变化，否则触发器可能存入的不是我们想要存入的值。</p>
</blockquote>
<p>从 0 翻转到 1，或者从 1 翻转到 0，这个变化过程称为 “跳变” 或者 “翻转”。时钟端的跳变需要一个过程，可能是几个纳秒，尽管非常非常短暂，但实际上是存在的。反映在图像上，就是两个边沿，即上升沿和下降沿。</p>
<p><img src="/images/26963789-41928b6edd83b434.png" alt="img"></p>
<p>所以，边沿触发还分为<code>上升沿触发器</code>和<code>下降沿触发器</code>。</p>
<h3 id="D-型触发器"><a href="#D-型触发器" class="headerlink" title="D 型触发器"></a>D 型触发器</h3><p>边沿触发的D 型触发器是由两级R-S触发器连接而成的：</p>
<p><img src="/images/26963789-9385c8ac4fa40645.png" alt="img"></p>
<p>上述是触发器的具体电路，当然我们也可以采用前面介绍过的符号去替代表示：</p>
<p><img src="/images/26963789-a659274b167f0cb9.png" alt="img"></p>
</div></div></article><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>