<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=" id=&quot;包装类&quot;&gt;&lt;a href=&quot;#包装类&quot; class=&quot;headerlink&quot; title=&quot;包装类&quot;&gt;&lt;/a&gt;包装类&lt;/h2&gt;&lt;p&gt;Java是面向对象的语言，但并不是&lt;code&gt;纯面向对象&lt;/code&gt;的，因为我们经常用到的&lt;strong&gt;基本数据类型就不是对象&lt;/strong&gt;。"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>Java300集2_常用类与容器 | 凉薄的自动书记人偶</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Tags</a><a class="sidebar-nav-item" href="/About">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Java/" rel="tag">Java</a></div><div class="post-time">2022-05-30</div></div></div><div class="container post-header"><h1>Java300集2_常用类与容器</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%85%E8%A3%85%E7%B1%BB"><span class="toc-number">1.</span> <span class="toc-text">包装类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E3%80%81%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E3%80%81%E5%8C%85%E8%A3%85%E7%B1%BB%E4%BA%92%E8%BD%AC"><span class="toc-number">1.1.</span> <span class="toc-text">字符串、基本类型、包装类互转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E8%A3%85%E7%AE%B1%E5%92%8C%E6%8B%86%E7%AE%B1"><span class="toc-number">1.2.</span> <span class="toc-text">自动装箱和拆箱</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%E8%A3%85%E7%B1%BB%E7%9A%84%E7%BC%93%E5%AD%98%E9%97%AE%E9%A2%98"><span class="toc-number">1.3.</span> <span class="toc-text">包装类的缓存问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%9B%B8%E5%85%B3%E7%B1%BB%E7%9A%84%E8%BD%AC%E5%8C%96%E5%85%B3%E7%B3%BB"><span class="toc-number">2.</span> <span class="toc-text">时间相关类的转化关系</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Date%E6%97%B6%E9%97%B4%E7%B1%BB-java-util-Date"><span class="toc-number">3.</span> <span class="toc-text">Date时间类(java.util.Date)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DateFormat%E7%B1%BB%E5%92%8CSimpleDateFormat%E7%B1%BB"><span class="toc-number">4.</span> <span class="toc-text">DateFormat类和SimpleDateFormat类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Calendar%E6%97%A5%E5%8E%86%E7%B1%BB"><span class="toc-number">5.</span> <span class="toc-text">Calendar日历类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Math%E7%B1%BB"><span class="toc-number">6.</span> <span class="toc-text">Math类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Random%E7%B1%BB"><span class="toc-number">7.</span> <span class="toc-text">Random类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#File%E7%B1%BB"><span class="toc-number">8.</span> <span class="toc-text">File类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-number">9.</span> <span class="toc-text">枚举</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8"><span class="toc-number">10.</span> <span class="toc-text">异常</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%88%86%E7%B1%BB"><span class="toc-number">10.1.</span> <span class="toc-text">异常分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%BC%82%E5%B8%B8-throws%E5%AD%90%E5%8F%A5"><span class="toc-number">10.2.</span> <span class="toc-text">声明异常(throws子句)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="toc-number">10.3.</span> <span class="toc-text">自定义异常</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%BC%82%E5%B8%B8%E6%9C%BA%E5%88%B6%E7%9A%84%E5%BB%BA%E8%AE%AE"><span class="toc-number">10.4.</span> <span class="toc-text">使用异常机制的建议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8"><span class="toc-number">11.</span> <span class="toc-text">容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-number">11.1.</span> <span class="toc-text">泛型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList%E7%9A%84%E6%8E%A5%E5%8F%A3"><span class="toc-number">11.2.</span> <span class="toc-text">ArrayList的接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set%E5%92%8CList%E7%9A%84%E6%8E%A5%E5%8F%A3"><span class="toc-number">11.3.</span> <span class="toc-text">Set和List的接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList%E7%89%B9%E7%82%B9%E5%92%8C%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.4.</span> <span class="toc-text">ArrayList特点和底层实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vector%E5%90%91%E9%87%8F"><span class="toc-number">11.5.</span> <span class="toc-text">Vector向量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E9%80%89%E7%94%A8ArrayList%E3%80%81LinkedList%E3%80%81Vector"><span class="toc-number">11.6.</span> <span class="toc-text">如何选用ArrayList、LinkedList、Vector</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map%E6%8E%A5%E5%8F%A3"><span class="toc-number">11.7.</span> <span class="toc-text">Map接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HashMap%E5%92%8CHashTable"><span class="toc-number">11.8.</span> <span class="toc-text">HashMap和HashTable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HashMap%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0%E8%AF%A6%E8%A7%A3"><span class="toc-number">11.9.</span> <span class="toc-text">HashMap底层实现详解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%A2%E9%BB%91%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-number">11.10.</span> <span class="toc-text">红黑二叉树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TreeMap%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.11.</span> <span class="toc-text">TreeMap的使用和底层实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set%E6%8E%A5%E5%8F%A3"><span class="toc-number">11.12.</span> <span class="toc-text">Set接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HashSet%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">11.13.</span> <span class="toc-text">HashSet基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HashSet%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.14.</span> <span class="toc-text">HashSet底层实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TreeSet%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.15.</span> <span class="toc-text">TreeSet的使用和底层实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Iterator%E8%BF%AD%E4%BB%A3%E5%99%A8%E9%81%8D%E5%8E%86%E5%AE%B9%E5%99%A8%E5%85%83%E7%B4%A0-List-Set-Map"><span class="toc-number">12.</span> <span class="toc-text">使用Iterator迭代器遍历容器元素(List&#x2F;Set&#x2F;Map)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E9%81%8D%E5%8E%86List"><span class="toc-number">12.1.</span> <span class="toc-text">迭代器遍历List</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E9%81%8D%E5%8E%86Set"><span class="toc-number">12.2.</span> <span class="toc-text">迭代器遍历Set</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E9%81%8D%E5%8E%86Map%E4%B8%80"><span class="toc-number">12.3.</span> <span class="toc-text">迭代器遍历Map一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E9%81%8D%E5%8E%86Map%E4%BA%8C"><span class="toc-number">12.4.</span> <span class="toc-text">迭代器遍历Map二</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E9%9B%86%E5%90%88%E7%9A%84%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93"><span class="toc-number">13.</span> <span class="toc-text">遍历集合的方法总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86List%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%99%AE%E9%80%9Afor%E5%BE%AA%E7%8E%AF"><span class="toc-number">13.1.</span> <span class="toc-text">遍历List方法一：普通for循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86List%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%A2%9E%E5%BC%BAfor%E5%BE%AA%E7%8E%AF-%E4%BD%BF%E7%94%A8%E6%B3%9B%E5%9E%8B"><span class="toc-number">13.2.</span> <span class="toc-text">遍历List方法二：增强for循环(使用泛型!)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86List%E6%96%B9%E6%B3%95%E4%B8%89%EF%BC%9A%E4%BD%BF%E7%94%A8Iterator%E8%BF%AD%E4%BB%A3%E5%99%A8-1"><span class="toc-number">13.3.</span> <span class="toc-text">遍历List方法三：使用Iterator迭代器(1)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86List%E6%96%B9%E6%B3%95%E5%9B%9B%EF%BC%9A%E4%BD%BF%E7%94%A8Iterator%E8%BF%AD%E4%BB%A3%E5%99%A8-2"><span class="toc-number">13.4.</span> <span class="toc-text">遍历List方法四：使用Iterator迭代器(2)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86Set%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E5%A2%9E%E5%BC%BAfor%E5%BE%AA%E7%8E%AF"><span class="toc-number">13.5.</span> <span class="toc-text">遍历Set方法一：增强for循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86Set%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E4%BD%BF%E7%94%A8Iterator%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">13.6.</span> <span class="toc-text">遍历Set方法二：使用Iterator迭代器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86Map%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%A0%B9%E6%8D%AEkey%E8%8E%B7%E5%8F%96value"><span class="toc-number">13.7.</span> <span class="toc-text">遍历Map方法一：根据key获取value</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86Map%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E4%BD%BF%E7%94%A8entrySet"><span class="toc-number">13.8.</span> <span class="toc-text">遍历Map方法二：使用entrySet</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Collections%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-number">14.</span> <span class="toc-text">Collections工具类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">15.</span> <span class="toc-text">总结</span></a></li></ol></details></div><div class="container post-content"><h2 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h2><p>Java是面向对象的语言，但并不是<code>纯面向对象</code>的，因为我们经常用到的<strong>基本数据类型就不是对象</strong>。</p>
<p>但是我们在实际应用中经常需要将基本数据转化成对象，以便于操作。比如：将基本数据类型存储到Object[]数组或集合中的操作等等。</p>
<p>为了解决这个不足，Java在设计类时为每个基本数据类型设计了一个对应的类进行代表，这样八个和基本数据类型对应的类统称为<code>包装类(Wrapper Class)</code>。</p>
<p><img src="/images/1495593568889579.png" alt=".png"></p>
<blockquote>
<p>在这八个类名中，除了Integer和Character类以外，其它六个类的类名和基本数据类型一致，只是类名的第一个字母大写而已。</p>
</blockquote>
<ul>
<li>在这八个类中，除了Character和Boolean以外，其他的都是<code>数字型</code>，</li>
<li>“数字型”都是java.lang.Number的子类。Number类是抽象类，因此它的抽象方法，所有子类都需要提供实现。</li>
<li>Number类提供了抽象方法：intValue()、longValue()、floatValue()、doubleValue()，意味着所有的“数字型”包装类都可以互相转型。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WrapperClassTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Integer i = <span class="keyword">new</span> Integer(<span class="number">10</span>);</span><br><span class="line">        Integer j = <span class="keyword">new</span> Integer(<span class="number">50</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/images/1495593796672168.png" alt=".png"></p>
<h3 id="字符串、基本类型、包装类互转"><a href="#字符串、基本类型、包装类互转" class="headerlink" title="字符串、基本类型、包装类互转"></a>字符串、基本类型、包装类互转</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*基本类型转为包装类*/</span></span><br><span class="line">        Integer a = <span class="keyword">new</span> Integer(<span class="number">3</span>);</span><br><span class="line">        <span class="comment">/*包装类转为基本类型*/</span></span><br><span class="line">        <span class="keyword">int</span> b = a.intValue();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*包装类转为double基本数据类型*/</span></span><br><span class="line">        <span class="keyword">double</span> c = a.doubleValue();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*把字符串转为包装类*/</span></span><br><span class="line">        Integer d = <span class="keyword">new</span> Integer(<span class="string">&quot;9999&quot;</span>);</span><br><span class="line">        Integer e = Integer.parseInt(<span class="string">&quot;9998&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*包装类转为字符串*/</span></span><br><span class="line">        String str = e.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="自动装箱和拆箱"><a href="#自动装箱和拆箱" class="headerlink" title="自动装箱和拆箱"></a>自动装箱和拆箱</h3><p>自动装箱和拆箱就是将<code>基本数据类型</code>和<code>包装类</code>之间进行自动的互相转换。</p>
<p>自动装箱过程是通过调用包装类的valueOf()方法实现的，而自动拆箱过程是通过调用包装类的 xxxValue()方法实现的(xxx代表对应的基本数据类型，如intValue()、doubleValue()等)。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自动装箱</span></span><br><span class="line">Integer i = <span class="number">100</span>;</span><br><span class="line"><span class="comment">//相当于编译器自动为您作以下的语法编译：</span></span><br><span class="line">Integer i = Integer.valueOf(<span class="number">100</span>);<span class="comment">//调用的是valueOf(100)，而不是new Integer(100)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//自动拆箱</span></span><br><span class="line">Integer i = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">int</span> j = i;</span><br><span class="line"><span class="comment">//相当于编译器自动为您作以下的语法编译：</span></span><br><span class="line"><span class="keyword">int</span> j = i.intValue();</span><br></pre></td></tr></table></figure>



<h3 id="包装类的缓存问题"><a href="#包装类的缓存问题" class="headerlink" title="包装类的缓存问题"></a>包装类的缓存问题</h3><ul>
<li>整型、char类型所对应的包装类，在自动装箱时，对于-128~127之间的值会进行缓存处理，其目的是提高效率。</li>
<li>缓存处理的原理为：如果数据在-128~127这个区间，那么在类加载时就已经为该区间的每个数值创建了对象，并<strong>将这256个对象存放到一个名为cache的数组中</strong>。每当自动装箱过程发生时(或者手动调用valueOf()时)，就会先判断数据是否在该区间，如果在则直接获取数组中对应的包装类对象的引用，如果不在该区间，则会通过new调用包装类的构造方法来创建对象。</li>
</ul>
<h2 id="时间相关类的转化关系"><a href="#时间相关类的转化关系" class="headerlink" title="时间相关类的转化关系"></a>时间相关类的转化关系</h2><p><img src="/images/1495607947529028.png" alt="1495607947529028"></p>
<h2 id="Date时间类-java-util-Date"><a href="#Date时间类-java-util-Date" class="headerlink" title="Date时间类(java.util.Date)"></a>Date时间类(java.util.Date)</h2><ol>
<li>Date() 分配一个Date对象，并初始化此对象为系统当前的日期和时间，可以精确到毫秒)。</li>
<li>Date(long date) 分配 Date 对象并初始化此对象，时间戳</li>
<li>boolean after(Date when) 测试此日期是否在指定日期之后。</li>
<li>boolean before(Date when) 测试此日期是否在指定日期之前。</li>
<li>boolean equals(Object obj) 比较两个日期的相等性。</li>
<li>long getTime() 返回自 1970 年 1 月 1 日 00:00:00 GMT 以来此 Date 对象表示的毫秒数。</li>
<li>String toString() 把此 Date 对象转换为以下形式的 String：<br> dow mon dd hh:mm:ss zzz yyyy 其中： dow 是一周中的某一天 (Sun、 Mon、Tue、Wed、 Thu、 Fri、 Sat)。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Date d = <span class="keyword">new</span> Date();</span><br><span class="line">        System.out.println(d);  <span class="comment">/*Mon Sep 23 11:45:57 CST 2019*/</span></span><br><span class="line">        System.out.println(d.getTime());  <span class="comment">/*1569210357871*/</span></span><br><span class="line">        </span><br><span class="line">        Date d2 = <span class="keyword">new</span> Date(<span class="number">2000</span>);</span><br><span class="line">        System.out.println(d2.getTime());  <span class="comment">/*2000*/</span></span><br><span class="line"></span><br><span class="line">        Date d3 = <span class="keyword">new</span> Date(<span class="number">2020</span>-<span class="number">1900</span>,<span class="number">9</span>,<span class="number">21</span>); <span class="comment">/*2020年10月21日*/</span></span><br><span class="line">        System.out.println(d3.getTime());  <span class="comment">/*1602259200000*/</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="DateFormat类和SimpleDateFormat类"><a href="#DateFormat类和SimpleDateFormat类" class="headerlink" title="DateFormat类和SimpleDateFormat类"></a>DateFormat类和SimpleDateFormat类</h2><p>DateFormat类的作用</p>
<ul>
<li>把时间对象转化成指定格式的字符串。反之，把指定格式的字符串转化成时间对象。</li>
<li>DateFormat是一个抽象类，一般使用它的子类SimpleDateFormat类来实现。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.ParseException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line"></span><br><span class="line">        SimpleDateFormat s1 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>);</span><br><span class="line">        SimpleDateFormat s2 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd&quot;</span>);</span><br><span class="line"></span><br><span class="line">        String daytime = s1.format(<span class="keyword">new</span> Date());</span><br><span class="line">        System.out.println(daytime);  <span class="comment">/*2019-09-23 11:53:43*/</span></span><br><span class="line">        System.out.println(s2.format(<span class="keyword">new</span> Date()));  <span class="comment">/*2019-09-23*/</span></span><br><span class="line">        System.out.println(<span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;hh:mm:ss&quot;</span>).format(<span class="keyword">new</span> Date()));  <span class="comment">/*11:53:43*/</span></span><br><span class="line"></span><br><span class="line">        String time = <span class="string">&quot;2007-10-7&quot;</span>;</span><br><span class="line">        Date date = s2.parse(time);</span><br><span class="line">        System.out.println(<span class="string">&quot;date1: &quot;</span> + date);  <span class="comment">/*date1: Sun Oct 07 00:00:00 CST 2007*/</span></span><br><span class="line">        </span><br><span class="line">        time = <span class="string">&quot;2007-10-7 20:15:30&quot;</span>;</span><br><span class="line">        date = s1.parse(time);</span><br><span class="line">        System.out.println(<span class="string">&quot;date2: &quot;</span> + date);  <span class="comment">/*date2: Sun Oct 07 20:15:30 CST 2007*/</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>format : 时间对象转为字符串</li>
<li>parse : 字符串转为时间对象</li>
</ul>
<p>有点类似于Python中的<code>strftime()</code>和<code>strptime()</code></p>
<h2 id="Calendar日历类"><a href="#Calendar日历类" class="headerlink" title="Calendar日历类"></a>Calendar日历类</h2><p>Calendar 类是一个抽象类，为我们提供了关于日期计算的相关功能，比如：年、月、日、时、分、秒的展示和计算。</p>
<p>GregorianCalendar 是 Calendar 的一个具体子类，提供了世界上大多数国家/地区使用的标准日历系统。</p>
<ul>
<li>注意月份的表示，一月是0，二月是1，以此类推，12月是11。 </li>
<li>因为大多数人习惯于使用单词而不是使用数字来表示月份，这样程序也许更易读，父类Calendar使用常量来表示月份：JANUARY、FEBRUARY等等。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.GregorianCalendar;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*获取日期相关的元素*/</span></span><br><span class="line">        Calendar calendar = <span class="keyword">new</span> GregorianCalendar(<span class="number">2019</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">22</span>, <span class="number">10</span>, <span class="number">55</span>);</span><br><span class="line">        System.out.println(calendar);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> year = calendar.get(Calendar.YEAR);</span><br><span class="line">        <span class="keyword">int</span> month = calendar.get(Calendar.MONTH);</span><br><span class="line">        <span class="keyword">int</span> day = calendar.get(Calendar.DATE);</span><br><span class="line">        <span class="keyword">int</span> week = calendar.get(Calendar.DAY_OF_WEEK);</span><br><span class="line">        System.out.println(year);</span><br><span class="line">        System.out.println(week);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*设置日期的相关元素*/</span></span><br><span class="line">        Calendar calendar2 = <span class="keyword">new</span> GregorianCalendar();</span><br><span class="line">        System.out.println(calendar2.get(Calendar.YEAR)); <span class="comment">/*2019*/</span></span><br><span class="line">        calendar2.set(Calendar.YEAR, <span class="number">2020</span>); <span class="comment">// 设置年份</span></span><br><span class="line">        System.out.println(calendar2.get(Calendar.YEAR)); <span class="comment">/*2020*/</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/*日期的计算*/</span></span><br><span class="line">        Calendar calendar3 = <span class="keyword">new</span> GregorianCalendar();</span><br><span class="line">        System.out.println(calendar3.get(Calendar.DATE)); <span class="comment">/*23*/</span></span><br><span class="line">        calendar3.add(Calendar.DATE, <span class="number">3</span>); <span class="comment">// 增加三天</span></span><br><span class="line">        System.out.println(calendar3.get(Calendar.DATE)); <span class="comment">/*26*/</span></span><br><span class="line">        calendar3.add(Calendar.DATE, -<span class="number">3</span>); <span class="comment">// 减少三天</span></span><br><span class="line">        System.out.println(calendar3.get(Calendar.DATE)); <span class="comment">/*23*/</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 日期对象和时间对象的转化</span></span><br><span class="line">        Calendar c = <span class="keyword">new</span> GregorianCalendar(); <span class="comment">// 创建日期对象</span></span><br><span class="line">        Date d = c.getTime(); <span class="comment">// 日期对象转为时间对象</span></span><br><span class="line">        System.out.println(d); <span class="comment">// Mon Sep 23 20:02:55 CST 2019</span></span><br><span class="line"></span><br><span class="line">        Calendar c2 = <span class="keyword">new</span> GregorianCalendar(); <span class="comment">// 创建日期对象</span></span><br><span class="line">        c2.setTime(<span class="keyword">new</span> Date()); <span class="comment">// 将当前时间对象转为日期对象</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Math类"><a href="#Math类" class="headerlink" title="Math类"></a>Math类</h2><p>java.lang.Math提供了一系列静态方法用于科学计算;其方法的参数和返回值类型一般为double型。如果需要更加强大的数学运算能力，计算高等数学中的相关内容，可以使用apache commons下面的Math类库。</p>
<ol>
<li><p>abs 绝对值</p>
</li>
<li><p>acos,asin,atan,cos,sin,tan 三角函数</p>
</li>
<li><p>sqrt 平方根</p>
</li>
<li><p>pow(double a, double b) a的b次幂</p>
</li>
<li><p>max(double a, double b) 取大值</p>
</li>
<li><p>min(double a, double b) 取小值</p>
</li>
<li><p>ceil(double a) 大于a的最小整数</p>
</li>
<li><p>floor(double a) 小于a的最大整数</p>
</li>
<li><p>random() 返回 0.0 到 1.0 的随机数</p>
</li>
<li><p>long round(double a) double型的数据a转换为long型(四舍五入)</p>
</li>
<li><p>toDegrees(double angrad) 弧度-&gt;角度</p>
</li>
<li><p>toRadians(double angdeg) 角度-&gt;弧度</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestMath</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//取整相关操作</span></span><br><span class="line">        System.out.println(Math.ceil(<span class="number">3.2</span>));</span><br><span class="line">        System.out.println(Math.floor(<span class="number">3.2</span>));</span><br><span class="line">        System.out.println(Math.round(<span class="number">3.2</span>));</span><br><span class="line">        System.out.println(Math.round(<span class="number">3.8</span>));</span><br><span class="line">        <span class="comment">//绝对值、开方、a的b次幂等操作</span></span><br><span class="line">        System.out.println(Math.abs(-<span class="number">45</span>));</span><br><span class="line">        System.out.println(Math.sqrt(<span class="number">64</span>));</span><br><span class="line">        System.out.println(Math.pow(<span class="number">5</span>, <span class="number">2</span>));</span><br><span class="line">        System.out.println(Math.pow(<span class="number">2</span>, <span class="number">5</span>));</span><br><span class="line">        <span class="comment">//Math类中常用的常量</span></span><br><span class="line">        System.out.println(Math.PI);</span><br><span class="line">        System.out.println(Math.E);</span><br><span class="line">        <span class="comment">//随机数</span></span><br><span class="line">        System.out.println(Math.random());<span class="comment">// [0,1)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Random类"><a href="#Random类" class="headerlink" title="Random类"></a>Random类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestRandom</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Random rand = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="comment">//随机生成[0,1)之间的double类型的数据</span></span><br><span class="line">        System.out.println(rand.nextDouble());</span><br><span class="line">        <span class="comment">//随机生成int类型允许范围之内的整型数据</span></span><br><span class="line">        System.out.println(rand.nextInt());</span><br><span class="line">        <span class="comment">//随机生成[0,1)之间的float类型的数据</span></span><br><span class="line">        System.out.println(rand.nextFloat());</span><br><span class="line">        <span class="comment">//随机生成false或者true</span></span><br><span class="line">        System.out.println(rand.nextBoolean());</span><br><span class="line">        <span class="comment">//随机生成[0,10)之间的int类型的数据</span></span><br><span class="line">        System.out.print(rand.nextInt(<span class="number">10</span>));</span><br><span class="line">        <span class="comment">//随机生成[20,30)之间的int类型的数据</span></span><br><span class="line">        System.out.print(<span class="number">20</span> + rand.nextInt(<span class="number">10</span>));</span><br><span class="line">        <span class="comment">//随机生成[20,30)之间的int类型的数据（此种方法计算较为复杂）</span></span><br><span class="line">        System.out.print(<span class="number">20</span> + (<span class="keyword">int</span>) (rand.nextDouble() * <span class="number">10</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h2><p>java.io.File类：代表文件和目录。在开发中，读取文件、生成文件、删除文件、修改文件的属性时经常会用到本类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestFile1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(System.getProperty(<span class="string">&quot;user.dir&quot;</span>));</span><br><span class="line">        File f = <span class="keyword">new</span> File(<span class="string">&quot;a.txt&quot;</span>); <span class="comment">//相对路径：默认放到user.dir目录下面</span></span><br><span class="line">        f.createNewFile();<span class="comment">//创建文件</span></span><br><span class="line">        File f2 = <span class="keyword">new</span> File(<span class="string">&quot;d:/b.txt&quot;</span>);<span class="comment">//绝对路径</span></span><br><span class="line">        f2.createNewFile();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>File类访问属性的方法列表：</p>
<p><img src="/images/1495611382530451.png" alt=".png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestFile2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        File f = <span class="keyword">new</span> File(<span class="string">&quot;d:/b.txt&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;File是否存在：&quot;</span>+f.exists());</span><br><span class="line">        System.out.println(<span class="string">&quot;File是否是目录：&quot;</span>+f.isDirectory());</span><br><span class="line">        System.out.println(<span class="string">&quot;File是否是文件：&quot;</span>+f.isFile());</span><br><span class="line">        <span class="comment">// f.lastModified()返回long , 使用Date将其转为时间对象</span></span><br><span class="line">        System.out.println(<span class="string">&quot;File最后修改时间：&quot;</span> + <span class="keyword">new</span> Date(f.lastModified())); </span><br><span class="line">        System.out.println(<span class="string">&quot;File的大小：&quot;</span>+f.length());</span><br><span class="line">        System.out.println(<span class="string">&quot;File的文件名：&quot;</span>+f.getName());</span><br><span class="line">        System.out.println(<span class="string">&quot;File的目录路径：&quot;</span>+f.getPath());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>通过File对象创建空文件或目录(在该对象所指的文件或目录不存在的情况下)：</p>
<p><img src="/images/1495611400819053.png" alt=".png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestFile3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        File f = <span class="keyword">new</span> File(<span class="string">&quot;d:/c.txt&quot;</span>);</span><br><span class="line">        f.createNewFile(); <span class="comment">// 会在d盘下面生成c.txt文件</span></span><br><span class="line">        f.delete(); <span class="comment">// 将该文件或目录从硬盘上删除</span></span><br><span class="line">        File f2 = <span class="keyword">new</span> File(<span class="string">&quot;d:/电影/华语/大陆&quot;</span>);</span><br><span class="line">        <span class="comment">// 目录结构中有一个不存在，则不会创建整个目录树,</span></span><br><span class="line">        <span class="comment">// 也就是说必须有/电影/华语,才能创建/大陆</span></span><br><span class="line">        <span class="keyword">boolean</span> flag = f2.mkdir(); </span><br><span class="line">        System.out.println(flag);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>使用递归算法，以树状结构展示目录树：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestFile6</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        File f = <span class="keyword">new</span> File(<span class="string">&quot;d:/电影&quot;</span>);</span><br><span class="line">        printFile(f, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 打印文件信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> file 文件名称</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> level 层次数(实际就是：第几次递归调用)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printFile</span><span class="params">(File file, <span class="keyword">int</span> level)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//输出层次数</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; level; i++) &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//输出文件名</span></span><br><span class="line">        System.out.println(file.getName());</span><br><span class="line">        <span class="comment">//如果file是目录，则获取子文件列表，并对每个子文件进行相同的操作</span></span><br><span class="line">        <span class="keyword">if</span> (file.isDirectory()) &#123;</span><br><span class="line">            File[] files = file.listFiles();</span><br><span class="line">            <span class="keyword">for</span> (File temp : files) &#123;</span><br><span class="line">                <span class="comment">//递归调用该方法：注意等+1</span></span><br><span class="line">                printFile(temp, level + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h2><p>枚举体就是放置一些常量。所有的枚举类型隐性地继承自 java.lang.Enum。</p>
<p>枚举实质上还是类!而每个被枚举的成员实质就是一个枚举类型的实例，他们默认都是<code>public static final</code>修饰的。可以直接通过枚举类型名使用它们。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span>  枚举名 </span>&#123;</span><br><span class="line">  枚举体（常量列表）</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Season</span> </span>&#123;</span><br><span class="line">  SPRING, SUMMER, AUTUMN, WINDER </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(Season.SPRING); <span class="comment">// SPRING</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Season</span> </span>&#123;SPRING,</span><br><span class="line">    SUMMER,</span><br><span class="line">    AUTUMN,</span><br><span class="line">    WINTER;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    copyFile(<span class="string">&quot;d:/a.txt&quot;</span>,<span class="string">&quot;e:/a.txt&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Java是采用面向对象的方式来处理异常的。处理过程：</p>
<ol>
<li><p>抛出异常：在执行一个方法时，如果发生异常，则这个方法生成代表该异常的一个对象，停止当前执行路径，并把异常对象提交给JRE。</p>
</li>
<li><p>捕获异常：JRE得到该异常后，寻找相应的代码来处理该异常。JRE在方法的调用栈中查找，从生成异常的方法开始回溯，直到找到相应的异常处理代码为止。</p>
</li>
</ol>
<h3 id="异常分类"><a href="#异常分类" class="headerlink" title="异常分类"></a>异常分类</h3><p><img src="/images/1495272017528669.png" alt=".png"></p>
<p><strong>Error是程序无法处理的错误</strong>，表示运行应用程序中较严重问题。</p>
<p>大多数错误与代码编写者执行的操作无关，而表示代码运行时 JVM(Java 虚拟机)出现的问题。</p>
<blockquote>
<p>例如，Java虚拟机运行错误(Virtual MachineError)，当 JVM 不再有继续执行操作所需的内存资源时，将出现 OutOfMemoryError。这些异常发生时，Java虚拟机(JVM)一般会选择线程终止。</p>
</blockquote>
<p>Error表明系统JVM已经处于不可恢复的崩溃状态中。我们不需要管它。</p>
<p>Error与Exception的区别：</p>
<ul>
<li>我开着车走在路上，一头猪冲在路中间，我刹车。这叫一个异常。</li>
<li>我开着车在路上，发动机坏了，我停车，这叫错误。</li>
</ul>
<p>Exception可分为：</p>
<ul>
<li>RuntimeException 运行时异常</li>
<li>CheckedException 已检查异常</li>
</ul>
<p><img src="/images/20190217111006293.png" alt="img"></p>
<ul>
<li>runtime exception： 运行时异常是<strong>可能被程序员避免的异常</strong>。与检查性异常相反，运行时异常可以在编译时被忽略。不需要try-catch;</li>
<li>checked exception：最具代表的检查性异常是用户错误或问题引起的异常，<strong>这是程序员无法预见的</strong>。例如要打开一个不存在文件时，一个异常就发生了，这些异常在编译时不能被简单地忽略。需要try-catch;<br>(checked 异常也就是我们经常遇到的IO异常，以及SQL异常都是这种异常)</li>
<li>checked exception，也就是我们经常遇到的IO异常，以及SQL异常都是这种异常。<ol>
<li>对于这种异常，JAVA编译器强制要求我们必需对出现的这些异常进行catch。</li>
<li>所以，面对这种异常不管我们是否愿意，只能自己去写一大堆catch块去处理可能的异常。</li>
<li>这类异常一般是外部错误,例如试图从文件尾后读取数据等**,这并不是程序本身的错误,而是在应用环境中出现的外部错误**.</li>
</ol>
</li>
<li>runtime exception，也称运行时异常，<strong>我们可以不处理</strong>。<ol>
<li>当出现这样的异常时，总是由虚拟机接管。</li>
<li>比如：我们从来没有人去处理过NullPointerException异常，它就是运行时异常，并且这种异常还是最常见的异常之一。</li>
<li>RuntimeException体系包括错误的类型转换、数组越界访问和试图访问空指针等等.</li>
<li>处理RuntimeException的原则是 : <strong>假如出现RuntimeException,那么一定是程序员的错误</strong> . 例如,可以通过检查数组下标和数组边界来避免数组越界访问异常.</li>
</ol>
</li>
</ul>
<p>出现运行时异常后，系统会把异常一直往上层抛，一直遇到处理代码。</p>
<p>如果没有处理块，到最上层，</p>
<ol>
<li>如果是多线程就由Thread.run()抛出，如果是单线程就被main()抛出。抛出之后，如果是线程，这个线程也就退出了。</li>
<li>如果是主程序抛出的异常，那么这整个程序也就退出了。</li>
</ol>
<p>运行时异常是Exception的子类，也有一般异常的特点，是可以被Catch块处理的。只不过往往我们不对他处理罢了。也就是说，你如果不对运行时异常进行处理，那么出现运行时异常之后，要么是线程中止，要么是主程序终止。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test8</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        FileReader reader = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            reader = <span class="keyword">new</span> FileReader(<span class="string">&quot;d:/a.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">char</span> c = (<span class="keyword">char</span>) reader.read();</span><br><span class="line">            <span class="keyword">char</span> c2 = (<span class="keyword">char</span>) reader.read();</span><br><span class="line">            System.out.println(<span class="string">&quot;&quot;</span> + c + c2);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (reader != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    reader.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="声明异常-throws子句"><a href="#声明异常-throws子句" class="headerlink" title="声明异常(throws子句)"></a>声明异常(throws子句)</h3><p>当CheckedException产生时，不一定立刻处理它，可以再把异常throws出去。在方法中使用try-catch-finally是由这个方法来处理异常。但是在一些情况下，当前方法并不需要处理发生的异常，而是向上传递给调用它的方法处理。</p>
<p>如果一个方法中<strong>可能</strong>产生某种异常，但是并不能确定如何处理这种异常，则应根据异常规范在方法的首部声明该方法可能抛出的异常。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test9</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            readFile(<span class="string">&quot;joke.txt&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;所需文件不存在！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;文件读写错误！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readFile</span><span class="params">(String fileName)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">        FileReader in = <span class="keyword">new</span> FileReader(fileName);</span><br><span class="line">        <span class="keyword">int</span> tem = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            tem = in.read();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (tem != -<span class="number">1</span>) &#123;</span><br><span class="line">                System.out.print((<span class="keyword">char</span>) tem);</span><br><span class="line">                tem = in.read();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            in.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a>自定义异常</h3><p>自定义异常类只需从Exception类或者它的子类派生一个子类即可。</p>
<ol>
<li>如果继承Exception类，则为受检查异常，必须对其进行处理;</li>
<li>如果不想处理，可以让自定义异常类继承RuntimeException类。</li>
</ol>
<p>习惯上，自定义异常类应该包含2个构造器：</p>
<ol>
<li>默认的构造器，</li>
<li>带有详细信息的构造器。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**IllegalAgeException：非法年龄异常，继承Exception类*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IllegalAgeException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line">    <span class="comment">//默认构造器</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IllegalAgeException</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//带有详细信息的构造器，信息存储在message中</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IllegalAgeException</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> <span class="keyword">throws</span> IllegalAgeException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (age &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalAgeException(<span class="string">&quot;人的年龄不应该为负数&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;name is &quot;</span> + name + <span class="string">&quot; and age is &quot;</span> + age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestMyException</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            p.setName(<span class="string">&quot;Lincoln&quot;</span>);</span><br><span class="line">            p.setAge(-<span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalAgeException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            System.exit(-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="使用异常机制的建议"><a href="#使用异常机制的建议" class="headerlink" title="使用异常机制的建议"></a>使用异常机制的建议</h3><ul>
<li><p>要避免使用异常处理代替错误处理，这样会降低程序的清晰性，并且效率低下。</p>
</li>
<li><p>处理异常不可以代替简单测试，只在异常情况下使用异常机制。</p>
</li>
<li><p>不要进行小粒度的异常处理，应该将整个任务包装在一个try语句块中。</p>
</li>
<li><p>异常往往在高层处理 。</p>
</li>
</ul>
<h2 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h2><p>容器，也叫集合(Collection)。我们一般通过<code>容器</code>来容纳和管理数据。数组就是一种容器，可以在其中放置对象或基本类型数据。</p>
<p><img src="/images/1495613220648265.png" alt="img"></p>
<h3 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h3><p>泛型帮助我们建立类型安全的集合。在使用了泛型的集合中，遍历时不必进行强制类型转换。JDK提供了支持泛型的编译器，将运行时的类型检查<strong>提前到了编译</strong>时执行，提高了代码可读性和安全性。</p>
<p>泛型的本质就是<code>数据类型的参数化</code>。 我们可以把“泛型”理解为数据类型的一个占位符(形式参数)，即告诉编译器，在调用泛型时必须传入实际类型。</p>
<blockquote>
<p>泛型就是一种不确定的数据类型。</p>
</blockquote>
<p>假如你写了一个链表类，存放的数据是int，然后过了几天你突然有地方又用到链表了，但是这次存的是double。怎么办？重写一遍，就把数据类型改成double？太蠢了，所以这就是泛型存在的意义，只要你声明的时候指定一下，想用double用double，想存int存int。</p>
<p>简单来讲，比如说<strong>一个容器中可以放一些规定的东西，但是规定之外的就不能放进去，这时候就需要泛型加以限制</strong>。</p>
<p>比如集合中只能存放对象，就可以使用泛型List list,为了更确定存储的类型，比如只能存储字符串，这时List list.除了泛型规定之外的东西就不能存放到容器中去。总之就是用来限制一定的范围。</p>
<p>泛型的好处：</p>
<ol>
<li>省略了强转的代码。</li>
<li>可以把运行时的问题提前到编译时期。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student5</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// mc这个容器限定只能添加String</span></span><br><span class="line">        MyCollection&lt;String&gt; mc = <span class="keyword">new</span> MyCollection&lt;String&gt;();</span><br><span class="line">        mc.set(<span class="string">&quot;hyl&quot;</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        String a = mc.get(<span class="number">0</span>);</span><br><span class="line">        System.out.println(a);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// mc2这个容器限定只能添加Integer</span></span><br><span class="line">        MyCollection&lt;Integer&gt; mc2 = <span class="keyword">new</span> MyCollection&lt;Integer&gt;();</span><br><span class="line">        mc2.set(<span class="number">777</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> b = mc2.get(<span class="number">0</span>);</span><br><span class="line">        System.out.println(b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// MyCollection这个容器即可添加String,Integer.还可以添加其他等等</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCollection</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">    Object[] arr = <span class="keyword">new</span> Object[<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(E e, <span class="keyword">int</span> idx)</span> </span>&#123;</span><br><span class="line">        arr[idx] = e;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">(<span class="keyword">int</span> idx)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 在这里强制转换关系</span></span><br><span class="line">        <span class="keyword">return</span> (E) arr[idx];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在类的声明处增加泛型列表，如：&lt;T,E,V&gt;。此处，字符可以是任何标识符，一般采用这3个字母。</p>
<h3 id="ArrayList的接口"><a href="#ArrayList的接口" class="headerlink" title="ArrayList的接口"></a>ArrayList的接口</h3><p><img src="/images/1495614959696503.png" alt=".png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       ArrayList&lt;String&gt; a = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       System.out.println(a.size());</span><br><span class="line">       System.out.println(a.isEmpty());</span><br><span class="line"></span><br><span class="line">       <span class="keyword">boolean</span> c = a.add(<span class="string">&quot;hyl&quot;</span>);</span><br><span class="line">       System.out.println(c);</span><br><span class="line">       <span class="keyword">boolean</span> d = a.remove(<span class="string">&quot;hyl&quot;</span>);</span><br><span class="line">       System.out.println(d);</span><br><span class="line">       <span class="comment">// 转成 Object数组</span></span><br><span class="line">       Object[] obj = a.toArray();</span><br><span class="line">       System.out.println(obj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       ArrayList&lt;String&gt; a = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       a.add(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">       a.add(<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">       a.add(<span class="string">&quot;cc&quot;</span>);</span><br><span class="line">       </span><br><span class="line">       ArrayList&lt;String&gt; b = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       b.add(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">       b.add(<span class="string">&quot;dd&quot;</span>);</span><br><span class="line">       b.add(<span class="string">&quot;ee&quot;</span>);</span><br><span class="line"></span><br><span class="line">       <span class="comment">/*证明addAll等函数都是原地算法*/</span></span><br><span class="line">       System.out.println(a);</span><br><span class="line">       a.addAll(b);</span><br><span class="line">       System.out.println(a);</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Set和List的接口"><a href="#Set和List的接口" class="headerlink" title="Set和List的接口"></a>Set和List的接口</h3><p>由于List、Set是Collection的子接口，意味着所有List、Set的实现类都有上面的方法。</p>
<p>List接口常用的实现类有3个：<code>ArrayList</code> , <code>LinkedList</code> , <code>Vector</code> </p>
<ul>
<li>ArrayList和Vector底层是用<strong>数组实现</strong>的，因此可以用序号下标来访问他们，查找的效率高，一般数组的大小比要插入的数据大数量要大。</li>
<li>LinkedList的底层使用<strong>双向链表实现</strong>的，因此插入和删除的效率高。</li>
</ul>
<p>List是有序、可重复的容器。</p>
<ol>
<li><strong>有序：</strong>List中每个元素都有索引标记。可以根据元素的索引标记(在List中的位置)访问元素，从而精确控制这些元素。</li>
<li><strong>可重复：</strong>List允许加入重复的元素。更确切地讲，List通常允许满足 e1.equals(e2) 的元素重复加入容器。</li>
</ol>
<p>除了Collection接口中的方法，List多了一些跟顺序(索引)有关的方法</p>
<p><img src="/images/1495616109914665.png" alt=".png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestList</span> </span>&#123;</span><br><span class="line">    <span class="comment">//测试add/remove/size/isEmpty/contains/clear/toArrays等方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        System.out.println(list.isEmpty()); <span class="comment">// true,容器里面没有元素</span></span><br><span class="line">        list.add(<span class="string">&quot;高淇&quot;</span>);</span><br><span class="line">        System.out.println(list.isEmpty()); <span class="comment">// false,容器里面有元素</span></span><br><span class="line">        list.add(<span class="string">&quot;高小七&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;高小八&quot;</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;list的大小：&quot;</span> + list.size());</span><br><span class="line">        System.out.println(<span class="string">&quot;是否包含指定元素：&quot;</span> + list.contains(<span class="string">&quot;高小七&quot;</span>));</span><br><span class="line">        list.remove(<span class="string">&quot;高淇&quot;</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        </span><br><span class="line">        Object[] objs = list.toArray();</span><br><span class="line">        System.out.println(<span class="string">&quot;转化成Object数组：&quot;</span> + Arrays.toString(objs));</span><br><span class="line">        list.clear();</span><br><span class="line">        System.out.println(<span class="string">&quot;清空所有元素：&quot;</span> + list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        test01();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestList</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        test03();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 测试List中关于索引操作的方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;D&quot;</span>);</span><br><span class="line">        System.out.println(list); <span class="comment">// [A, B, C, D]</span></span><br><span class="line">        </span><br><span class="line">        list.add(<span class="number">2</span>, <span class="string">&quot;高&quot;</span>);</span><br><span class="line">        System.out.println(list); <span class="comment">// [A, B, 高, C, D]</span></span><br><span class="line">        </span><br><span class="line">        list.remove(<span class="number">2</span>);</span><br><span class="line">        System.out.println(list); <span class="comment">// [A, B, C, D]</span></span><br><span class="line">        </span><br><span class="line">        list.set(<span class="number">2</span>, <span class="string">&quot;c&quot;</span>);</span><br><span class="line">        System.out.println(list); <span class="comment">// [A, B, c, D]</span></span><br><span class="line">        System.out.println(list.get(<span class="number">1</span>)); <span class="comment">// 返回：B</span></span><br><span class="line">        </span><br><span class="line">        list.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        System.out.println(list); <span class="comment">// [A, B, c, D, B]</span></span><br><span class="line">        System.out.println(list.indexOf(<span class="string">&quot;B&quot;</span>)); <span class="comment">// 1 从头到尾找到第一个&quot;B&quot;</span></span><br><span class="line">        System.out.println(list.lastIndexOf(<span class="string">&quot;B&quot;</span>)); <span class="comment">// 4 从尾到头找到第一个&quot;B&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ArrayList特点和底层实现"><a href="#ArrayList特点和底层实现" class="headerlink" title="ArrayList特点和底层实现"></a>ArrayList特点和底层实现</h3><p>ArrayList底层使用Object数组来存储元素数据。 特点：查询效率高，增删效率低，线程不安全。我们一般使用它。</p>
<p>所有的方法，都围绕这个核心的Object数组来开展。数组长度是有限的，而ArrayList是可以存放任意数量的对象，长度不受限制，那么它是怎么实现的呢?本质上就是通过定义新的更大的数组，将旧数组中的内容拷贝到新数组，来实现扩容。 ArrayList的Object数组初始化长度为10，如果我们存储满了这个数组，需要存储第11个对象，就会定义新的长度更大的数组，并将原数组内容和新的元素一起加入到新数组中。</p>
<h3 id="Vector向量"><a href="#Vector向量" class="headerlink" title="Vector向量"></a>Vector向量</h3><p>Vector底层是用数组实现的List，相关的方法都加了同步检查，因此<code>线程安全,效率低</code>。 比如，indexOf方法就增加了synchronized同步标记。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(Object o , <span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">    <span class="comment">// 代码省略</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="如何选用ArrayList、LinkedList、Vector"><a href="#如何选用ArrayList、LinkedList、Vector" class="headerlink" title="如何选用ArrayList、LinkedList、Vector"></a>如何选用ArrayList、LinkedList、Vector</h3><ol>
<li>需要线程安全时，用Vector。</li>
<li>不存在线程安全问题时，并且查找较多用ArrayList(一般使用它)。</li>
<li>不存在线程安全问题时，增加或删除元素较多用LinkedList。</li>
</ol>
<h3 id="Map接口"><a href="#Map接口" class="headerlink" title="Map接口"></a>Map接口</h3><p>Map 接口的实现类有HashMap、TreeMap、HashTable、Properties等。</p>
<p>Map接口中常用的方法：</p>
<p><img src="/images/1495617463792119.png" alt=".png"></p>
<h3 id="HashMap和HashTable"><a href="#HashMap和HashTable" class="headerlink" title="HashMap和HashTable"></a>HashMap和HashTable</h3><p>HashMap采用哈希算法实现，是Map接口最常用的实现类。 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Map&lt;Integer, String&gt; m1 = <span class="keyword">new</span> HashMap&lt;Integer, String&gt;();</span><br><span class="line">        Map&lt;Integer, String&gt; m2 = <span class="keyword">new</span> HashMap&lt;Integer, String&gt;();  </span><br><span class="line"></span><br><span class="line">        m1.put(<span class="number">1</span>, <span class="string">&quot;one&quot;</span>);</span><br><span class="line">        m1.put(<span class="number">2</span>, <span class="string">&quot;two&quot;</span>);</span><br><span class="line">        m1.put(<span class="number">3</span>, <span class="string">&quot;three&quot;</span>);</span><br><span class="line">        m2.put(<span class="number">1</span>, <span class="string">&quot;1&quot;</span>);</span><br><span class="line">        m2.put(<span class="number">2</span>, <span class="string">&quot;2&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(m1.size());  <span class="comment">/*3*/</span></span><br><span class="line">        System.out.println(m1.containsKey(<span class="number">1</span>));  <span class="comment">/*true*/</span></span><br><span class="line">        System.out.println(m2.containsValue(<span class="string">&quot;two&quot;</span>));  <span class="comment">/*false*/</span></span><br><span class="line"></span><br><span class="line">        m1.put(<span class="number">3</span>, <span class="string">&quot;third&quot;</span>); </span><br><span class="line">        Map&lt;Integer, String&gt; m3 = <span class="keyword">new</span> HashMap&lt;Integer, String&gt;();</span><br><span class="line">        m3.putAll(m1);</span><br><span class="line">        m3.putAll(m2);</span><br><span class="line">        System.out.println(<span class="string">&quot;m1:&quot;</span> + m1);  <span class="comment">/*m1:&#123;1=one, 2=two, 3=third&#125;*/</span></span><br><span class="line">        System.out.println(<span class="string">&quot;m2:&quot;</span> + m2);  <span class="comment">/*m2:&#123;1=1, 2=2&#125;*/</span></span><br><span class="line">        System.out.println(<span class="string">&quot;m3:&quot;</span> + m3);  <span class="comment">/*m3:&#123;1=1, 2=2, 3=third&#125;*/</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>HashMap与HashTable的区别：</p>
<ol>
<li>HashMap: 线程不安全，效率高。允许key或value为null。</li>
<li>HashTable: 线程安全，效率低。不允许key或value为null。</li>
</ol>
<blockquote>
<p>HashTable类和HashMap用法几乎一样，底层实现几乎一样，只不过HashTable的方法添加了<code>synchronized关键字</code>确保线程同步检查，效率较低。</p>
</blockquote>
<h3 id="HashMap底层实现详解"><a href="#HashMap底层实现详解" class="headerlink" title="HashMap底层实现详解"></a>HashMap底层实现详解</h3><p>HashMap底层使用<code>拉链法</code> . 本质就是“数组+链表”。</p>
<p><img src="/images/1495619119905721.png" alt="img"></p>
<p>一个Entry对象包含4部分：</p>
<ul>
<li>key对象、</li>
<li>value对象、</li>
<li>hash值、</li>
<li>指向下一个Entry对象的引用。</li>
</ul>
<h3 id="红黑二叉树"><a href="#红黑二叉树" class="headerlink" title="红黑二叉树"></a>红黑二叉树</h3><p>  红黑二叉树(简称：红黑树)，它首先是一棵二叉树，同时也是一棵自平衡的排序二叉树。</p>
<p>  红黑树在原有的排序二叉树增加了如下几个要求：</p>
<ul>
<li>每个节点要么是红色，要么是黑色。</li>
<li>根节点永远是黑色的。</li>
<li><strong>所有的叶节点都是空节点</strong>(即 null)，并且是黑色的。</li>
<li>每个红色节点的两个子节点都是黑色。(从每个叶子到根的路径上不会有两个连续的红色节点)</li>
<li>从任一节点到其子树中每个叶子节点的路径都包含相同数量的黑色节点。</li>
</ul>
<p>这些约束强化了红黑树的关键性质：从根到叶子的最长的可能路径不多于最短的可能路径的两倍长。这样就让树大致上是平衡的。红黑树是一个更高效的检索二叉树，<strong>JDK 提供的集合类 TreeMap、TreeSet 本身就是一个红黑树的实现。</strong></p>
<h3 id="TreeMap的使用和底层实现"><a href="#TreeMap的使用和底层实现" class="headerlink" title="TreeMap的使用和底层实现"></a>TreeMap的使用和底层实现</h3><p>TreeMap是红黑二叉树的典型实现。</p>
<p>TreeMap和HashMap实现了同样的接口Map，因此，用法对于调用者来说没有区别。HashMap效率高于TreeMap;在需要排序的Map时才选用TreeMap。</p>
<p>TreeMap实现Comparable接口：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Emp</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Emp</span>&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">double</span> salary;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Emp</span><span class="params">(<span class="keyword">int</span> id , String name , <span class="keyword">double</span> salary)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.salary = salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Emp e)</span></span>&#123;  <span class="comment">// 负数:小于 ,0:等于 ,正数:大于</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.salary &gt; e.salary)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.salary &lt; e.salary)&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.id &gt; e.id)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.id &lt; e.id)&#123;</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Set接口"><a href="#Set接口" class="headerlink" title="Set接口"></a>Set接口</h3><p>Set容器特点：无序、不可重复。</p>
<h3 id="HashSet基本使用"><a href="#HashSet基本使用" class="headerlink" title="HashSet基本使用"></a>HashSet基本使用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Set&lt;String&gt; s = <span class="keyword">new</span> HashSet&lt;String&gt;();</span><br><span class="line">        s.add(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        s.add(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">        System.out.println(s); <span class="comment">// [world, hello]</span></span><br><span class="line">        s.add(<span class="string">&quot;hello&quot;</span>); <span class="comment">//相同的元素不会被加入</span></span><br><span class="line">        System.out.println(s); <span class="comment">// [world, hello]</span></span><br><span class="line">        s.add(<span class="keyword">null</span>);</span><br><span class="line">        System.out.println(s); <span class="comment">// [null, world, hello]</span></span><br><span class="line">        s.add(<span class="keyword">null</span>);</span><br><span class="line">        System.out.println(s); <span class="comment">// [null, world, hello]</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="HashSet底层实现"><a href="#HashSet底层实现" class="headerlink" title="HashSet底层实现"></a>HashSet底层实现</h3><p>HashSet是采用哈希算法实现，底层实际是用HashMap实现的(HashSet本质就是一个简化版的HashMap)，因此，查询效率和增删效率都比较高。</p>
<h3 id="TreeSet的使用和底层实现"><a href="#TreeSet的使用和底层实现" class="headerlink" title="TreeSet的使用和底层实现"></a>TreeSet的使用和底层实现</h3><p>TreeSet底层实际是用TreeMap实现的，内部维持了一个简化版的TreeMap，通过key来存储Set的元素。 </p>
<p>TreeSet内部需要对存储的元素进行排序，因此，我们对应的类需要实现Comparable接口。这样，才能根据compareTo()方法比较对象之间的大小，才能进行内部排序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        User u1 = <span class="keyword">new</span> User(<span class="number">1001</span>, <span class="string">&quot;高淇&quot;</span>, <span class="number">18</span>);</span><br><span class="line">        User u2 = <span class="keyword">new</span> User(<span class="number">2001</span>, <span class="string">&quot;高希希&quot;</span>, <span class="number">5</span>);</span><br><span class="line">        Set&lt;User&gt; set = <span class="keyword">new</span> TreeSet&lt;User&gt;();</span><br><span class="line">        set.add(u1);</span><br><span class="line">        set.add(u2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">User</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    String uname;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(<span class="keyword">int</span> id, String uname, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.uname = uname;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 返回0 表示 this == obj 返回正数表示 this &gt; obj 返回负数表示 this &lt; obj</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(User o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.id &gt; o.id) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.id &lt; o.id) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用TreeSet要点：</p>
<ol>
<li>由于是二叉树，需要对元素做内部排序。 如果要放入TreeSet中的类没有实现Comparable接口，则会抛出异常：java.lang.ClassCastException。</li>
<li>TreeSet中不能放入null元素。</li>
</ol>
<h2 id="使用Iterator迭代器遍历容器元素-List-Set-Map"><a href="#使用Iterator迭代器遍历容器元素-List-Set-Map" class="headerlink" title="使用Iterator迭代器遍历容器元素(List/Set/Map)"></a>使用Iterator迭代器遍历容器元素(List/Set/Map)</h2><h3 id="迭代器遍历List"><a href="#迭代器遍历List" class="headerlink" title="迭代器遍历List"></a>迭代器遍历List</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; aList = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            aList.add(<span class="string">&quot;a&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(aList);  </span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Iterator&lt;String&gt; iter = aList.iterator(); iter.hasNext();) &#123;</span><br><span class="line">            String temp = iter.next();</span><br><span class="line">            System.out.print(temp + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (temp.endsWith(<span class="string">&quot;3&quot;</span>)) &#123;<span class="comment">// 删除3结尾的字符串</span></span><br><span class="line">                iter.remove();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();  </span><br><span class="line">        System.out.println(aList);  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[a0, a1, a2, a3, a4]</span></span><br><span class="line"><span class="comment">a0  a1  a2  a3  a4  </span></span><br><span class="line"><span class="comment">[a0, a1, a2, a4]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<h3 id="迭代器遍历Set"><a href="#迭代器遍历Set" class="headerlink" title="迭代器遍历Set"></a>迭代器遍历Set</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            set.add(<span class="string">&quot;a&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(set);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Iterator&lt;String&gt; iter = set.iterator(); iter.hasNext();) &#123;</span><br><span class="line">            String temp = iter.next();</span><br><span class="line">            System.out.print(temp + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(set);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[a1, a2, a3, a4, a0]</span></span><br><span class="line"><span class="comment">a1  a2  a3  a4  a0  </span></span><br><span class="line"><span class="comment">[a1, a2, a3, a4, a0]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<h3 id="迭代器遍历Map一"><a href="#迭代器遍历Map一" class="headerlink" title="迭代器遍历Map一"></a>迭代器遍历Map一</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;A&quot;</span>, <span class="string">&quot;高淇&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;B&quot;</span>, <span class="string">&quot;高小七&quot;</span>);</span><br><span class="line">        Set&lt;Entry&lt;String, String&gt;&gt; ss = map.entrySet();</span><br><span class="line">        <span class="keyword">for</span> (Iterator&lt;Entry&lt;String, String&gt;&gt; iterator = ss.iterator(); iterator.hasNext();) &#123;</span><br><span class="line">            Entry&lt;String, String&gt; e = iterator.next();</span><br><span class="line">            System.out.println(e.getKey() + <span class="string">&quot;--&quot;</span> + e.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="迭代器遍历Map二"><a href="#迭代器遍历Map二" class="headerlink" title="迭代器遍历Map二"></a>迭代器遍历Map二</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;A&quot;</span>, <span class="string">&quot;高淇&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;B&quot;</span>, <span class="string">&quot;高小七&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        Set&lt;String&gt; ss = map.keySet();</span><br><span class="line">        <span class="keyword">for</span> (Iterator&lt;String&gt; iterator = ss.iterator(); iterator.hasNext();) &#123;</span><br><span class="line">            String key = iterator.next();</span><br><span class="line">            System.out.println(key + <span class="string">&quot;--&quot;</span> + map.get(key));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="遍历集合的方法总结"><a href="#遍历集合的方法总结" class="headerlink" title="遍历集合的方法总结"></a>遍历集合的方法总结</h2><h3 id="遍历List方法一：普通for循环"><a href="#遍历List方法一：普通for循环" class="headerlink" title="遍历List方法一：普通for循环"></a>遍历List方法一：普通for循环</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;list.size();i++)&#123;<span class="comment">//list为集合的对象名</span></span><br><span class="line">    String temp = (String)list.get(i);</span><br><span class="line">    System.out.println(temp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="遍历List方法二：增强for循环-使用泛型"><a href="#遍历List方法二：增强for循环-使用泛型" class="headerlink" title="遍历List方法二：增强for循环(使用泛型!)"></a>遍历List方法二：增强for循环(使用泛型!)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (String temp : list) &#123;</span><br><span class="line">System.out.println(temp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="遍历List方法三：使用Iterator迭代器-1"><a href="#遍历List方法三：使用Iterator迭代器-1" class="headerlink" title="遍历List方法三：使用Iterator迭代器(1)"></a>遍历List方法三：使用Iterator迭代器(1)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(Iterator iter= list.iterator();iter.hasNext();)&#123;</span><br><span class="line">    String temp = (String)iter.next();</span><br><span class="line">    System.out.println(temp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="遍历List方法四：使用Iterator迭代器-2"><a href="#遍历List方法四：使用Iterator迭代器-2" class="headerlink" title="遍历List方法四：使用Iterator迭代器(2)"></a>遍历List方法四：使用Iterator迭代器(2)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Iterator  iter =list.iterator();</span><br><span class="line"><span class="keyword">while</span>(iter.hasNext())&#123;</span><br><span class="line">    Object  obj =  iter.next();</span><br><span class="line">    iter.remove();<span class="comment">//如果要遍历时，删除集合中的元素，建议使用这种方式！</span></span><br><span class="line">    System.out.println(obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="遍历Set方法一：增强for循环"><a href="#遍历Set方法一：增强for循环" class="headerlink" title="遍历Set方法一：增强for循环"></a>遍历Set方法一：增强for循环</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(String temp:set)&#123;</span><br><span class="line">System.out.println(temp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="遍历Set方法二：使用Iterator迭代器"><a href="#遍历Set方法二：使用Iterator迭代器" class="headerlink" title="遍历Set方法二：使用Iterator迭代器"></a>遍历Set方法二：使用Iterator迭代器</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(Iterator iter = set.iterator();iter.hasNext();)&#123;</span><br><span class="line">    String temp = (String)iter.next();</span><br><span class="line">    System.out.println(temp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="遍历Map方法一：根据key获取value"><a href="#遍历Map方法一：根据key获取value" class="headerlink" title="遍历Map方法一：根据key获取value"></a>遍历Map方法一：根据key获取value</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, Man&gt; maps = <span class="keyword">new</span> HashMap&lt;Integer, Man&gt;();</span><br><span class="line">Set&lt;Integer&gt;  keySet =  maps.keySet();</span><br><span class="line"><span class="keyword">for</span>(Integer id : keySet)&#123;</span><br><span class="line">	System.out.println(maps.get(id).name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="遍历Map方法二：使用entrySet"><a href="#遍历Map方法二：使用entrySet" class="headerlink" title="遍历Map方法二：使用entrySet"></a>遍历Map方法二：使用entrySet</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Entry&lt;Integer, Man&gt;&gt;  ss = maps.entrySet();</span><br><span class="line"><span class="keyword">for</span> (Iterator iterator = ss.iterator(); iterator.hasNext();) &#123;</span><br><span class="line">    Entry e = (Entry) iterator.next(); </span><br><span class="line">    System.out.println(e.getKey()+<span class="string">&quot;--&quot;</span>+e.getValue());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Collections工具类"><a href="#Collections工具类" class="headerlink" title="Collections工具类"></a>Collections工具类</h2><p>类 java.util.Collections 提供了对Set、List、Map进行排序、填充、查找元素的辅助方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(List)</span> <span class="comment">//对List容器内的元素排序，排序的规则是按照升序进行排序。</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shuffle</span><span class="params">(List)</span> <span class="comment">//对List容器内的元素进行随机排列。</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">(List)</span> <span class="comment">//对List容器内的元素进行逆续排列 。</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fill</span><span class="params">(List, Object)</span> <span class="comment">//用一个特定的对象重写整个List容器。</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(List, Object)</span><span class="comment">//对于顺序的List容器，采用折半查找的方法查找特定对象。 </span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; aList = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)&#123;</span><br><span class="line">            aList.add(<span class="string">&quot;a&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(aList);</span><br><span class="line">        Collections.shuffle(aList); <span class="comment">// 随机排列</span></span><br><span class="line">        System.out.println(aList);</span><br><span class="line">        Collections.reverse(aList); <span class="comment">// 逆续</span></span><br><span class="line">        System.out.println(aList);</span><br><span class="line">        Collections.sort(aList); <span class="comment">// 排序</span></span><br><span class="line">        System.out.println(aList);</span><br><span class="line">        System.out.println(Collections.binarySearch(aList, <span class="string">&quot;a2&quot;</span>)); </span><br><span class="line">        Collections.fill(aList, <span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        System.out.println(aList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li><p>Collection 表示一组对象，它是集中、收集的意思，就是把一些数据收集起来。</p>
</li>
<li><p>Collection接口的两个子接口：</p>
<ul>
<li><p>List中的元素有顺序，可重复。常用的实现类有ArrayList、LinkedList和 vector。</p>
<ol>
<li>ArrayList特点：查询效率高，增删效率低，线程不安全。</li>
<li>LinkedList特点：查询效率低，增删效率高，线程不安全。</li>
<li>vector特点：线程安全,效率低,其它特征类似于ArrayList。</li>
</ol>
</li>
<li><p>Set中的元素没有顺序，不可重复。常用的实现类有HashSet和TreeSet。</p>
<ol>
<li>HashSet特点：采用哈希算法实现,查询效率和增删效率都比较高。</li>
<li>TreeSet特点：<strong>内部需要对存储的元素进行排序</strong>。因此，我们对应的类需要实现Comparable接口。这样，才能根据compareTo()方法比较对象之间的大小，才能进行内部排序。</li>
</ol>
</li>
</ul>
</li>
<li><p>实现Map接口的类用来存储键(key)-值(value) 对。Map 接口的实现类有HashMap和TreeMap等。Map类中存储的键-值对通过键来标识，所以键值不能重复。</p>
</li>
<li><p>Iterator对象称作迭代器，用以方便的实现对容器内元素的遍历操作。</p>
</li>
<li><p>类 java.util.Collections 提供了对Set、List、Map操作的工具方法。</p>
</li>
<li><p>如下情况，可能需要我们重写equals/hashCode方法：</p>
<ul>
<li>要将我们自定义的对象放入HashSet中处理。</li>
<li>要将我们自定义的对象作为HashMap的key处理。</li>
<li>放入Collection容器中的自定义对象后，可能会调用remove、contains等方法时。</li>
</ul>
</li>
<li><p>JDK1.5以后增加了泛型。泛型的好处：</p>
<ul>
<li>向集合添加数据时保证数据安全。</li>
<li>遍历集合元素时不需要强制转换。</li>
</ul>
</li>
</ol>
<p><img src="/images/b8700773-1495613220648265.png" alt="img"></p>
</div></div></article><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>