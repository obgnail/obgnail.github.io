<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=" id=&quot;Mysql相关命令&quot;&gt;&lt;a href=&quot;#Mysql相关命令&quot; class=&quot;headerlink&quot; title=&quot;Mysql相关命令&quot;&gt;&lt;/a&gt;Mysql相关命令&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;service mysql start&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;service mysql stop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;service mysql status&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;service mysql restart&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;h2 id=&quot;授权远程访问&quot;&gt;&lt;a href=&quot;#授权远程访问&quot; class=&quot;headerlink&quot; title=&quot;授权远程访问&quot;&gt;&lt;/a&gt;授权远程访问&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;grant all privileges on *.* to &lt;span class=&quot;string&quot;&gt;&amp;#x27;root&amp;#x27;&lt;/span&gt; @&lt;span class=&quot;string&quot;&gt;&amp;#x27;%&amp;#x27;&lt;/span&gt; identified by &lt;span class=&quot;string&quot;&gt;&amp;#x27;mypassword&amp;#x27;&lt;/span&gt;;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;flush privileges;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;h2 id=&quot;索引&quot;&gt;&lt;a href=&quot;#索引&quot; class=&quot;headerlink&quot; title=&quot;索引&quot;&gt;&lt;/a&gt;索引&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;索引（index）是帮助MysqL高效获取数据的&lt;code&gt;数据结构&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;在数据之外，数据库系统还维护着满足特定査找算法的数据结构，这些数据结构以某种方式引用（指向）数据，这样就可以在这些数据结构上实现高级查找算法，这种数据结构就是索引。如下面的示意图所示：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/1581298469269.png&quot; alt=&quot;1581298469269&quot;&gt;"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>MySQL高级 | 凉薄的自动书记人偶</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-none-link" href="/tags/MySQL/" rel="tag">MySQL</a></div><div class="post-time">2020-02-10</div></div></div><div class="container post-header"><h1>MySQL高级</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Mysql%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-number">1.</span> <span class="toc-text">Mysql相关命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%88%E6%9D%83%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE"><span class="toc-number">2.</span> <span class="toc-text">授权远程访问</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95"><span class="toc-number">3.</span> <span class="toc-text">索引</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E4%BC%98%E5%8A%A3%E5%8A%BF"><span class="toc-number">3.1.</span> <span class="toc-text">索引优劣势</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E7%BB%93%E6%9E%84"><span class="toc-number">3.2.</span> <span class="toc-text">索引结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-TREE%E7%BB%93%E6%9E%84"><span class="toc-number">3.3.</span> <span class="toc-text">B+TREE结构</span></a></li></ol></li></ol></details></div><div class="container post-content"><h2 id="Mysql相关命令"><a href="#Mysql相关命令" class="headerlink" title="Mysql相关命令"></a>Mysql相关命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">service mysql start</span><br><span class="line">service mysql stop</span><br><span class="line">service mysql status</span><br><span class="line">service mysql restart</span><br></pre></td></tr></table></figure>



<h2 id="授权远程访问"><a href="#授权远程访问" class="headerlink" title="授权远程访问"></a>授权远程访问</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grant all privileges on *.* to <span class="string">&#x27;root&#x27;</span> @<span class="string">&#x27;%&#x27;</span> identified by <span class="string">&#x27;mypassword&#x27;</span>;  </span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>



<h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h2><ul>
<li>索引（index）是帮助MysqL高效获取数据的<code>数据结构</code>。</li>
<li>在数据之外，数据库系统还维护着满足特定査找算法的数据结构，这些数据结构以某种方式引用（指向）数据，这样就可以在这些数据结构上实现高级查找算法，这种数据结构就是索引。如下面的示意图所示：</li>
</ul>
<p><img src="/images/1581298469269.png" alt="1581298469269"></p>
<ul>
<li>左边是数据表，一共有两列七条记录，最左边的是数据记录的物理地址（注意逻辑上相邻的记录在磁盘上也并不是一定物理相邻的）。</li>
<li>为了加快Col2的查找，可以维护一个右边所示的二叉查找树，每个节点分别包含索引键值和一个指向对应数据记录物理地址的指针，这样就可以运用二叉查找快速获取到相应数据</li>
<li>一般来说索引本身也很大，不可能全部存储在内存中，因此索引往往以索引文件的形式存储在磁盘上。</li>
<li>索引是数据库中用来提高性能的最常用的工具</li>
</ul>
<h3 id="索引优劣势"><a href="#索引优劣势" class="headerlink" title="索引优劣势"></a>索引优劣势</h3><p>优势</p>
<ul>
<li>类似于书籍的录索引，提高数据检索的效率，降低数据库的成本</li>
<li>通过索引列对数据进行排序，降低数据排序的成本，降低CPU的消耗</li>
</ul>
<p>劣势</p>
<ul>
<li>实际上<strong>索引也是一张表</strong>，该表中保存了主键与索引字段，并指向实体类的记录，所以索引列也是要占用空间的</li>
<li>虽然索引大大提高了查询效率，同时却也<strong>降低更新表的速度</strong>，如对表进行  INSERT、UPDATE、DELETE。因为更新表时，MySQL不仅要保存数据，还要保存一下索引文件每次更新添加了索引列的字段，都会调整因为更新所带来的键值变化后的索引信息</li>
</ul>
<h3 id="索引结构"><a href="#索引结构" class="headerlink" title="索引结构"></a>索引结构</h3><ul>
<li>索引是在MySQL的<strong>存储引擎层中实现</strong>的，而不是在服务器层实现的。</li>
<li>所以每种存储引擎的索引都不一定完全相同，也不是所有的存储引擎都支持所有的索引类型的.</li>
<li>MySQL目前提供了以下4种索引<ul>
<li>BTREE索引：最常见的索引类型，大部分索引都支持B树索引。</li>
<li>HASH索引：只有 Memory引擎支持，使用场景简单。</li>
<li>R-tree索引（空间索引）：空间索引MyISAM引擎的一个特殊索引类型，主要用于地理空间数据型，通常使用较少，不做特别介绍。</li>
<li>Full text（全文索引）：全文索引也是 MyISAM的一个特殊索引类型，主要用于全文索引，InnoDB从Mysq5.6版本开始支持全文索引。</li>
</ul>
</li>
</ul>
<p>我们平常所说的索引，如果没有特别指明，都是指<code>B+树</code>（多路搜索树，并不一定是二叉的）结构组织的索引。</p>
<h3 id="B-TREE结构"><a href="#B-TREE结构" class="headerlink" title="B+TREE结构"></a>B+TREE结构</h3><p>B+Tree为BTree的变种，B+Tree与BTree区别为：</p>
<ol>
<li>n叉B+Tree最多含有n个key，而  BTree最多含有n-1个key</li>
<li>B+Tree的叶子节点保存所有的key信息，依key大小顺序排列。</li>
<li>所有的非叶子节点都可以看作是key的索引部分。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/av68811608?p=7">https://www.bilibili.com/video/av68811608?p=7</a></p>
</div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>