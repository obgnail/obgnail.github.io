<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=" id=&quot;生命周期函数分类&quot;&gt;&lt;a href=&quot;#生命周期函数分类&quot; class=&quot;headerlink&quot; title=&quot;生命周期函数分类&quot;&gt;&lt;/a&gt;生命周期函数分类&lt;/h2&gt;&lt;p&gt;分成三部分"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>React生命周期 | 凉薄的自动书记人偶</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-none-link" href="/tags/React/" rel="tag">React</a></div><div class="post-time">2020-08-02</div></div></div><div class="container post-header"><h1>React生命周期</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E5%88%86%E7%B1%BB"><span class="toc-number">1.</span> <span class="toc-text">生命周期函数分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">2.</span> <span class="toc-text">流程图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ajax%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-number">3.</span> <span class="toc-text">Ajax获取数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shouldComponentUpdate-nextProps-nextState"><span class="toc-number">4.</span> <span class="toc-text">shouldComponentUpdate(nextProps,nextState)</span></a></li></ol></details></div><div class="container post-content"><h2 id="生命周期函数分类"><a href="#生命周期函数分类" class="headerlink" title="生命周期函数分类"></a>生命周期函数分类</h2><p>分成三部分</p>
<ol>
<li><strong>组件创建阶段</strong>：一辈子只执行依次<ol>
<li>constructor</li>
<li>componentWillMount</li>
<li>render</li>
<li>componentDidMount</li>
</ol>
</li>
<li><strong>组件运行阶段</strong>：按需，根据props属性或state状态的改变，有选择性的执行0到多次<ol>
<li>componentWillReceiveProps</li>
<li>shouldComponentUpdate</li>
<li>componentWillUpdate</li>
<li>render</li>
<li>componentDidupdate</li>
</ol>
</li>
<li><strong>组件销毁阶段</strong>：一辈子只执行一次<ol>
<li>componentWillUnmount</li>
</ol>
</li>
</ol>
<h2 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h2><p><img src="/images/image-20200802151354474.png" alt="image-20200802151354474"></p>
<h2 id="Ajax获取数据"><a href="#Ajax获取数据" class="headerlink" title="Ajax获取数据"></a>Ajax获取数据</h2><p>如果想在组件的加载前就获取数据，应该在哪里执行<code>Ajax</code>。</p>
<blockquote>
<p>应该在<code>componentWillMount</code> 和 <code>componentWillUpdate</code>中执行。</p>
</blockquote>
<h2 id="shouldComponentUpdate-nextProps-nextState"><a href="#shouldComponentUpdate-nextProps-nextState" class="headerlink" title="shouldComponentUpdate(nextProps,nextState)"></a>shouldComponentUpdate(nextProps,nextState)</h2><ul>
<li>判断组件是否应该更新</li>
<li>当父组件传给子组件Props时，子组件就会执行shouldComponentUpdate函数</li>
<li>根据父组件传给子组件的<strong>下一个</strong>props和<strong>下一个</strong>state决定子组件是否更新</li>
</ul>
<p><img src="/images/image-20200802151440561.png" alt="image-20200802151440561"></p>
</div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>