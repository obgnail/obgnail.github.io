<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="&gt;
&lt;li&gt;&lt;a href=&quot;https://juejin.im/post/5b59d83de51d45195f0b4790&quot;&gt;Webpack入门教程&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;什么是Webpack&quot;&gt;&lt;a href=&quot;#什么是Webpack&quot; class=&quot;headerlink&quot; title=&quot;什么是Webpack&quot;&gt;&lt;/a&gt;什么是Webpack&lt;/h2&gt;&lt;p&gt;通俗一点来说Webpack是一个前端打包工具，它可以将我们项目中的所有js、图片、css等资源，根据其入口文件的依赖关系，打包成一个能被浏览器识别的js文件。能够帮助前端开发将打包的过程更智能化和自动化。"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>Webpack入门教程 | 凉薄的自动书记人偶</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Tags</a><a class="sidebar-nav-item" href="/About">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Webpack/" rel="tag">Webpack</a></div><div class="post-time">2020-07-25</div></div></div><div class="container post-header"><h1>Webpack入门教程</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFWebpack"><span class="toc-number">1.</span> <span class="toc-text">什么是Webpack</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="toc-number">2.</span> <span class="toc-text">快速入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E5%89%8D%E7%9A%84%E5%87%86%E5%A4%87"><span class="toc-number">2.1.</span> <span class="toc-text">开始前的准备</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%E5%AE%89%E8%A3%85webpack"><span class="toc-number">2.1.1.</span> <span class="toc-text">第一步安装webpack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%E5%88%9B%E5%BB%BApackage-json%E6%96%87%E4%BB%B6"><span class="toc-number">2.1.2.</span> <span class="toc-text">第二步创建package.json文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AD%A5%E7%BC%96%E5%86%99webpack-config-js"><span class="toc-number">2.1.3.</span> <span class="toc-text">第三步编写webpack.config.js</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E6%89%93%E5%8C%85"><span class="toc-number">2.2.</span> <span class="toc-text">开始打包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%85%A5%E5%8F%A3%E6%96%87%E4%BB%B6%E6%89%93%E5%8C%85"><span class="toc-number">3.</span> <span class="toc-text">多入口文件打包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Loader"><span class="toc-number">4.</span> <span class="toc-text">Loader</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Plugins"><span class="toc-number">5.</span> <span class="toc-text">Plugins</span></a></li></ol></details></div><div class="container post-content"><ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5b59d83de51d45195f0b4790">Webpack入门教程</a></li>
</ul>
<h2 id="什么是Webpack"><a href="#什么是Webpack" class="headerlink" title="什么是Webpack"></a>什么是Webpack</h2><p>通俗一点来说Webpack是一个前端打包工具，它可以将我们项目中的所有js、图片、css等资源，根据其入口文件的依赖关系，打包成一个能被浏览器识别的js文件。能够帮助前端开发将打包的过程更智能化和自动化。</p>
<p>一个基本的webpack配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">    <span class="attr">entry</span>:,     <span class="comment">// 设置入口文件</span></span><br><span class="line">    output:&#123;&#125;,  <span class="comment">// 设置输出文件</span></span><br><span class="line">    <span class="attr">module</span>:&#123;    <span class="comment">// 设置loader，即一些资源转换工具</span></span><br><span class="line">        <span class="attr">rules</span>:[]</span><br><span class="line">    &#125;,     </span><br><span class="line">    <span class="attr">plugins</span>:[],  <span class="comment">// 设置插件，插件能做到很多loader做不到的事情</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>entry</code>是设置入口文件，webpack会根据其入口文件的依赖关系，将所有依赖关系的资源打包在一起。</li>
<li><code>output</code>是设置打包后文件的输出，例如：打包后的文件名和输出路径等。</li>
<li><code>module</code>是设置loader，即设置一些资源转换工具，例如将stylus、less、sass进行处理，转换成浏览器能够识别的css资源。</li>
<li><code>plugins</code>是设置插件的地方，官方也提供了很多插件，插件能够帮助我们做很多事情，例如压缩打包等</li>
</ul>
<h2 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h2><h3 id="开始前的准备"><a href="#开始前的准备" class="headerlink" title="开始前的准备"></a>开始前的准备</h3><h4 id="第一步安装webpack"><a href="#第一步安装webpack" class="headerlink" title="第一步安装webpack"></a>第一步安装webpack</h4><p>首先我们可以通过npm全局安装一下webpack，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//全局安装</span><br><span class="line">npm install -g webpack</span><br></pre></td></tr></table></figure>

<p>接着我们新建一个文件夹，命名为：webpack-demo。</p>
<p>将终端切换到webpack-demo下执行下面的语句，将webpack安装到webpack-demo目录下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack</span><br></pre></td></tr></table></figure>



<h4 id="第二步创建package-json文件"><a href="#第二步创建package-json文件" class="headerlink" title="第二步创建package.json文件"></a>第二步创建package.json文件</h4><p>通过终端进入<code>webpack-demo</code>目录下，然后执行<code>npm init</code>命令，终端会咨询你一些npm的配置，例如项目名称、作者等。在这里，我们仅仅为了演示和学习，一路回车即可。</p>
<p>这时候我们就自动生成了一个webpack.json的文件，我们可以通过这个文件看到当前的自动化脚本和项目的依赖等信息。</p>
<h4 id="第三步编写webpack-config-js"><a href="#第三步编写webpack-config-js" class="headerlink" title="第三步编写webpack.config.js"></a>第三步编写webpack.config.js</h4><p>在编写<code>webpack.config.js</code>之前，为了方便学习演示，我们先创建几个文件夹：</p>
<ul>
<li>build-用来存放打包后的资源</li>
<li>html-用来存放html文件</li>
<li>js-用来存放js文件</li>
</ul>
<p>我们在html文件夹下，创建一个index.html文件，在这个文件中我们要引用稍后通过webpack打包好的js资源，并进行效果的展示。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello Webpack<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../build/bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>这里面我们在body中编写了一个id为root的div，稍后我们会通过js代码，在root下添一个div标签，其内容是：<code>Hello Webpack!</code>。</li>
<li>紧接着，我们引入了一个script标签，它的资源引用指向build文件夹下的bundle.js文件（我们会在webpack输出配置中配置输出的文件名，这个稍后就会讲）。</li>
</ul>
<p>接着我们在js文件夹下面新建一个index.js文件:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">var</span> domDiv=<span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">domDiv.textContent=<span class="string">&quot;Hello Webpack!&quot;</span></span><br><span class="line"><span class="keyword">var</span> root=<span class="built_in">document</span>.querySelector(<span class="string">&quot;#root&quot;</span>);</span><br><span class="line">root.appendChild(domDiv);</span><br></pre></td></tr></table></figure>

<p>在这里，我们在id为root的标签下，添加了一个内容为:<code>Hello Webpack!</code>的div标签。到这里，我们终于把前期工作都准备完毕了。</p>
<p>我们在<code>webpack-demo</code>的文件夹下，创建<code>webpack.config.js</code>的文件，</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `webpack.config.js`</span></span><br><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 单入口文件打包</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="attr">entry</span>:__dirname+<span class="string">&quot;/js/index.js&quot;</span>,   <span class="comment">//入口文件，即webpack开始打包的入口</span></span><br><span class="line">    <span class="attr">output</span>:&#123;</span><br><span class="line">        <span class="attr">path</span>:__dirname+<span class="string">&quot;/build&quot;</span>,   <span class="comment">//打包出口文件路径</span></span><br><span class="line">        <span class="attr">filename</span>:<span class="string">&quot;bundle.js&quot;</span>       <span class="comment">//打包后文件名,这里我们将打包后的文件名设置成bundle，即index.html中引用的文件名</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这里通过CommonJS语法规范，导出了一个对象。</p>
<ul>
<li><p>entry：主要用来设置打包文件的入口，即webpack从哪个文件开始进行打包，webpack会不断寻找其依赖关系，将所有依赖的文件打包在一起。</p>
<blockquote>
<ul>
<li>在这里我们将入口文件设置成：__dirname+”/js/index.js”，即项目目录下的js文件夹下的index.js文件，对它进行打包。</li>
<li>entry还可以配置多入口文件，多入口文件的情况。</li>
</ul>
</blockquote>
</li>
<li><p>output：主要用来设置文件输出的路径和文件名，我们通过path设置了文件打包输出的目录，即项目目录下的build文件夹。通过filename设置了文件输出的名字，即bundle.js，这也是我们在index.js下等待引用的文件名。</p>
</li>
</ul>
<h3 id="开始打包"><a href="#开始打包" class="headerlink" title="开始打包"></a>开始打包</h3><p>完成了最简单的webpack配置，接着我们在终端输入<code>webpack</code>进行打包。</p>
<p>在build文件下面多了一个bundle.js文件，即webpack替我们打包后生产的文件。</p>
<p>然后我们在浏览器中打开<code>index.html</code>即可发现我们浏览器中显示了:<code>Hello Webpack!</code></p>
<h2 id="多入口文件打包"><a href="#多入口文件打包" class="headerlink" title="多入口文件打包"></a>多入口文件打包</h2><p>有时候我们的入口文件可能不止一个，例如我们在js目录下，再新建一个<code>greeter.js</code>的文件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// greeter.js</span></span><br><span class="line"><span class="keyword">var</span> domGreet=<span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>)</span><br><span class="line">domGreet.textContent=<span class="string">&quot;Welcome to learn Webpack&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> root=<span class="built_in">document</span>.querySelector(<span class="string">&quot;#root&quot;</span>);</span><br><span class="line">root.appendChild(domGreet);</span><br></pre></td></tr></table></figure>

<p>依旧是在root下增加一个子元素，子元素的内容为<code>Welcome to learn Webpack</code>。</p>
<p>接着我们修改<code>index.html</code>文件：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello Webpack<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../build/bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../build/greeter.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>我们在<code>index.html</code>中多引入了一个名为<code>greeter.js</code>的资源。</p>
<p>接着，我们修改<code>webpack.config.js</code>文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 多入口文件打包</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="attr">entry</span>:&#123;</span><br><span class="line">        <span class="attr">bundle</span>:__dirname+<span class="string">&quot;/js/index.js&quot;</span>,   <span class="comment">//入口文件，即webpack开始打包的入口</span></span><br><span class="line">        <span class="attr">greeter</span>:__dirname+<span class="string">&quot;/js/greeter.js&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">output</span>:&#123;</span><br><span class="line">        <span class="attr">path</span>:__dirname+<span class="string">&quot;/build&quot;</span>,   <span class="comment">//打包出口文件路径</span></span><br><span class="line">        <span class="attr">filename</span>:<span class="string">&quot;[name].js&quot;</span>       <span class="comment">//打包后文件名，如果是多入口，引用[name]，会将entry的对象中的属性作为文件名</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这时候entry的值是一个对象，通过属性和值的方式定义多个入口文件，我们在<code>output</code>的<code>filename</code>值中引用<code>[name]</code>,就会把entry中的属性名作为文件的名字，打包输出。</p>
<p>这时候我们的build文件下就会存在两个打包后的js文件：<code>bundle.js</code>和<code>greeter.js</code>文件。</p>
<p>这时候我们再打开<code>index.html</code>文件</p>
<h2 id="Loader"><a href="#Loader" class="headerlink" title="Loader"></a>Loader</h2><ul>
<li>Loader主要是用来对文件资源进行转换打包，</li>
<li>例如：我们js中运用了es6的语法，而有的浏览器不支持，我们就可以用babel将es6的语法转换成浏览器支持的es5语法。</li>
</ul>
<p>在这里我们主要通过运用url-loader对图片资源进行打包，演示一下loader的作用。</p>
<p>新建一个文件夹，命名为image。将图片放在这个目录下。</p>
<p>我们修改index.js文件，新建一个<code>img</code>标签，显示该图片，并将标签加到id为<code>root</code>的div下。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> domDiv=<span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">domDiv.textContent=<span class="string">&quot;Hello Webpack!&quot;</span></span><br><span class="line"><span class="keyword">var</span> root=<span class="built_in">document</span>.querySelector(<span class="string">&quot;#root&quot;</span>);</span><br><span class="line">root.appendChild(domDiv);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> image=<span class="built_in">document</span>.createElement(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">image.src=<span class="built_in">require</span>(<span class="string">&#x27;../image/pic01.jpg&#x27;</span>);</span><br><span class="line">root.appendChild(image)</span><br></pre></td></tr></table></figure>



<p>接着我们修改我们的<code>webpack.config.js</code>文件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 单入口文件打包</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//  entry:__dirname+&quot;/js/index.js&quot;,   //入口文件，即webpack开始打包的入口</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 多入口文件打包</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="attr">entry</span>:&#123;</span><br><span class="line">        <span class="attr">bundle</span>:__dirname+<span class="string">&quot;/js/index.js&quot;</span>,   <span class="comment">//入口文件，即webpack开始打包的入口</span></span><br><span class="line">        <span class="attr">greeter</span>:__dirname+<span class="string">&quot;/js/greeter.js&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">output</span>:&#123;</span><br><span class="line">        <span class="attr">path</span>:__dirname+<span class="string">&quot;/build&quot;</span>,   <span class="comment">//打包出口文件路径</span></span><br><span class="line">        <span class="attr">filename</span>:<span class="string">&quot;[name].js&quot;</span>,       <span class="comment">//打包后文件名，如果是多入口，引用[name]，会将entry的对象中的key作为文件名</span></span><br><span class="line">        <span class="attr">publicPath</span>:<span class="string">&quot;./&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>:&#123;</span><br><span class="line">        <span class="attr">rules</span>:[</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.(png|jpg)?$/</span>,</span><br><span class="line">                use:[</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">loader</span>:<span class="string">&quot;url-loader&quot;</span>,</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">              &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这里，我们增加了<code>module</code>，在这里我们在<code>rules</code>数组中添加我们的规则，例如在这里我们添加了一个规则：</p>
<p>在遇到png或jpg结尾的文件后缀时，我们loader运用<code>url-loader</code>去转换。</p>
<p>好了，写完这个后，我们接着利用npm去安装一下<code>url-loader</code>,我们可以修改<code>packge.json</code>文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;webpack-demo&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;main&quot;</span>: <span class="string">&quot;index.js&quot;</span>,</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;author&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;license&quot;</span>: <span class="string">&quot;ISC&quot;</span>,</span><br><span class="line">  <span class="string">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;webpack&quot;</span>: <span class="string">&quot;^4.16.2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;webpack-cli&quot;</span>: <span class="string">&quot;^3.1.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;url-loader&quot;</span>:<span class="string">&quot;1.0.1&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后在终端运行<code>npm install</code>，npm就会自动帮我安装<code>url-loader</code>。接着我们通过<code>webpack</code>命令进行打包。</p>
<p>打包完成后，我们运行<code>index.html</code>文件，我们可以看到图片就被加载到页面中了</p>
<h2 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h2><ul>
<li>Plugins我们可以通过它，给项目配置很多的插件。</li>
<li>webpack也为我提供了完整的插件文档：</li>
<li>在这里我们主要使用BannerPlugin给每个打包后的js文件添加banner文字头，来举例学习Plugins的作用。</li>
</ul>
<p>根据文档我们发现使用BannerPlugin很简单，我们修改webpack.config.js文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 单入口文件打包</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//  entry:__dirname+&quot;/js/index.js&quot;,   //入口文件，即webpack开始打包的入口</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 多入口文件打包</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="attr">entry</span>:&#123;</span><br><span class="line">        <span class="attr">bundle</span>:__dirname+<span class="string">&quot;/js/index.js&quot;</span>,   <span class="comment">//入口文件，即webpack开始打包的入口</span></span><br><span class="line">        <span class="attr">greeter</span>:__dirname+<span class="string">&quot;/js/greeter.js&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">output</span>:&#123;</span><br><span class="line">        <span class="attr">path</span>:__dirname+<span class="string">&quot;/build&quot;</span>,   <span class="comment">//打包出口文件路径</span></span><br><span class="line">        <span class="attr">filename</span>:<span class="string">&quot;[name].js&quot;</span>,       <span class="comment">//打包后文件名，如果是多入口，引用[name]，会将entry的对象中的key作为文件名</span></span><br><span class="line">        <span class="attr">publicPath</span>:<span class="string">&quot;./&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>:&#123;</span><br><span class="line">        <span class="attr">rules</span>:[</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.(png|jpg)$/</span>,</span><br><span class="line">                use:[</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">loader</span>:<span class="string">&quot;url-loader&quot;</span>,</span><br><span class="line">                        <span class="attr">options</span>:&#123;</span><br><span class="line">                            <span class="attr">limit</span>:<span class="number">8194</span>,</span><br><span class="line">                            <span class="attr">publicPath</span>:<span class="string">&quot;../build&quot;</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">              &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">&#x27;大麦所有，盗版必究&#x27;</span>)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们添加了<code>plugins</code>属性，该属性的值是一个数组，我们可以在该数组中不断的new 插件的实例对象，通过这样我们就可以改webpack设置插件。</p>
<p>是不是很简单？接着我们打包文件，在终端输入<code>webpack</code>打包。</p>
<p>查看我们的打包后的文件，以bundle.js为例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js</span></span><br><span class="line"><span class="comment">/*! 大麦所有，盗版必究 */</span>!<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> t=&#123;&#125;;<span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params">r</span>)</span>&#123;<span class="keyword">if</span>(t[r])<span class="keyword">return</span> t[r].exports;<span class="keyword">var</span> o=t[r]=&#123;<span class="attr">i</span>:r,<span class="attr">l</span>:!<span class="number">1</span>,<span class="attr">exports</span>:&#123;&#125;&#125;;<span class="keyword">return</span> e[r].call(o.exports,o,o.exports,n),o.l=!<span class="number">0</span>,o.exports&#125;n.m=e,n.c=t,n.d=<span class="function"><span class="keyword">function</span>(<span class="params">e,t,r</span>)</span>&#123;n.o(e,t)||<span class="built_in">Object</span>.defineProperty(e,t,&#123;<span class="attr">enumerable</span>:!<span class="number">0</span>,<span class="attr">get</span>:r&#125;)&#125;,n.r=<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> <span class="built_in">Symbol</span>&amp;&amp;<span class="built_in">Symbol</span>.toStringTag&amp;&amp;<span class="built_in">Object</span>.defineProperty(e,<span class="built_in">Symbol</span>.toStringTag,&#123;<span class="attr">value</span>:<span class="string">&quot;Module&quot;</span>&#125;),<span class="built_in">Object</span>.defineProperty(e,<span class="string">&quot;__esModule&quot;</span>,&#123;<span class="attr">value</span>:!<span class="number">0</span>&#125;)&#125;,n.t=<span class="function"><span class="keyword">function</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">if</span>(<span class="number">1</span>&amp;t&amp;&amp;(e=n(e)),<span class="number">8</span>&amp;t)<span class="keyword">return</span> e;<span class="keyword">if</span>(<span class="number">4</span>&amp;t&amp;&amp;<span class="string">&quot;object&quot;</span>==<span class="keyword">typeof</span> e&amp;&amp;e&amp;&amp;e.__esModule)<span class="keyword">return</span> e;<span class="keyword">var</span> r=<span class="built_in">Object</span>.create(<span class="literal">null</span>);<span class="keyword">if</span>(n.r(r),<span class="built_in">Object</span>.defineProperty(r,<span class="string">&quot;default&quot;</span>,&#123;<span class="attr">enumerable</span>:!<span class="number">0</span>,<span class="attr">value</span>:e&#125;),<span class="number">2</span>&amp;t&amp;&amp;<span class="string">&quot;string&quot;</span>!=<span class="keyword">typeof</span> e)<span class="keyword">for</span>(<span class="keyword">var</span> o <span class="keyword">in</span> e)n.d(r,o,<span class="function"><span class="keyword">function</span>(<span class="params">t</span>)</span>&#123;<span class="keyword">return</span> e[t]&#125;.bind(<span class="literal">null</span>,o));<span class="keyword">return</span> r&#125;,n.n=<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> t=e&amp;&amp;e.__esModule?<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> e.default&#125;:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> e&#125;;<span class="keyword">return</span> n.d(t,<span class="string">&quot;a&quot;</span>,t),t&#125;,n.o=<span class="function"><span class="keyword">function</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">return</span> <span class="built_in">Object</span>.prototype.hasOwnProperty.call(e,t)&#125;,n.p=<span class="string">&quot;./&quot;</span>,n(n.s=<span class="number">0</span>)&#125;([<span class="function"><span class="keyword">function</span>(<span class="params">e,t,n</span>)</span>&#123;<span class="keyword">var</span> r=<span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>);r.textContent=<span class="string">&quot;Hello Webpack!&quot;</span>;<span class="keyword">var</span> o=<span class="built_in">document</span>.querySelector(<span class="string">&quot;#root&quot;</span>);o.appendChild(r);<span class="keyword">var</span> u=<span class="built_in">document</span>.createElement(<span class="string">&quot;img&quot;</span>);u.src=n(<span class="number">1</span>),o.appendChild(u)&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">e,t</span>)</span>&#123;e.exports=<span class="string">&quot;../build/a2d8df5678e4b3f4b3d686a173544500.jpg&quot;</span>&#125;]);</span><br></pre></td></tr></table></figure>

<p>我们可以看到我们的打包后的文件头部就被添加了文字Banner。</p>
</div></div></article><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>