<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="多用户多任务"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>千锋：Linux从入门到精通 | 凉薄的自动书记人偶</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Tags</a><a class="sidebar-nav-item" href="/About">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Linux/" rel="tag">Linux</a></div><div class="post-time">2019-06-16</div></div></div><div class="container post-header"><h1>千锋：Linux从入门到精通</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">运行模式</span></a></li></ol></details></div><div class="container post-content"><p>多用户多任务</p>
<ul>
<li>单用户：一个用户，在登录计算机（操作系统），只能允许同时登录一个用户；</li>
<li>单任务：一个任务，允许用户同时进行的操作任务数量</li>
<li>多用户：多个用户，在登录计算机（操作系统），允许同时登录多个用户进行操作；</li>
<li>多任务；多个任务，允许用户同时进行多个操作任务</li>
</ul>
<p>Windows属于：单用户、多任务<br>Linux属于：多用户、多任务</p>
<hr>
<p><code>[root@localhost 桌面]#</code>:<br>这里的#表示<code>身份识别符</code>,如果用超级管理用户登录时,显示<code>#</code>,否则显示<code>$</code>符号</p>
<p>关机的三个命令:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正常关机</span></span><br><span class="line">shutdown -h now</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭内存</span></span><br><span class="line">halt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化</span></span><br><span class="line">init 0</span><br></pre></td></tr></table></figure>



<p> VMware备份方式:</p>
<ul>
<li>快照</li>
<li>克隆</li>
</ul>
<p>快照：又称还原点，就是保存在拍快照时候的系统的状态（包含了所有的内容），在后期的时候随时可以恢复.侧重在于短期备份，需要频繁备份的时候可以使用快照</p>
<p>克隆：复制.侧重长期备份，做克隆的时候是必须得关闭</p>
<hr>
<p>Linux下,一切皆文件.(如:磁盘,进程都是文件)</p>
<p><img src="/images/1560651279292.png" alt="1560651279292"></p>
<p>目录结构：</p>
<ul>
<li>Bin：全称 binary，含义是二进制。该目录中存储的都是一些二进制文件，文件都是可以被运行的。</li>
<li>Dev：该目录中主要存放的是外接设备，例如盘、其他的光盘等。在其中的外接设备是不能直接被使用的，需要挂载（类似 windows 下的分配盘符）。</li>
<li>Etc：该目录主要存储一些配置文件。</li>
<li>Home：表示“家”，表示除了 root 用户以外其他用户的家目录，类似于 windows 下的<br>User/用户目录。</li>
<li>Proc：process，表示进程，该目录中存储的是 Linux 运行时候的进程。</li>
<li>Root：该目录是 root 用户自己的家目录。</li>
<li>Sbin：全称 super binary，该目录也是存储一些可以被执行的二进制文件，但是必须得有<br>super 权限的用户才能执行。</li>
<li>Tmp：表示“临时”的，当系统运行时候产生的临时文件会在这个目录存着。</li>
<li>Usr：存放的是用户自己安装的软件。类似于 windows 下的 program files。</li>
<li>Var：存放的程序/系统的日志文件的目录。</li>
<li>Mnt：当外接设备需要挂载的时候，就需要挂载到 mnt 目录下。</li>
</ul>
<p>一个完整的指令的标准格式：Linux 通用的格式<br><code>#指令主体 [选项] [操作对象]</code></p>
<p>一个指令可以包含多个选项,操作对象也可以是多个</p>
<blockquote>
<p>例如：需要让张三同学帮忙去楼下小卖铺买一瓶农夫山泉水和清风餐巾纸，在这个指令中“买东西”是指令的主体，买的水和餐巾纸是操作的对象，农夫山泉、清风是操作的选项。</p>
</blockquote>
<p>ls:</p>
<ul>
<li>-l：表示 list，表示以详细列表的形式进行展示</li>
<li>-a：表示显示所有的文件/文件夹（包含了隐藏文件/文件夹）</li>
<li>-lh 路径：列出指定路径下的所有文件/文件夹的名称，以列表的形式并且在显示<strong>文档大小</strong>的时候以可读性较高的形式显示</li>
</ul>
<p><img src="/images/1560652552948.png" alt="1560652552948"></p>
<p>上述列表中的第一列字符表示文档的类型，其中“-”表示改行对应的文档类型为文件，“d”表示文档类型为文件夹。</p>
<p>在 Linux 中隐藏文档一般都是以“.”开头。</p>
<p>pwd （print working directory，打印当前工作目录）</p>
<p>mkdir -p 路径:<br>当一次性创建多层不存在的目录:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建统计目录a,b,c</span></span><br><span class="line">mkdir -p a b c</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建嵌套目录a/b/c</span></span><br><span class="line">mkdir  -p a/b/c</span><br></pre></td></tr></table></figure>

<p>touch同时创建多个文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch 123.py 456.py</span><br></pre></td></tr></table></figure>

<p>cp复制目录,必须使用 -r参数(递归参数)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r file</span><br></pre></td></tr></table></figure>

<p>rm :</p>
<ul>
<li>-f：强制删除，不提示是否删除</li>
<li>-r：表示递归</li>
</ul>
<p>输出重定向:<br>一般命令的输出都是显示在终端,有些时候需要将一些命令的执行结果保存到文件中</p>
<p><code>&gt;</code>：覆盖输出，会覆盖掉原先的文件内容</p>
<p><code>&gt;&gt;</code>：追加输出，不会覆盖原始文件内容，会在原始内容末尾继续添加</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -lah &gt; abc.txt</span><br></pre></td></tr></table></figure>



<p>cat除了打开文件,还可以对文件进行合并(<code>concat</code>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat 待合并的文件路径1 待合并的文件路径2 …… 文件路径n &gt; 合并之后的文件路径</span><br><span class="line"></span><br><span class="line">cat 123.py 456.py &gt; 789.py</span><br></pre></td></tr></table></figure>

<p>可见使用合并就必须使用输出重定向,<br>所以<code>cat 123.py 456.py &gt; 789.py</code>的意思就是打开123.py和456.py然后输出重定向到789.py</p>
<hr>
<p>df 指令(Disk Free:磁盘可用)<br>作用：查看磁盘的空间</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -h 表示以可读性较高的形式展示大小</span></span><br><span class="line">df -h </span><br></pre></td></tr></table></figure>

<p><img src="/images/1560657729401.png" alt="1560657729401"></p>
<p>文件系统:我们可以将其视为Win下的硬盘分区(就是所谓的C盘D盘)</p>
<p>free指令:<br>：查看内存使用情况</p>
<p>df就是<code>discc free</code>:硬盘可用<br>free就是<code>memory free</code>:内存可用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># m表示已mb作为单位</span></span><br><span class="line">free -m</span><br></pre></td></tr></table></figure>

<p><img src="/images/1560667406954.png" alt="1560667406954"></p>
<p><img src="/images/1560667469482.png" alt="1560667469482"></p>
<blockquote>
<p>交换就是<code>虚拟内存</code>的大小.<br>当系统真实内存不够用的时候可以临时使用磁盘空间来充当内存。</p>
</blockquote>
<p>head和tail指令</p>
<p>查看一个文件的前/后 n 行(默认为10)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">head -2 123.py</span><br></pre></td></tr></table></figure>



<p>tail命令的-f参数:<br>动态的显示新增的文件内容:<br>(变化的内容不能是用户手动增加的)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -f 123.py</span><br></pre></td></tr></table></figure>

<p>打开两个终端,一个执行<code>tail -f 123.py</code>另一个执行<code>ll &gt;&gt; 123.py</code>此时就可以动态的显示123.py文件新增的内容</p>
<blockquote>
<p>此命令一般用于查看日志</p>
</blockquote>
<p>less 指令<br>查看文件，以较少的内容进行输出，按下辅助功能键（数字+回车、空格键+上下方向键）查看更多</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less 123.py</span><br></pre></td></tr></table></figure>



<p>wc 指令(word count)</p>
<p>作用：统计文件内容信息（包含行数、单词数、字节数）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -l：表示 lines，行数</span></span><br><span class="line"><span class="comment"># -w：表示 words，单词数(依照空格来判断单词数量)</span></span><br><span class="line"><span class="comment"># -c：表示 bytes，字节数</span></span><br><span class="line">wc -lwc 需要统计的文件路径</span><br></pre></td></tr></table></figure>



<p>date指令:<br>表示操作时间日期（读取、设置）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">date </span><br><span class="line"><span class="comment"># 2019年 06月 16日 星期日 00:16:05 PDT</span></span><br><span class="line"></span><br><span class="line">date +%F</span><br><span class="line"><span class="comment">#2019-06-16</span></span><br><span class="line"></span><br><span class="line">date <span class="string">&quot;+%Y-%m-%d&quot;</span></span><br><span class="line"><span class="comment">#2019-06-16</span></span><br><span class="line"></span><br><span class="line">date <span class="string">&quot;+%F %T&quot;</span></span><br><span class="line"><span class="comment"># 2019-06-16 00:22:45</span></span><br><span class="line"></span><br><span class="line">date <span class="string">&quot;+%Y-%m-%d %H:%M:%S&quot;</span></span><br><span class="line"><span class="comment"># 2019-06-16 00:22:45</span></span><br></pre></td></tr></table></figure>

<p>获取之前或者之后的某个时间</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一天前</span></span><br><span class="line">date -d <span class="string">&quot;-1 day&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 一年前,格式化时间</span></span><br><span class="line">date -d <span class="string">&quot;-1 year&quot;</span> <span class="string">&quot;+%Y-%m-%d %H:%M:%S&quot;</span></span><br></pre></td></tr></table></figure>

<p>时间格式化:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">%F：表示完整的年月日</span><br><span class="line">%T：表示完整的时分秒</span><br><span class="line"></span><br><span class="line">%Y：表示四位年份</span><br><span class="line">%m：表示两位月份（带前导 0）</span><br><span class="line">%d：表示日期（带前导 0）</span><br><span class="line">%H：表示小时（带前导 0）</span><br><span class="line">%M：表示分钟（带前导 0）</span><br><span class="line">%S：表示秒数（带前导 0）</span><br></pre></td></tr></table></figure>



<p>cal 指令(calendar)<br>用来操作日历的</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 等价于 cal -1 </span></span><br><span class="line"><span class="comment"># 直接输出当前月份的日历</span></span><br><span class="line">cal </span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出上一个月+本月+下个月的日历</span></span><br><span class="line">cal -3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出2018年的日历</span></span><br><span class="line">cal -y 2018</span><br></pre></td></tr></table></figure>

<p><img src="/images/1560671246420.png" alt="1560671246420"></p>
<p>clear/ctrl + L 指令</p>
<p>清除终端中已经存在的命令和结果（信息）。</p>
<p>管道（重要）<br>管道一般可以用于“过滤”，“特殊”，“扩展处理”。</p>
<blockquote>
<p>管道不能单独使用，必须需要配合前面所讲的一些指令来一起使用，其作用主要是辅助作用</p>
<p>有点类似于Django模板的过滤器</p>
</blockquote>
<p>通过管道查询出根目录下包含“y”字母的文档名称。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls | grep y</span><br></pre></td></tr></table></figure>

<p><img src="/images/1560671682541.png" alt="1560671682541"></p>
<blockquote>
<p>grep 指令：主要用于过滤</p>
<p>以管道作为分界线，前面的命令有个输出，后面需要一个输入，然后再过滤，最后再输出</p>
<p>通俗的讲就是管道前面的输出就是后面指令的输入；</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找123.py中的def</span></span><br><span class="line">cat 123.py | grep def</span><br></pre></td></tr></table></figure>



<p>通过管道的操作方法来实现 less 的等价效果:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat 123.py | less</span><br></pre></td></tr></table></figure>

<blockquote>
<p>其实就是脱裤子放屁:将<code>cat 123.py</code>输出的内容传给less.和直接将文件内容传给less效果一模一样</p>
</blockquote>
<p>统计某个目录下的文档的总个数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls | wc -l</span><br></pre></td></tr></table></figure>



<p>hostname 指令<br>操作服务器的主机名（读取、设置）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输出完整的主机名</span></span><br><span class="line">hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出当前主机名中的 FQDN（全限定域名)</span></span><br><span class="line"><span class="comment"># -f代表FQDN</span></span><br><span class="line">hostname -f</span><br></pre></td></tr></table></figure>



<p>id 指令<br>查看一个<strong>用户</strong>的一些基本信息（包含用户 id，用户组 id，附加组 id…），该指令如果不指定用户则默认当前用户。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认显示当前执行该命令的用户的基本信息</span></span><br><span class="line">id </span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示指定用户的基本信息</span></span><br><span class="line">id 用户名 </span><br></pre></td></tr></table></figure>

<p><img src="/images/1560673068291.png" alt="1560673068291"></p>
<p>whoami 指令<br>显示当前登录的用户名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whoami</span><br></pre></td></tr></table></figure>

<p>一般用于 shell 脚本，用于获取当前操作的用户名方便记录日志。</p>
<p>ps -ef 指令(Process Status)<br>主要是查看服务器的进程信息</p>
<ul>
<li>-e：等价于“-A”，表示列出全部的进程</li>
<li>-f：显示全部的列（显示全字段）</li>
</ul>
<p><img src="/images/1560673748499.png" alt="1560673748499"></p>
<ul>
<li><p>UID：该进程执行的用户 id；</p>
</li>
<li><p>PID：进程 id；</p>
</li>
<li><p>PPID：(parent process ID)该进程的父级进程 id，如果一个程序的父级进程找不到，该程序的进程称之为僵尸进程；</p>
<blockquote>
<p>PPID为2的意思就是,这个进程并不是开机自启的,而是id为2的进程调用的</p>
</blockquote>
</li>
<li><p>C：CPU 的占用率，其形式是百分数；</p>
</li>
<li><p>STIME：进程的启动时间；</p>
</li>
<li><p>TTY：<strong>终端设备</strong>，发起该进程的设备识别符号，</p>
<blockquote>
<p>如果TTY为tty7,说明该进程是tty7这个终端设备发起的,如果显示“?”则表示该进程并不是由终端设备发起；</p>
</blockquote>
</li>
<li><p>TIME：进程的执行时间；</p>
</li>
<li><p>CMD：(command)该进程的名称或者对应的路径；</p>
</li>
</ul>
<p>筛选进程名包含update的进程</p>
<p><img src="/images/1560674659171.png" alt="1560674659171"></p>
<p>注意:因为<code>ps -ef</code>本身就是一个进程,所以一定会产生一个匹配的结果(看进程时间为00:00:00,说明这个进程就是新启动的)</p>
<p><img src="/images/1560674750525.png" alt="1560674750525"></p>
<p>top 指令<br>查看服务器的进程占用的资源</p>
<p>类似于win的任务管理器查看资源占用情况</p>
<p><img src="/images/1560674961791.png" alt="1560674961791"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top</span><br></pre></td></tr></table></figure>

<p><img src="/images/1560675046559.png" alt="1560675046559"></p>
<ul>
<li><p>PID：进程 id；</p>
</li>
<li><p>USER：该进程对应的用户；</p>
</li>
<li><p>PR：优先级；(网站的PR值就是这个PR)</p>
</li>
<li><p>NI：用户进程空间内改变过优先级的进程占用CPU百分比</p>
</li>
<li><p>VIRT：<strong>虚拟内存</strong>；</p>
</li>
<li><p>RES：<strong>常驻内存</strong>；</p>
</li>
<li><p>HR：<strong>共享内存</strong>；有的进程不能光靠自己运行,需要依赖于其他的进程,那些和其他进程共享的内存就是共享内存.<br>计算一个进程实际使用的内存 = 常驻内存（RES）- 共享内存（SHR）</p>
<blockquote>
<p>Chrome申请500MB内存,实际使用了320MB</p>
<ul>
<li>虚拟内存就是500MB,</li>
<li>常驻内存就是320MB</li>
<li>共享内存:<br>申请500MB内存,实际使用320MB,但是其中还包含对其他进程的调用开销则需要扣除</li>
</ul>
</blockquote>
</li>
<li><p>S：表示进程的状态（sleeping，其中 S 表示睡眠，R 表示运行）；</p>
</li>
<li><p>%CPU：表示 CPU 的占用百分比；</p>
</li>
<li><p>%MEM：表示内存的占用百分比；</p>
</li>
<li><p>TIME+：执行的时间；</p>
</li>
<li><p>COMMAND：进程的名称或者路径；</p>
</li>
</ul>
<p>在执行完<code>top</code>之后,键入<code>M</code>就可以按照内存大小降序排序</p>
<p><img src="/images/1560679427315.png" alt="1560679427315"></p>
<p><code>P</code>:按照CPU大小降序排序<br><code>1</code>:显示每个CUP的使用情况</p>
<p>du -sh 指令(disk usage)<br>查看目录的真实大小</p>
<ul>
<li>-s：summaries，只显示汇总的大小</li>
<li>-h：表示以高可读性的形式进行显示</li>
</ul>
<p><img src="/images/1560684162479.png" alt="1560684162479"></p>
<p>这里的4.0k指的是单单这个文件夹的大小(不包含文件夹下的文件)</p>
<p>find 指令<br>用于查找文件（其参数有 55 个之多）<br>语法：<code>find 路径范围 选项 选项的值</code></p>
<ul>
<li><p>-name：按照文档名称进行搜索（支持模糊搜索）</p>
</li>
<li><p>-type：按照文档的类型进行搜索</p>
<blockquote>
<p>文档类型:<code>-</code>表示文件(在find 的时候使用<code>f</code>来替换),<code>d</code>表示文件夹</p>
</blockquote>
</li>
</ul>
<p><img src="/images/1560684434406.png" alt="1560684434406"></p>
<p><img src="/images/1560684485702.png" alt="1560684485702"></p>
<p>计算数量:</p>
<p><img src="/images/1560685158023.png" alt="1560685158023"></p>
<blockquote>
<p>注意使用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find -name *.py</span><br></pre></td></tr></table></figure>

<p>可能会出现<code>find: 路径必须在表达式之前</code>错误.此时需要改为:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find -name <span class="string">&quot;*.py&quot;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>查找所有的<strong>文件</strong>:</p>
<p><img src="/images/1560685346904.png" alt="1560685346904"></p>
<p>同理,查找文件夹:</p>
<p><img src="/images/1560685427219.png" alt="1560685427219"></p>
<p>查找startswhith123的文件:</p>
<p><img src="/images/1560685574920.png" alt="1560685574920"></p>
<p>service 指令<br>用于控制一些软件的<strong>服务</strong>启动/停止/重启</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service 服务名 start/stop/restart</span><br></pre></td></tr></table></figure>

<p>eg:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service httpd start</span><br></pre></td></tr></table></figure>



<p>kill 指令<br>杀死进程(语法需要配合 ps 一起使用)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">kill</span> 进程PID </span><br></pre></td></tr></table></figure>

<p>eg:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">kill</span> 29867</span><br></pre></td></tr></table></figure>

<p>如果不想用进程PID,还可以使用<code>killall 进程名称</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">killall httpd</span><br></pre></td></tr></table></figure>

<blockquote>
<p>为什么叫<code>killall</code>,因为它能杀死子进程</p>
</blockquote>
<p> ifconfig<br>用于操作<strong>网卡</strong>相关的指令。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取网卡信息</span></span><br><span class="line">ifconfig</span><br></pre></td></tr></table></figure>

<p><img src="/images/1560686478122.png" alt="1560686478122"></p>
<blockquote>
<p>这里说明就有两块网卡<code>ens33</code>和<code>lo</code>(loop).分别是以太网和本地环回.</p>
<p>ip地址就是inet后面的,这里就是192.128.215.128</p>
</blockquote>
<p>reboot 指令<br>重新启动计算机</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>

<p>reboot -w 模拟重启，但是不重启（只写关机与开机的日志信息）</p>
<p>shutdown 指令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 立即关机</span></span><br><span class="line">shutdown -h now</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定时关机</span></span><br><span class="line">shutdown -h 15:25</span><br></pre></td></tr></table></figure>

<p>除了 shutdown 关机以外，还有以下几个关机命令：</p>
<ul>
<li>init 0</li>
<li>halt</li>
<li>powerof</li>
</ul>
<p>uptime 指令<br>计算机从开机到现在运行的时间</p>
<p><img src="/images/1560689374821.png" alt="1560689374821"></p>
<p>uname 指令<br>获取计算机操作系统相关信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取操作系统的类型</span></span><br><span class="line">Linux</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取操作系统的全部信息（类型、全部主机名、内核版本、发布时间、开源计划）</span></span><br><span class="line">uname -a</span><br></pre></td></tr></table></figure>



<p>netstat -tnlp 指令<br>netstat即<code>net status</code>:查看网络连接状态</p>
<ul>
<li>-t：表示只列出 tcp 协议的连接；</li>
<li>-n：表示将地址从字母组合转化成 ip 地址，将协议转化成端口号来显示；</li>
<li>-l：表示过滤出“state（状态）”列中其值为 LISTEN（监听）的连接；</li>
<li>-p：表示显示发起连接的进程 pid 和进程名称；</li>
</ul>
<p>man 指令<br>manual，手册</p>
<p>eg:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man cp</span><br></pre></td></tr></table></figure>



<hr>
<ol>
<li><p>在命令行中,快速删除光标前后的内容:<br>前 : <code>Ctrl + U</code><br>后 : <code>Ctrl + K</code></p>
</li>
<li><p>删除/tmp目录下所有A开头的文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -f /tmp/A*</span><br></pre></td></tr></table></figure></li>
<li><p>系统重要文件需要备份，如何把/etc/passwd 备份到/tmp 目录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r /etc/passwd /tmp</span><br></pre></td></tr></table></figure></li>
<li><p>如何查看系统最后创建的 3 个用户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -3 /etc/passwd</span><br></pre></td></tr></table></figure></li>
<li><p>统计当前系统中一共有多少账户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd | wc -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">wc -l /etc/passwd</span><br></pre></td></tr></table></figure></li>
<li><p>创建/tmp/test.conf 文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch /tmp/test.conf</span><br></pre></td></tr></table></figure></li>
<li><p>通过 vim 编辑打开/tmp/test.conf</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /tmp/test.conf</span><br></pre></td></tr></table></figure></li>
<li><p>查看/etc/passwd 的头 3 行和尾 3 行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">head -3 /etc/passwd</span><br><span class="line">tail -3 /etc/passwd</span><br></pre></td></tr></table></figure></li>
<li><p>一次性创建目录/text/1/2/3/4</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /text/1/2/3/4</span><br></pre></td></tr></table></figure></li>
<li><p>最快的返回到当前账户的家目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line"><span class="built_in">cd</span></span><br></pre></td></tr></table></figure></li>
<li><p>查看/etc 所占的磁盘空间</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -sh /etc</span><br></pre></td></tr></table></figure></li>
<li><p>删除/tmp下所有的文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /tmp/*</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意<code>rm -rf /tmp/*</code>和<code>rm -rf /tmp</code>的区别:<br>是否保留tmp目录</p>
</blockquote>
</li>
<li><p>启动 Apache 的服务，并且检查是否启动成功</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service httpd start</span><br><span class="line">ps -ef | grep httpd</span><br></pre></td></tr></table></figure></li>
<li><p>杀死 Apache 的进程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">killall httpd</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<p>Vim</p>
<p>三种模式:</p>
<ul>
<li>命令模式</li>
<li>编辑模式(输入模式)</li>
<li>末行模式</li>
</ul>
<blockquote>
<ul>
<li>命令模式：在该模式下是不能对文件直接编辑，可以输入快捷键进行一些操作（删除行，复制行，移动光标，粘贴等等）【打开文件之后默认进入的模式】；</li>
<li>编辑模式：在该模式下可以对文件的内容进行编辑；</li>
<li>末行模式：可以在末行输入命令来对文件进行操作（搜索、替换、保存、退出、撤销、高亮等<br>等）；</li>
</ul>
</blockquote>
<p>Vim 的打开文件的方式（4 种，要求掌握的就前三种）：</p>
<ul>
<li><code>vim 文件路径</code><br>作用：打开指定的文件</li>
<li><code>vim +数字 文件的路径</code><br>作用：打开指定的文件，并且将光标移动到指定行</li>
<li><code>vim +/关键词 文件的路径</code><br>作用：打开指定的文件，并且高亮显示关键词</li>
<li><code>vim 文件路径 1 文件路径 2 文件路径 3</code><br>作用：同时打开多个文件</li>
</ul>
<p>看到31集,撤了:<br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/av23360560/?p=31">bilibili</a></p>
<p>跳到了42集.</p>
<hr>
<p>Linux 自有服务</p>
<p>自有服务，即不需要用户独立去安装的软件的服务，而是当系统安装好之后就可以直接使用的服务（内置）。</p>
<h2 id="运行模式"><a href="#运行模式" class="headerlink" title="运行模式"></a>运行模式</h2><p>运行模式也可以称之为运行级别</p>
<p>在 linux 中存在一个进程：init （initialize，初始化），进程 id 是 1。</p>
<p>该进程存在一个对应的配置文件：inittab（系统运行级别配置文件，位置/etc/inittab）</p>
</div></div></article><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>