<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=" id=&quot;XML简介&quot;&gt;&lt;a href=&quot;#XML简介&quot; class=&quot;headerlink&quot; title=&quot;XML简介&quot;&gt;&lt;/a&gt;XML简介&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;XML 指可扩展标记语言（EXtensible Markup Language）。&lt;/li&gt;
&lt;li&gt;XML 是一种很像HTML的标记语言。&lt;/li&gt;
&lt;li&gt;XML 的设计宗旨是传输数据，而不是显示数据。&lt;/li&gt;
&lt;li&gt;XML 标签没有被预定义。您需要自行定义标签。&lt;/li&gt;
&lt;li&gt;XML 被设计为具有自我描述性。&lt;/li&gt;
&lt;li&gt;XML 是 W3C 的推荐标准。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;XML 是独立于软件和硬件的信息传输工具。"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>XML教程 | 凉薄的自动书记人偶</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Tags</a><a class="sidebar-nav-item" href="/About">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/EXtensible-Markup-Language/" rel="tag">EXtensible Markup Language</a></div><div class="post-time">2019-07-28</div></div></div><div class="container post-header"><h1>XML教程</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#XML%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">XML简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#XML-%E5%92%8C-HTML-%E4%B9%8B%E9%97%B4%E7%9A%84%E5%B7%AE%E5%BC%82"><span class="toc-number">1.1.</span> <span class="toc-text">XML 和 HTML 之间的差异</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML-%E6%A0%91%E7%BB%93%E6%9E%84"><span class="toc-number">2.</span> <span class="toc-text">XML 树结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML-%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99"><span class="toc-number">3.</span> <span class="toc-text">XML 语法规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML-%E5%85%83%E7%B4%A0"><span class="toc-number">4.</span> <span class="toc-text">XML 元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML-%E5%B1%9E%E6%80%A7"><span class="toc-number">5.</span> <span class="toc-text">XML 属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML-%E9%AA%8C%E8%AF%81"><span class="toc-number">6.</span> <span class="toc-text">XML 验证</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#python%E8%A7%A3%E6%9E%90XML"><span class="toc-number">7.</span> <span class="toc-text">python解析XML</span></a></li></ol></details></div><div class="container post-content"><h2 id="XML简介"><a href="#XML简介" class="headerlink" title="XML简介"></a>XML简介</h2><ul>
<li>XML 指可扩展标记语言（EXtensible Markup Language）。</li>
<li>XML 是一种很像HTML的标记语言。</li>
<li>XML 的设计宗旨是传输数据，而不是显示数据。</li>
<li>XML 标签没有被预定义。您需要自行定义标签。</li>
<li>XML 被设计为具有自我描述性。</li>
<li>XML 是 W3C 的推荐标准。</li>
</ul>
<blockquote>
<p>XML 是独立于软件和硬件的信息传输工具。</p>
</blockquote>
<h3 id="XML-和-HTML-之间的差异"><a href="#XML-和-HTML-之间的差异" class="headerlink" title="XML 和 HTML 之间的差异"></a>XML 和 HTML 之间的差异</h3><p>XML 不是 HTML 的替代。</p>
<p>XML 和 HTML 为不同的目的而设计：</p>
<ul>
<li><strong>XML 被设计用来传输和存储数据</strong>，其焦点是数据的内容。</li>
<li>HTML 被设计用来显示数据，其焦点是数据的外观。</li>
</ul>
<p>HTML 旨在显示信息，而 XML 旨在传输信息。</p>
<p>下面实例是 Jani 写给 Tove 的便签，存储为 XML：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">note</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">to</span>&gt;</span>Tove<span class="tag">&lt;/<span class="name">to</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">from</span>&gt;</span>Jani<span class="tag">&lt;/<span class="name">from</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">heading</span>&gt;</span>Reminder<span class="tag">&lt;/<span class="name">heading</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span>Don&#x27;t forget me this weekend!<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">note</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>上面的这条便签具有自我描述性。它包含了发送者和接受者的信息，同时拥有标题以及消息主体。</p>
<h2 id="XML-树结构"><a href="#XML-树结构" class="headerlink" title="XML 树结构"></a>XML 树结构</h2><p>XML 文档形成了一种树结构，它从”根部”开始，然后扩展到”枝叶”。</p>
<p>XML 文档使用简单的具有自我描述性的语法：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">note</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">to</span>&gt;</span>Tove<span class="tag">&lt;/<span class="name">to</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">from</span>&gt;</span>Jani<span class="tag">&lt;/<span class="name">from</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">heading</span>&gt;</span>Reminder<span class="tag">&lt;/<span class="name">heading</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span>Don&#x27;t forget me this weekend!<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">note</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>第一行是 XML 声明。它定义 XML 的版本（1.0）和所使用的编码。</li>
<li>下一行描述文档的<strong>根元素</strong></li>
<li>接下来 4 行描述根的 4 个<strong>子元素</strong></li>
<li>最后一行定义根元素的结尾</li>
</ol>
<blockquote>
<p>XML 文档必须包含根元素。该元素是所有其他元素的父元素。</p>
</blockquote>
<p><img src="/images/nodetree.gif" alt="DOM node tree"></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bookstore</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">book</span> <span class="attr">category</span>=<span class="string">&quot;COOKING&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span>Everyday Italian<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">author</span>&gt;</span>Giada De Laurentiis<span class="tag">&lt;/<span class="name">author</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">year</span>&gt;</span>2005<span class="tag">&lt;/<span class="name">year</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">price</span>&gt;</span>30.00<span class="tag">&lt;/<span class="name">price</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">book</span> <span class="attr">category</span>=<span class="string">&quot;CHILDREN&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span>Harry Potter<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">author</span>&gt;</span>J K. Rowling<span class="tag">&lt;/<span class="name">author</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">year</span>&gt;</span>2005<span class="tag">&lt;/<span class="name">year</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">price</span>&gt;</span>29.99<span class="tag">&lt;/<span class="name">price</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">book</span> <span class="attr">category</span>=<span class="string">&quot;WEB&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span>Learning XML<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">author</span>&gt;</span>Erik T. Ray<span class="tag">&lt;/<span class="name">author</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">year</span>&gt;</span>2003<span class="tag">&lt;/<span class="name">year</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">price</span>&gt;</span>39.95<span class="tag">&lt;/<span class="name">price</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">bookstore</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="XML-语法规则"><a href="#XML-语法规则" class="headerlink" title="XML 语法规则"></a>XML 语法规则</h2><ol>
<li><p>XML 文档必须有根元素</p>
</li>
<li><p>XML 声明(可选)</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>所有的 XML 元素都必须有一个关闭标签</p>
<blockquote>
<p>HTML中某些元素不必有一个关闭标签<br>在 XML 中，省略关闭标签是非法的。所有元素都<strong>必须</strong>有关闭标签</p>
</blockquote>
</li>
<li><p>XML 标签对大小写敏感</p>
</li>
<li><p>XML 必须正确嵌套</p>
</li>
<li><p>XML 属性值必须加引号</p>
<blockquote>
<p>属性值用双引号 <code>&quot;</code> 或单引号 <code>&#39;</code> 分隔，如果属性值中有单引号，则用双引号分隔；如果有双引号，则用单引号分隔。</p>
</blockquote>
</li>
<li><p>实体引用</p>
<table>
<thead>
<tr>
<th>实体引用</th>
<th>原符号</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td><code>&amp;lt;</code></td>
<td>&lt;</td>
<td>less than</td>
</tr>
<tr>
<td><code>&amp;gt;</code></td>
<td>&gt;</td>
<td>greater than</td>
</tr>
<tr>
<td><code>&amp;amp;</code></td>
<td>&amp;</td>
<td>ampersand</td>
</tr>
<tr>
<td><code>&amp;apos;</code></td>
<td>‘</td>
<td>apostrophe</td>
</tr>
<tr>
<td><code>&amp;quot;</code></td>
<td>“</td>
<td>quotation mark</td>
</tr>
</tbody></table>
<blockquote>
<ul>
<li>在 XML 中，其实只有字符 <code>&lt;</code>和 <code>&amp;</code>确实是非法的。</li>
<li><code>&gt;</code>号是合法的，但是用实体引用来代替它是一个好习惯。</li>
</ul>
</blockquote>
</li>
<li><p>XML 中的注释 : 和HTML一样</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- This is a comment --&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>在 XML 中，空格会被保留<br>HTML 会把多个连续的空格字符裁减（合并）为一个,在 XML 中，文档中的空格不会被删减。</p>
</li>
<li><p>XML 以 LF 存储换行</p>
<ul>
<li>在 Windows 应用程序中，换行通常以一对字符来存储：回车符（CR）和换行符（LF）。</li>
<li>在 Unix 和 Mac OSX 中，使用 LF 来存储新行。</li>
<li>在旧的 Mac 系统中，使用 CR 来存储新行。</li>
<li>XML 以 LF 存储换行。</li>
</ul>
</li>
</ol>
<h2 id="XML-元素"><a href="#XML-元素" class="headerlink" title="XML 元素"></a>XML 元素</h2><p>XML 元素指的是从（且包括）开始标签直到（且包括）结束标签的部分。</p>
<p>一个元素可以包含：</p>
<ul>
<li>其他元素</li>
<li>文本</li>
<li>属性</li>
<li>或混合以上所有…</li>
</ul>
<blockquote>
<p>XML 元素的命名 : 名称不能以字母 xml（或者 XML、Xml 等等）开始</p>
</blockquote>
<h2 id="XML-属性"><a href="#XML-属性" class="headerlink" title="XML 属性"></a>XML 属性</h2><p>在 HTML 中，属性提供有关元素的额外信息：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;computer.gif&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;demo.html&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>属性通常提供不属于数据组成部分的信息。在下面的实例中，文件类型与数据无关，但是对需要处理这个元素的软件来说却很重要：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">file</span> <span class="attr">type</span>=<span class="string">&quot;gif&quot;</span>&gt;</span>computer.gif<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>下面两个代码都提供相同的信息。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">person</span> <span class="attr">sex</span>=<span class="string">&quot;female&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">firstname</span>&gt;</span>Anna<span class="tag">&lt;/<span class="name">firstname</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">lastname</span>&gt;</span>Smith<span class="tag">&lt;/<span class="name">lastname</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">person</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">person</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">sex</span>&gt;</span>female<span class="tag">&lt;/<span class="name">sex</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">firstname</span>&gt;</span>Anna<span class="tag">&lt;/<span class="name">firstname</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">lastname</span>&gt;</span>Smith<span class="tag">&lt;/<span class="name">lastname</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">person</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>在 HTML 中，属性用起来很便利，但是在 XML 中，您应该尽量避免使用属性。</li>
<li>最佳实践 :<br><strong>元数据（有关数据的数据）应当存储为属性，而数据本身应当存储为元素</strong>。</li>
</ul>
</blockquote>
<blockquote>
<p>因使用属性而引起的一些问题：</p>
<ul>
<li>属性不能包含多个值（元素可以）</li>
<li>属性不能包含树结构（元素可以）</li>
<li>属性不容易扩展（为未来的变化）</li>
</ul>
</blockquote>
<h2 id="XML-验证"><a href="#XML-验证" class="headerlink" title="XML 验证"></a>XML 验证</h2><p>合法的 XML 文档是”形式良好”的 XML 文档，这也符合文档类型定义（DTD）的规则：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">note</span> <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;Note.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">note</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">to</span>&gt;</span>Tove<span class="tag">&lt;/<span class="name">to</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">from</span>&gt;</span>Jani<span class="tag">&lt;/<span class="name">from</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">heading</span>&gt;</span>Reminder<span class="tag">&lt;/<span class="name">heading</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span>Don&#x27;t forget me this weekend!<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">note</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="python解析XML"><a href="#python解析XML" class="headerlink" title="python解析XML"></a>python解析XML</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">students</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">student</span> <span class="attr">no</span>=<span class="string">&quot;2009081097&quot;</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span> <span class="attr">nickname</span>=<span class="string">&quot;apple&quot;</span>&gt;</span>jack<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">gender</span>&gt;</span>M<span class="tag">&lt;/<span class="name">gender</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">age</span> <span class="attr">updated</span>=<span class="string">&quot;yes&quot;</span>&gt;</span>89<span class="tag">&lt;/<span class="name">age</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">score</span> <span class="attr">subject</span>=<span class="string">&quot;math&quot;</span>&gt;</span>97<span class="tag">&lt;/<span class="name">score</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">score</span> <span class="attr">subject</span>=<span class="string">&quot;chinese&quot;</span>&gt;</span>90<span class="tag">&lt;/<span class="name">score</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">student</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">student</span> <span class="attr">no</span>=<span class="string">&quot;2009081098&quot;</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span> <span class="attr">nickname</span>=<span class="string">&quot;apple&quot;</span>&gt;</span>sunny<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">gender</span>&gt;</span>W<span class="tag">&lt;/<span class="name">gender</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">age</span> <span class="attr">updated</span>=<span class="string">&quot;yes&quot;</span>&gt;</span>90<span class="tag">&lt;/<span class="name">age</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">score</span> <span class="attr">subject</span>=<span class="string">&quot;math&quot;</span>&gt;</span>87<span class="tag">&lt;/<span class="name">score</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">score</span> <span class="attr">subject</span>=<span class="string">&quot;chinese&quot;</span>&gt;</span>96<span class="tag">&lt;/<span class="name">score</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">student</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">student</span> <span class="attr">no</span>=<span class="string">&quot;2009081099&quot;</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span> <span class="attr">nickname</span>=<span class="string">&quot;apple&quot;</span>&gt;</span>Anna<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">gender</span>&gt;</span>M<span class="tag">&lt;/<span class="name">gender</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">age</span> <span class="attr">updated</span>=<span class="string">&quot;yes&quot;</span>&gt;</span>88<span class="tag">&lt;/<span class="name">age</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">score</span> <span class="attr">subject</span>=<span class="string">&quot;math&quot;</span>&gt;</span>64<span class="tag">&lt;/<span class="name">score</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">score</span> <span class="attr">subject</span>=<span class="string">&quot;chinese&quot;</span>&gt;</span>98<span class="tag">&lt;/<span class="name">score</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">student</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">students</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">ElementTree 生来就是为了处理 XML ，它在 Python 标准库中有两种实现。</span></span><br><span class="line"><span class="string">一种是纯 Python 实现例如 xml.etree.ElementTree ，</span></span><br><span class="line"><span class="string">另外一种是速度快一点的 xml.etree.cElementTree 。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">你要记住： 尽量使用 C 语言实现的那种，因为它速度更快，而且消耗的内存更少。</span></span><br><span class="line"><span class="string">一般使用下面的代码来导入。  </span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  <span class="keyword">import</span> xml.etree.cElementTree <span class="keyword">as</span> et</span><br><span class="line"><span class="keyword">except</span> ImportError:</span><br><span class="line">  <span class="keyword">import</span> xml.etree.ElementTree <span class="keyword">as</span> et</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解析文件  </span></span><br><span class="line">parser = et.parse(<span class="string">&quot;data.xml&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取根节点  </span></span><br><span class="line">root = parser.getroot()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取标签名字  </span></span><br><span class="line"><span class="built_in">print</span>(root.tag)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取属性  </span></span><br><span class="line">attr = root.attrib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过索引访问节点  </span></span><br><span class="line"><span class="built_in">print</span>(root[<span class="number">0</span>][<span class="number">0</span>].text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找根目录下面的子元素  </span></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> root.findall(<span class="string">&quot;student&quot;</span>):  </span><br><span class="line">  <span class="comment"># 查找一个具体的元素  </span></span><br><span class="line">  <span class="built_in">print</span>(name.find(<span class="string">&quot;age&quot;</span>).get(<span class="string">&quot;updated&quot;</span>))</span><br><span class="line">  <span class="comment">#获取属性  </span></span><br><span class="line">  <span class="built_in">print</span>(name.get(<span class="string">&quot;no&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#获取student元素  </span></span><br><span class="line"><span class="comment">#更改student.age年龄  </span></span><br><span class="line"><span class="comment">#获取name设置属性  </span></span><br><span class="line"><span class="comment">#写入文档  </span></span><br><span class="line"><span class="keyword">for</span> child <span class="keyword">in</span> root.<span class="built_in">iter</span>(<span class="string">&quot;student&quot;</span>):  </span><br><span class="line">  new_age = <span class="built_in">int</span>(child.find(<span class="string">&quot;age&quot;</span>).text) + <span class="number">10</span></span><br><span class="line">  child.find(<span class="string">&quot;age&quot;</span>).text = <span class="built_in">str</span>(new_age)</span><br><span class="line">  child.find(<span class="string">&quot;name&quot;</span>).<span class="built_in">set</span>(<span class="string">&quot;nickname&quot;</span>,<span class="string">&quot;apple&quot;</span>)</span><br><span class="line">parser.write(<span class="string">&quot;data.xml&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#查找根目录下面的子元素  </span></span><br><span class="line"><span class="comment">#查找age  </span></span><br><span class="line"><span class="comment">#如果大于age删除元素  </span></span><br><span class="line"><span class="comment">#写入文档  </span></span><br><span class="line"><span class="keyword">for</span> offspring <span class="keyword">in</span> root.findall(<span class="string">&quot;student&quot;</span>):  </span><br><span class="line">  age = <span class="built_in">int</span>(offspring.find(<span class="string">&quot;age&quot;</span>).text)</span><br><span class="line">  <span class="keyword">if</span>(age &gt; <span class="number">60</span>):  </span><br><span class="line">    root.remove(offspring)</span><br><span class="line">parser.write(<span class="string">&quot;data.xml&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建元素  </span></span><br><span class="line">father = et.Element(<span class="string">&quot;father&quot;</span>)</span><br><span class="line">father.text = <span class="string">&quot;Jason&quot;</span></span><br><span class="line">son = et.SubElement(father,<span class="string">&quot;son&quot;</span>) </span><br><span class="line">son.text = <span class="string">&quot;Lan&quot;</span>  </span><br><span class="line">daughter=et.SubElement(father,<span class="string">&quot;daughter&quot;</span>) </span><br><span class="line">daughter.text = <span class="string">&quot;sunny&quot;</span>    </span><br><span class="line"><span class="built_in">print</span>(et.dump(father)) </span><br><span class="line">exit()</span><br><span class="line"></span><br><span class="line"><span class="comment">#迭代属性  </span></span><br><span class="line"><span class="keyword">for</span> child <span class="keyword">in</span> root:  </span><br><span class="line">  <span class="built_in">print</span>((<span class="string">&quot;iterator node name is &#123;&#125; , attr is &#123;&#125;&quot;</span>).<span class="built_in">format</span>)(child.tag,child.attrib) </span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> student <span class="keyword">in</span> root.findall(<span class="string">&#x27;student&#x27;</span>):  </span><br><span class="line">  <span class="built_in">id</span> = student.get(<span class="string">&quot;no&quot;</span>) </span><br><span class="line">  name = student.find(<span class="string">&quot;name&quot;</span>).text  </span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">id</span>,name)  </span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> age <span class="keyword">in</span> root.<span class="built_in">iter</span>(<span class="string">&#x27;age&#x27;</span>): </span><br><span class="line">  new_age = <span class="built_in">int</span>(age.text)+<span class="number">1</span>  </span><br><span class="line">  age.text = <span class="built_in">str</span>(new_age)</span><br><span class="line">  age.<span class="built_in">set</span>(<span class="string">&#x27;updated&#x27;</span>,<span class="string">&#x27;yes&#x27;</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="comment">#写入文件 用什么编码 是否要申明头部文件  </span></span><br><span class="line">parser.write(<span class="string">&quot;data.xml&quot;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>,xml_declaration=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> root.<span class="built_in">iter</span>(<span class="string">&quot;student&quot;</span>):  </span><br><span class="line">  <span class="comment">#print name.tag</span></span><br><span class="line">  <span class="built_in">print</span>(name.attrib[<span class="string">&quot;no&quot;</span>])</span><br></pre></td></tr></table></figure>







</div></div></article><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>