<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=" id=&quot;读取文件的方法&quot;&gt;&lt;a href=&quot;#读取文件的方法&quot; class=&quot;headerlink&quot; title=&quot;读取文件的方法&quot;&gt;&lt;/a&gt;读取文件的方法&lt;/h2&gt;&lt;h3 id=&quot;正常的读取文件的方法&quot;&gt;&lt;a href=&quot;#正常的读取文件的方法&quot; class=&quot;headerlink&quot; title=&quot;正常的读取文件的方法&quot;&gt;&lt;/a&gt;正常的读取文件的方法&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;read_file&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;file_route&lt;/span&gt;):&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;open&lt;/span&gt;(file_route,&lt;span class=&quot;string&quot;&gt;r&amp;#x27;&amp;#x27;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; f:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(f.readlines())&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;使用生成器1&quot;&gt;&lt;a href=&quot;#使用生成器1&quot; class=&quot;headerlink&quot; title=&quot;使用生成器1&quot;&gt;&lt;/a&gt;使用生成器1&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;read_file&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;file_route&lt;/span&gt;):&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;open&lt;/span&gt;(file_route,&lt;span class=&quot;string&quot;&gt;r&amp;#x27;&amp;#x27;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; f:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; line &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; f:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; line&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;使用生成器2&quot;&gt;&lt;a href=&quot;#使用生成器2&quot; class=&quot;headerlink&quot; title=&quot;使用生成器2&quot;&gt;&lt;/a&gt;使用生成器2&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;read_file&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;file_route&lt;/span&gt;):&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;open&lt;/span&gt;(file_route,&lt;span class=&quot;string&quot;&gt;r&amp;#x27;&amp;#x27;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; f:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; f&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;h3 id=&quot;漂亮的读取文件的方法&quot;&gt;&lt;a href=&quot;#漂亮的读取文件的方法&quot; class=&quot;headerlink&quot; title=&quot;漂亮的读取文件的方法&quot;&gt;&lt;/a&gt;漂亮的读取文件的方法&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;read_file&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;file_route&lt;/span&gt;):&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;open&lt;/span&gt;(file_route,&lt;span class=&quot;string&quot;&gt;&amp;#x27;r&amp;#x27;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; f:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;iter&lt;/span&gt;(f.readline,&lt;span class=&quot;string&quot;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;file_route = &lt;span class=&quot;string&quot;&gt;r&amp;#x27;D:\trainingfile\training.txt&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; line &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; read_file(file_route):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(line)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;h3 id=&quot;使用mmap-处理超大文件&quot;&gt;&lt;a href=&quot;#使用mmap-处理超大文件&quot; class=&quot;headerlink&quot; title=&quot;使用mmap(处理超大文件)&quot;&gt;&lt;/a&gt;使用mmap(处理超大文件)&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; mmap&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;read_file&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;file_route&lt;/span&gt;):&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# 注意必须+,否则无权限&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;open&lt;/span&gt;(file_route, &lt;span class=&quot;string&quot;&gt;&amp;quot;r+&amp;quot;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; f:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# 0代表整个文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mm = mmap.mmap(f.fileno(), &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# 可以使用文件的标准方法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;iter&lt;/span&gt;(mm.readline,&lt;span class=&quot;string&quot;&gt;b&amp;#x27;&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mm.close()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; __name__==&lt;span class=&quot;string&quot;&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    file_route = &lt;span class=&quot;string&quot;&gt;r&amp;#x27;D:\trainingfile\training.txt&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; line &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; read_file(file_route):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# 返回二进制数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(line)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;





&lt;h2 id=&quot;os的常用操作&quot;&gt;&lt;a href=&quot;#os的常用操作&quot; class=&quot;headerlink&quot; title=&quot;os的常用操作&quot;&gt;&lt;/a&gt;os的常用操作&lt;/h2&gt;&lt;h3 id=&quot;os操作-文件和目录操作&quot;&gt;&lt;a href=&quot;#os操作-文件和目录操作&quot; class=&quot;headerlink&quot; title=&quot;os操作 (文件和目录操作)&quot;&gt;&lt;/a&gt;os操作 (文件和目录操作)&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;文件和目录操作&lt;/strong&gt;和Linux及其相近"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>面试问题总结3_python具体应用篇 | 凉薄的自动书记人偶</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Tags</a><a class="sidebar-nav-item" href="/About">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Interview/" rel="tag">Interview</a></div><div class="post-time">2019-08-10</div></div></div><div class="container post-header"><h1>面试问题总结3_python具体应用篇</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">读取文件的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E5%B8%B8%E7%9A%84%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text">正常的读取文件的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%94%9F%E6%88%90%E5%99%A81"><span class="toc-number">1.2.</span> <span class="toc-text">使用生成器1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%94%9F%E6%88%90%E5%99%A82"><span class="toc-number">1.3.</span> <span class="toc-text">使用生成器2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%82%E4%BA%AE%E7%9A%84%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.4.</span> <span class="toc-text">漂亮的读取文件的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8mmap-%E5%A4%84%E7%90%86%E8%B6%85%E5%A4%A7%E6%96%87%E4%BB%B6"><span class="toc-number">1.5.</span> <span class="toc-text">使用mmap(处理超大文件)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#os%E7%9A%84%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">2.</span> <span class="toc-text">os的常用操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#os%E6%93%8D%E4%BD%9C-%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C"><span class="toc-number">2.1.</span> <span class="toc-text">os操作 (文件和目录操作)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#os-path%E6%93%8D%E4%BD%9C-%E8%B7%AF%E5%BE%84%E6%93%8D%E4%BD%9C"><span class="toc-number">2.2.</span> <span class="toc-text">os.path操作 (路径操作)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6-%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88-%E9%80%92%E5%BD%92%E7%89%88"><span class="toc-number">2.3.</span> <span class="toc-text">获取目录下所有文件(深度优先-递归版)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6-%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88-%E8%BF%AD%E4%BB%A3%E7%89%88"><span class="toc-number">2.4.</span> <span class="toc-text">获取目录下所有文件(深度优先-迭代版)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6-%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88-%E8%BF%AD%E4%BB%A3%E7%89%88"><span class="toc-number">2.5.</span> <span class="toc-text">获取目录下所有文件(广度优先-迭代版)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Time%E6%A8%A1%E5%9D%97"><span class="toc-number">3.</span> <span class="toc-text">Time模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E4%B8%A4%E7%A7%8D%E6%8E%92%E5%BA%8F"><span class="toc-number">4.</span> <span class="toc-text">字典两种排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%9C%89%E7%B4%A2%E5%BC%95%E9%94%99%E8%AF%AF-%E4%BD%86%E6%98%AF%E6%B2%A1%E6%9C%89%E5%88%87%E7%89%87%E9%94%99%E8%AF%AF"><span class="toc-number">5.</span> <span class="toc-text">列表有索引错误,但是没有切片错误</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C"><span class="toc-number">6.</span> <span class="toc-text">集合操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%8D%95%E4%BE%8B%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">7.</span> <span class="toc-text">创建单例的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%95%E4%B8%80-%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%B1%BB"><span class="toc-number">7.1.</span> <span class="toc-text">法一 : 使用基类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%95%E4%BA%8C-%E4%BD%BF%E7%94%A8%E7%B1%BB%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">7.2.</span> <span class="toc-text">法二 : 使用类装饰器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%95%E4%B8%89-%E4%BD%BF%E7%94%A8%E5%85%83%E7%B1%BB"><span class="toc-number">7.3.</span> <span class="toc-text">法三 : 使用元类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E5%AE%9E%E7%8E%B0%E9%81%8D%E5%8E%86%E7%9B%AE%E5%BD%95%E4%B8%8E%E5%AD%90%E7%9B%AE%E5%BD%95%EF%BC%8C%E6%8A%93%E5%8F%96-pyc%E6%96%87%E4%BB%B6"><span class="toc-number">8.</span> <span class="toc-text">设计实现遍历目录与子目录，抓取.pyc文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%95%E4%B8%80-%E4%BD%BF%E7%94%A8%E9%80%92%E5%BD%92"><span class="toc-number">8.1.</span> <span class="toc-text">法一 : 使用递归</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%95%E4%BA%8C-%E4%BD%BF%E7%94%A8os-walk"><span class="toc-number">8.2.</span> <span class="toc-text">法二 : 使用os.walk</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%93%8D%E4%BD%9C%E9%A2%98%E7%9B%AE"><span class="toc-number">9.</span> <span class="toc-text">字符串的操作题目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E4%BD%BF%E7%94%A8%E5%86%85%E7%BD%AEapi-%E5%B0%86%E5%AD%97%E7%AC%A6%E4%B8%B2-quot-123-quot-%E8%BD%AC%E6%8D%A2%E6%88%90-123"><span class="toc-number">10.</span> <span class="toc-text">不使用内置api,将字符串 &quot;123&quot; 转换成 123</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E4%B8%80%E4%B8%AA%E6%96%87%E6%9C%AC%E4%B8%AD%E5%8D%95%E8%AF%8D%E9%A2%91%E6%AC%A1%E6%9C%80%E9%AB%98%E7%9A%8410%E4%B8%AA%E5%8D%95%E8%AF%8D"><span class="toc-number">10.1.</span> <span class="toc-text">统计一个文本中单词频次最高的10个单词</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E7%B4%A2%E5%BC%95"><span class="toc-number">11.</span> <span class="toc-text">返回索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E6%8E%92%E5%BA%8F"><span class="toc-number">12.</span> <span class="toc-text">复杂排序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E6%97%8B%E8%BD%AC%E6%95%B0%E7%BB%84"><span class="toc-number">12.1.</span> <span class="toc-text">搜索旋转数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E4%B8%80%E4%B8%AAobject%E7%9A%84%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7%EF%BC%8C%E5%B9%B6print%E6%AF%8F%E4%B8%80%E4%B8%AA%E5%B1%9E%E6%80%A7%E5%90%8D"><span class="toc-number">13.</span> <span class="toc-text">遍历一个object的所有属性，并print每一个属性名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E8%A3%85%E9%A5%B0%E5%99%A8%E5%86%99%E6%B3%95"><span class="toc-number">14.</span> <span class="toc-text">常用的装饰器写法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">14.1.</span> <span class="toc-text">使用函数作为装饰器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%B1%BB%E4%BD%9C%E4%B8%BA%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">14.2.</span> <span class="toc-text">使用类作为装饰器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E8%A1%8C%E4%BB%A3%E7%A0%81%E8%A7%A3%E5%86%B3%E9%98%B6%E4%B9%98%E5%87%BD%E6%95%B0"><span class="toc-number">15.</span> <span class="toc-text">一行代码解决阶乘函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E8%A1%8C%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E5%B0%861-N-%E7%9A%84%E6%95%B4%E6%95%B0%E5%88%97%E8%A1%A8%E4%BB%A53%E4%B8%BA%E5%8D%95%E4%BD%8D%E5%88%86%E7%BB%84"><span class="toc-number">16.</span> <span class="toc-text">一行代码实现将1-N 的整数列表以3为单位分组</span></a></li></ol></details></div><div class="container post-content"><h2 id="读取文件的方法"><a href="#读取文件的方法" class="headerlink" title="读取文件的方法"></a>读取文件的方法</h2><h3 id="正常的读取文件的方法"><a href="#正常的读取文件的方法" class="headerlink" title="正常的读取文件的方法"></a>正常的读取文件的方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_file</span>(<span class="params">file_route</span>):</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_route,<span class="string">r&#x27;&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="built_in">print</span>(f.readlines())</span><br></pre></td></tr></table></figure>

<h3 id="使用生成器1"><a href="#使用生成器1" class="headerlink" title="使用生成器1"></a>使用生成器1</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_file</span>(<span class="params">file_route</span>):</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_route,<span class="string">r&#x27;&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">            <span class="keyword">yield</span> line</span><br></pre></td></tr></table></figure>

<h3 id="使用生成器2"><a href="#使用生成器2" class="headerlink" title="使用生成器2"></a>使用生成器2</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_file</span>(<span class="params">file_route</span>):</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_route,<span class="string">r&#x27;&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">yield</span> <span class="keyword">from</span> f</span><br></pre></td></tr></table></figure>



<h3 id="漂亮的读取文件的方法"><a href="#漂亮的读取文件的方法" class="headerlink" title="漂亮的读取文件的方法"></a>漂亮的读取文件的方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_file</span>(<span class="params">file_route</span>):</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_route,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">yield</span> <span class="keyword">from</span> <span class="built_in">iter</span>(f.readline,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">file_route = <span class="string">r&#x27;D:\trainingfile\training.txt&#x27;</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> read_file(file_route):</span><br><span class="line">    <span class="built_in">print</span>(line)</span><br></pre></td></tr></table></figure>



<h3 id="使用mmap-处理超大文件"><a href="#使用mmap-处理超大文件" class="headerlink" title="使用mmap(处理超大文件)"></a>使用mmap(处理超大文件)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mmap</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_file</span>(<span class="params">file_route</span>):</span></span><br><span class="line">    <span class="comment"># 注意必须+,否则无权限</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_route, <span class="string">&quot;r+&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="comment"># 0代表整个文件</span></span><br><span class="line">        mm = mmap.mmap(f.fileno(), <span class="number">0</span>)</span><br><span class="line">        <span class="comment"># 可以使用文件的标准方法</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="keyword">from</span> <span class="built_in">iter</span>(mm.readline,<span class="string">b&#x27;&#x27;</span>)</span><br><span class="line">        mm.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    file_route = <span class="string">r&#x27;D:\trainingfile\training.txt&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> read_file(file_route):</span><br><span class="line">        <span class="comment"># 返回二进制数据</span></span><br><span class="line">        <span class="built_in">print</span>(line)</span><br></pre></td></tr></table></figure>





<h2 id="os的常用操作"><a href="#os的常用操作" class="headerlink" title="os的常用操作"></a>os的常用操作</h2><h3 id="os操作-文件和目录操作"><a href="#os操作-文件和目录操作" class="headerlink" title="os操作 (文件和目录操作)"></a>os操作 (文件和目录操作)</h3><blockquote>
<p><strong>文件和目录操作</strong>和Linux及其相近</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取当前文件所在目录</span></span><br><span class="line"><span class="built_in">print</span>(os.getcwd())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取当前文件所在目录的所有文件/目录 (注意不会递归)</span></span><br><span class="line"><span class="built_in">print</span>(os.listdir(<span class="string">r&#x27;D:\trainingfile&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建目录</span></span><br><span class="line">os.mkdir(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除目录</span></span><br><span class="line">os.rmdir(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重命名</span></span><br><span class="line">os.rename(<span class="string">&#x27;test.py&#x27;</span>,<span class="string">&#x27;test2.py&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除文件</span></span><br><span class="line">os.remove(<span class="string">&#x27;13.py&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>os.walk方法，主要用来遍历一个目录内各个子目录和子文件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> root, dirs, files <span class="keyword">in</span> os.walk(<span class="string">r&#x27;D:\trainingfile&#x27;</span>):</span><br><span class="line">    <span class="built_in">print</span>(root)   <span class="comment"># string，目录下所有文件夹 </span></span><br><span class="line">    <span class="built_in">print</span>(dirs)   <span class="comment"># list，上面文件夹下的所有文件夹(子目录)</span></span><br><span class="line">    <span class="built_in">print</span>(files)  <span class="comment"># list，上面文件夹下的所有文件(子目录的文件)</span></span><br></pre></td></tr></table></figure>



<h3 id="os-path操作-路径操作"><a href="#os-path操作-路径操作" class="headerlink" title="os.path操作 (路径操作)"></a>os.path操作 (路径操作)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># 组合路径</span></span><br><span class="line">os.path.join(<span class="string">r&#x27;c:\a\b&#x27;</span>,<span class="string">r&#x27;c\d&#x27;</span>)  <span class="comment"># c:\a\b\c\d</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 拆分路径</span></span><br><span class="line">os.path.split(<span class="string">r&#x27;c:\a\b\c\d.py&#x27;</span>)  <span class="comment"># (&#x27;c:\\a\\b\\c&#x27;, &#x27;d.py&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 拆分扩展名</span></span><br><span class="line">os.path.splitext(<span class="string">r&#x27;c:\a\b\c\d.py&#x27;</span>)  <span class="comment"># (&#x27;c:\\a\\b\\c\\d&#x27;, &#x27;.py&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 目录是否存在  (注意,不要被isdir这个名字迷惑了)</span></span><br><span class="line">os.path.isdir(<span class="string">r&#x27;c:\a\b\c\d.py&#x27;</span>)  <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件是否存在</span></span><br><span class="line">os.path.isfile(<span class="string">r&#x27;c:\a\b\c\d.py&#x27;</span>)  <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件或目录是否存在</span></span><br><span class="line">os.path.exists(<span class="string">r&#x27;d:\note&#x27;</span>)</span><br><span class="line">os.path.exists(<span class="string">r&#x27;D:\trainingfile\config.py&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取目录名</span></span><br><span class="line">os.path.dirname(<span class="string">r&#x27;D:\trainingfile\config.py&#x27;</span>)  <span class="comment"># D:\trainingfile</span></span><br><span class="line">os.path.dirname(<span class="string">r&#x27;D:\trainingfile&#x27;</span>)  <span class="comment"># D:\</span></span><br></pre></td></tr></table></figure>



<h3 id="获取目录下所有文件-深度优先-递归版"><a href="#获取目录下所有文件-深度优先-递归版" class="headerlink" title="获取目录下所有文件(深度优先-递归版)"></a>获取目录下所有文件(深度优先-递归版)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_dir_content</span>(<span class="params">dir_name</span>):</span></span><br><span class="line">	<span class="keyword">for</span> child <span class="keyword">in</span> os.listdir(dir_name):</span><br><span class="line">		<span class="built_in">print</span>(child)</span><br><span class="line">		new_dir = os.path.join(dir_name,child)</span><br><span class="line">		<span class="keyword">if</span> os.path.isdir(new_dir):</span><br><span class="line">			print_dir_content(new_dir)</span><br><span class="line"></span><br><span class="line">print_dir_content(<span class="string">r&#x27;F:\乱七八糟\360安全浏览器下载\chrome\下载\messing\小说&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="获取目录下所有文件-深度优先-迭代版"><a href="#获取目录下所有文件-深度优先-迭代版" class="headerlink" title="获取目录下所有文件(深度优先-迭代版)"></a>获取目录下所有文件(深度优先-迭代版)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_dir_content</span>(<span class="params">dir_name</span>):</span></span><br><span class="line">    stack = [dir_name]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> stack:</span><br><span class="line">        cur = stack.pop()</span><br><span class="line">        <span class="built_in">print</span>(cur)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(cur):</span><br><span class="line">            <span class="comment"># 获取当前文件夹的文件</span></span><br><span class="line">            stack.extend([os.path.join(dir_name,child) <span class="keyword">for</span> child <span class="keyword">in</span> os.listdir(cur)])</span><br><span class="line"></span><br><span class="line">print_dir_content(<span class="string">r&#x27;F:\乱七八糟\360安全浏览器下载\chrome\下载\messing\小说&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="获取目录下所有文件-广度优先-迭代版"><a href="#获取目录下所有文件-广度优先-迭代版" class="headerlink" title="获取目录下所有文件(广度优先-迭代版)"></a>获取目录下所有文件(广度优先-迭代版)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_dir_content</span>(<span class="params">dir_name</span>):</span></span><br><span class="line">    queue = os.listdir(dir_name)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> queue:</span><br><span class="line">        tmp = []</span><br><span class="line">        <span class="keyword">for</span> child <span class="keyword">in</span> queue:</span><br><span class="line">            <span class="built_in">print</span>(child)</span><br><span class="line">            new_dir = os.path.join(dir_name,child)</span><br><span class="line">            <span class="keyword">if</span> os.path.isdir(new_dir):</span><br><span class="line">                tmp.extend(os.listdir(new_dir))</span><br><span class="line">        queue = tmp</span><br><span class="line"></span><br><span class="line">print_dir_content(<span class="string">r&#x27;F:\乱七八糟\360安全浏览器下载\chrome\下载\messing\小说&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h2 id="Time模块"><a href="#Time模块" class="headerlink" title="Time模块"></a>Time模块</h2><ul>
<li>time模块基于Unix Timestamp。</li>
<li>datetime模块基于time进行了封装，提供更多函数。</li>
</ul>
<blockquote>
<p>这两个模块都处理事件，但是<strong>对于时间的封装却不同</strong>。</p>
<ul>
<li>time模块提供struct_time类, 即（time tuple, p_tuple, 时间元组）</li>
<li>datetime模块常用datetime和timedelta类，也提供了date、time类</li>
</ul>
</blockquote>
<p><img src="/images/20180124174004581.png" alt="20180124174004581"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取struct_time</span></span><br><span class="line">p_tuple = time.localtime()</span><br><span class="line"><span class="built_in">print</span>(p_tuple)  <span class="comment"># time.struct_time(tm_year=2019, tm_mon=8, tm_mday=6, tm_hour=9, tm_min=30, tm_sec=58, tm_wday=1, tm_yday=218, tm_isdst=0)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取时间戳(当前时间)</span></span><br><span class="line"><span class="built_in">print</span>(time.time())  <span class="comment"># 1565055058.6990192</span></span><br><span class="line"><span class="comment"># 获取时间戳(传入时间元组)</span></span><br><span class="line"><span class="built_in">print</span>(time.mktime(p_tuple))  <span class="comment"># 1565055058.0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取时间字符串(接受时间元组)</span></span><br><span class="line"><span class="built_in">print</span>(time.asctime(p_tuple))   <span class="comment"># Tue Aug  6 09:32:37 2019</span></span><br><span class="line"><span class="comment"># 获取时间字符串(接受时间戳)</span></span><br><span class="line"><span class="built_in">print</span>(time.ctime(time.time())) <span class="comment"># Tue Aug  6 09:32:37 2019</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 时间格式化(时间元组转为时间字符串)</span></span><br><span class="line"><span class="built_in">print</span>(time.strftime(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, time.localtime()))</span><br><span class="line"><span class="comment"># 时间格式化(时间字符串转为时间元组)</span></span><br><span class="line">s = <span class="string">&#x27;2016-08-25 16:30:58&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(time.strptime(s, <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>))</span><br></pre></td></tr></table></figure>



<h2 id="字典两种排序"><a href="#字典两种排序" class="headerlink" title="字典两种排序"></a>字典两种排序</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 现有字典 d= &#123;&#x27;a&#x27;:24,&#x27;g&#x27;:52,&#x27;i&#x27;:12,&#x27;k&#x27;:33&#125;请按value值进行排序?</span></span><br><span class="line"></span><br><span class="line">d= &#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">24</span>,<span class="string">&#x27;g&#x27;</span>:<span class="number">52</span>,<span class="string">&#x27;i&#x27;</span>:<span class="number">12</span>,<span class="string">&#x27;k&#x27;</span>:<span class="number">33</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> val,key <span class="keyword">in</span> <span class="built_in">sorted</span>(<span class="built_in">zip</span>(d.values(),d.keys())):</span><br><span class="line">    <span class="built_in">print</span>(val,key)</span><br><span class="line"><span class="comment"># 12 i</span></span><br><span class="line"><span class="comment"># 24 a</span></span><br><span class="line"><span class="comment"># 33 k</span></span><br><span class="line"><span class="comment"># 52 g</span></span><br><span class="line"></span><br><span class="line">x = <span class="built_in">sorted</span>(d,key=<span class="keyword">lambda</span> x:d[x])</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="comment"># [&#x27;i&#x27;, &#x27;a&#x27;, &#x27;k&#x27;, &#x27;g&#x27;]</span></span><br></pre></td></tr></table></figure>



<h2 id="列表有索引错误-但是没有切片错误"><a href="#列表有索引错误-但是没有切片错误" class="headerlink" title="列表有索引错误,但是没有切片错误"></a>列表有索引错误,但是没有切片错误</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span> = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>[<span class="number">10</span>])   <span class="comment"># IndexError: list index out of range</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>[<span class="number">10</span>:]) <span class="comment"># 返回[]</span></span><br></pre></td></tr></table></figure>



<h2 id="集合操作"><a href="#集合操作" class="headerlink" title="集合操作"></a>集合操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = t | s            <span class="comment"># t 和 s的并集  </span></span><br><span class="line">b = t &amp; s          <span class="comment"># t 和 s的交集</span></span><br><span class="line">c = t – s           <span class="comment"># 求差集（项在t中，但不在s中）  </span></span><br><span class="line">d = t ^ s          <span class="comment"># 对称差集（项在t或s中，但不会同时出现在二者中）  </span></span><br></pre></td></tr></table></figure>



<h2 id="创建单例的方法"><a href="#创建单例的方法" class="headerlink" title="创建单例的方法"></a>创建单例的方法</h2><h3 id="法一-使用基类"><a href="#法一-使用基类" class="headerlink" title="法一 : 使用基类"></a>法一 : 使用基类</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    __instance = <span class="literal">None</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span>(<span class="params">cls,*args,**kwargs</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> cls.__instance:</span><br><span class="line">            cls.__instance = <span class="built_in">super</span>().__new__(cls)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cls.__instance</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">a1 = A(<span class="string">&#x27;hyl&#x27;</span>)</span><br><span class="line">a2 = A(<span class="string">&#x27;dsz&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a1)) <span class="comment"># 1985848916792</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a2)) <span class="comment"># 1985848916792</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 属性被最后一个单例覆盖</span></span><br><span class="line"><span class="built_in">print</span>(a1.name) <span class="comment"># dsz</span></span><br><span class="line"><span class="built_in">print</span>(a2.name) <span class="comment"># dsz</span></span><br></pre></td></tr></table></figure>

<h3 id="法二-使用类装饰器"><a href="#法二-使用类装饰器" class="headerlink" title="法二 : 使用类装饰器"></a>法二 : 使用类装饰器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">singleton</span>(<span class="params">cls</span>):</span></span><br><span class="line">    <span class="comment"># 键为cls,值为instance</span></span><br><span class="line">    instances = &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrap</span>(<span class="params">*args,**kwargs</span>):</span></span><br><span class="line">        <span class="keyword">if</span> cls <span class="keyword">not</span> <span class="keyword">in</span> instances:</span><br><span class="line">            instances[cls] = cls(*args,**kwargs)</span><br><span class="line">        <span class="keyword">return</span> instances[cls]</span><br><span class="line">    <span class="keyword">return</span> wrap</span><br><span class="line"></span><br><span class="line"><span class="meta">@singleton</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">a1 = A()</span><br><span class="line">a2 = A()</span><br><span class="line"><span class="built_in">print</span>(a1 <span class="keyword">is</span> a2)  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<h3 id="法三-使用元类"><a href="#法三-使用元类" class="headerlink" title="法三 : 使用元类"></a>法三 : 使用元类</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span>(<span class="params"><span class="built_in">type</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__call__</span>(<span class="params">cls, *args, **kwargs</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">hasattr</span>(cls, <span class="string">&#x27;_instance&#x27;</span>):</span><br><span class="line">            cls._instance = <span class="built_in">super</span>().__call__(*args, **kwargs)</span><br><span class="line">        <span class="keyword">return</span> cls._instance</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>(<span class="params">metaclass=Singleton</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">foo1 = Foo()</span><br><span class="line">foo2 = Foo()</span><br><span class="line"><span class="built_in">print</span>(foo1 <span class="keyword">is</span> foo2)  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>



<h2 id="设计实现遍历目录与子目录，抓取-pyc文件"><a href="#设计实现遍历目录与子目录，抓取-pyc文件" class="headerlink" title="设计实现遍历目录与子目录，抓取.pyc文件"></a>设计实现遍历目录与子目录，抓取.pyc文件</h2><h3 id="法一-使用递归"><a href="#法一-使用递归" class="headerlink" title="法一 : 使用递归"></a>法一 : 使用递归</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_pyc</span>(<span class="params">dir_name</span>):</span></span><br><span class="line">    children = os.listdir(dir_name)</span><br><span class="line">    <span class="keyword">for</span> child <span class="keyword">in</span> children:</span><br><span class="line">        child_route = os.path.join(dir_name,child)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(child_route):</span><br><span class="line">            <span class="keyword">yield</span> <span class="keyword">from</span> find_pyc(child_route)</span><br><span class="line">        <span class="keyword">if</span> os.path.isfile(child_route) <span class="keyword">and</span> os.path.splitext(child_route)[-<span class="number">1</span>] == <span class="string">&#x27;.pyc&#x27;</span>:</span><br><span class="line">            <span class="keyword">yield</span> child_route</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> find_pyc(<span class="string">r&#x27;D:\note\Celery\_trainingfile\workspace&#x27;</span>):</span><br><span class="line">        <span class="built_in">print</span>(file)</span><br></pre></td></tr></table></figure>

<h3 id="法二-使用os-walk"><a href="#法二-使用os-walk" class="headerlink" title="法二 : 使用os.walk"></a>法二 : 使用os.walk</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_pyc</span>(<span class="params">dir_route</span>):</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="keyword">for</span> root,_,files <span class="keyword">in</span> os.walk(dir_route):</span><br><span class="line">        <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">            <span class="keyword">if</span> os.path.splitext(file)[-<span class="number">1</span>] == <span class="string">&#x27;.pyc&#x27;</span>:</span><br><span class="line">                res.append(os.path.join(root,file))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    x= find_pyc(<span class="string">r&#x27;D:\note\Celery\_trainingfile\workspace&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(x)</span><br></pre></td></tr></table></figure>



<h2 id="字符串的操作题目"><a href="#字符串的操作题目" class="headerlink" title="字符串的操作题目"></a>字符串的操作题目</h2><p>全字母短句 PANGRAM 是包含所有英文字母的句子.实现一个方法 get_missing_letter, 传入一个字符串采纳数，返回参数字符串变成一个 PANGRAM 中所缺失的字符</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> string <span class="keyword">import</span> ascii_lowercase</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_missing_letter</span>(<span class="params">string</span>):</span></span><br><span class="line">	d = OrderedDict()</span><br><span class="line">	<span class="comment"># 注意fromkeys有返回值</span></span><br><span class="line">	d = d.fromkeys(ascii_lowercase,<span class="number">0</span>)</span><br><span class="line">	</span><br><span class="line">	string = string.lower()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> s <span class="keyword">in</span> string:</span><br><span class="line">		<span class="keyword">if</span> s <span class="keyword">in</span> ascii_lowercase:</span><br><span class="line">			d[s] = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> char,appear <span class="keyword">in</span> d.items():</span><br><span class="line">		<span class="keyword">if</span> <span class="keyword">not</span> appear:</span><br><span class="line">			<span class="built_in">print</span>(char)</span><br><span class="line"></span><br><span class="line">get_missing_letter(<span class="string">&quot;A quick brown for jumps over the lazy dog&quot;</span>)  <span class="comment"># x</span></span><br></pre></td></tr></table></figure>



<h2 id="不使用内置api-将字符串-quot-123-quot-转换成-123"><a href="#不使用内置api-将字符串-quot-123-quot-转换成-123" class="headerlink" title="不使用内置api,将字符串 &quot;123&quot; 转换成 123"></a>不使用内置api,将字符串 <code>&quot;123&quot;</code> 转换成 <code>123</code></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change</span>(<span class="params">str_nums</span>):</span></span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> str_num <span class="keyword">in</span> str_nums:</span><br><span class="line">        num = <span class="built_in">ord</span>(str_num) - <span class="built_in">ord</span>(<span class="string">&#x27;1&#x27;</span>) + <span class="number">1</span></span><br><span class="line">        res = res*<span class="number">10</span> + num</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(change(<span class="string">&#x27;1382&#x27;</span>))  <span class="comment"># 1382</span></span><br></pre></td></tr></table></figure>



<h3 id="统计一个文本中单词频次最高的10个单词"><a href="#统计一个文本中单词频次最高的10个单词" class="headerlink" title="统计一个文本中单词频次最高的10个单词"></a>统计一个文本中单词频次最高的10个单词</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 统计一个文本中单词频次最高的10个单词</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> nlargest</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">top10</span>(<span class="params">file_name</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">yield_word</span>(<span class="params">file_name</span>):</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file_name,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">                lineone = re.sub(<span class="string">r&#x27;\W+&#x27;</span>,<span class="string">&#x27; &#x27;</span>,line)</span><br><span class="line">                <span class="keyword">yield</span> <span class="keyword">from</span> lineone.split()</span><br><span class="line"></span><br><span class="line">    res = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> yield_word(file_name):</span><br><span class="line">        res[word] = res.get(word,<span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> nlargest(<span class="number">10</span>,res,key=<span class="keyword">lambda</span> x:res[x]) </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    route = <span class="string">r&#x27;D:\trainingfile\config.yaml&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(top10(route))</span><br></pre></td></tr></table></figure>



<h2 id="返回索引"><a href="#返回索引" class="headerlink" title="返回索引"></a>返回索引</h2><p>注意 : <strong>index是list和tuple的方法</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">1</span></span><br><span class="line">y = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(y.index(x)) <span class="comment"># 0</span></span><br></pre></td></tr></table></figure>



<h2 id="复杂排序"><a href="#复杂排序" class="headerlink" title="复杂排序"></a>复杂排序</h2><p>传入list,让所有奇数都在偶数前面，而且奇数升序排列，偶数降序排序</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">alist</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sorted</span>(alist,key=<span class="keyword">lambda</span> x: <span class="built_in">int</span>(x) % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">and</span> <span class="number">20</span> - <span class="built_in">int</span>(x) <span class="keyword">or</span> <span class="built_in">int</span>(x))</span><br><span class="line"><span class="built_in">print</span>(func([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]))  <span class="comment"># [1, 3, 5, 7, 9, 8, 6, 4, 2]</span></span><br></pre></td></tr></table></figure>



<h3 id="搜索旋转数组"><a href="#搜索旋转数组" class="headerlink" title="搜索旋转数组"></a>搜索旋转数组</h3><p>假设按照升序排序的数组在预先未知的某个点上进行了旋转。</p>
<p>( 例如，数组 [0,0,1,2,2,5,6] 可能变为 [2,5,6,0,0,1,2] )。</p>
<p>编写一个函数来判断给定的目标值是否存在于数组中。若存在返回 true，否则返回 false。</p>
<p>示例 1:</p>
<p>输入: nums = [2,5,6,0,0,1,2], target = 0<br>输出: true</p>
<p>示例 2:</p>
<p>输入: nums = [2,5,6,0,0,1,2], target = 3<br>输出: false</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search</span>(<span class="params">self, nums, target</span>):</span></span><br><span class="line">        left = <span class="number">0</span></span><br><span class="line">        right = <span class="built_in">len</span>(nums)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> left &lt; right:</span><br><span class="line">            mid = left + (right - left) // <span class="number">2</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> nums[mid] == target:</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            <span class="comment"># 左边没有乱</span></span><br><span class="line">            <span class="keyword">if</span> nums[mid] &gt;= nums[left]:</span><br><span class="line">                <span class="comment"># 此时若目标数小于中间数而且大于最左边，说明就在左边区间</span></span><br><span class="line">                <span class="keyword">if</span> nums[left] &lt;= target &lt; nums[mid]:</span><br><span class="line">                    right = mid</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    left = mid + <span class="number">1</span></span><br><span class="line">            <span class="comment"># 右边没有乱</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># 此时若目标数大于中间数而且小于最右边，说明就在右边区间</span></span><br><span class="line">                <span class="keyword">if</span> nums[mid] &lt; target &lt;= nums[right]:</span><br><span class="line">                    left = mid + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    right = mid</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"></span><br><span class="line">s = Solution()</span><br><span class="line"><span class="built_in">print</span>(s.search([<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],<span class="number">6</span>))</span><br></pre></td></tr></table></figure>







<h2 id="遍历一个object的所有属性，并print每一个属性名"><a href="#遍历一个object的所有属性，并print每一个属性名" class="headerlink" title="遍历一个object的所有属性，并print每一个属性名"></a>遍历一个object的所有属性，并print每一个属性名</h2><p>使用dir方法</p>
<h2 id="常用的装饰器写法"><a href="#常用的装饰器写法" class="headerlink" title="常用的装饰器写法"></a>常用的装饰器写法</h2><h3 id="使用函数作为装饰器"><a href="#使用函数作为装饰器" class="headerlink" title="使用函数作为装饰器"></a>使用函数作为装饰器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> perf_counter</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrap</span>(<span class="params">*args,**kwargs</span>):</span></span><br><span class="line">        start = perf_counter()</span><br><span class="line">        func(*args,**kwargs)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;perf_counter() - start :<span class="number">0.2</span>f&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> wrap</span><br><span class="line"></span><br><span class="line"><span class="meta">@deco</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    <span class="keyword">return</span> [num <span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11177771</span>)]</span><br><span class="line"></span><br><span class="line">func()</span><br></pre></td></tr></table></figure>

<h3 id="使用类作为装饰器"><a href="#使用类作为装饰器" class="headerlink" title="使用类作为装饰器"></a>使用类作为装饰器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> perf_counter</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TimeCounter</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,func</span>):</span></span><br><span class="line">        self.func = func</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__call__</span>(<span class="params">self,*args,**kwargs</span>):</span></span><br><span class="line">        start = perf_counter()</span><br><span class="line">        self.func(*args,**kwargs)</span><br><span class="line">        <span class="built_in">print</span>(perf_counter() - start)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TimeCounter</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    <span class="keyword">return</span> [num <span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11177771</span>)]</span><br><span class="line"></span><br><span class="line">func()</span><br></pre></td></tr></table></figure>



<h2 id="一行代码解决阶乘函数"><a href="#一行代码解决阶乘函数" class="headerlink" title="一行代码解决阶乘函数"></a>一行代码解决阶乘函数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="built_in">print</span>(reduce(<span class="keyword">lambda</span> x,y:x*y,<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">5</span>)))  <span class="comment"># 24</span></span><br></pre></td></tr></table></figure>



<h2 id="一行代码实现将1-N-的整数列表以3为单位分组"><a href="#一行代码实现将1-N-的整数列表以3为单位分组" class="headerlink" title="一行代码实现将1-N 的整数列表以3为单位分组"></a>一行代码实现将1-N 的整数列表以3为单位分组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">N =<span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>([[num <span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">range</span>(N+<span class="number">1</span>)][i:i+<span class="number">3</span>] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,N+<span class="number">1</span>,<span class="number">3</span>)])</span><br><span class="line"><span class="comment"># [[1, 2, 3], [4, 5, 6], [7, 8, 9], [10]]</span></span><br></pre></td></tr></table></figure>















































































































</div></div></article><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>