<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=" id=&quot;用户和用户组管理&quot;&gt;&lt;a href=&quot;#用户和用户组管理&quot; class=&quot;headerlink&quot; title=&quot;用户和用户组管理&quot;&gt;&lt;/a&gt;用户和用户组管理&lt;/h1&gt;&lt;h2 id=&quot;用户配置文件&quot;&gt;&lt;a href=&quot;#用户配置文件&quot; class=&quot;headerlink&quot; title=&quot;用户配置文件&quot;&gt;&lt;/a&gt;用户配置文件&lt;/h2&gt;&lt;h3 id=&quot;用户信息文件-etc-passwd&quot;&gt;&lt;a href=&quot;#用户信息文件-etc-passwd&quot; class=&quot;headerlink&quot; title=&quot;用户信息文件/etc/passwd&quot;&gt;&lt;/a&gt;用户信息文件/etc/passwd&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;在 Linux 中主要是通过用户配置文件来查看和修改用户信息&lt;/strong&gt;"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>兄弟连-Linux基础知识与系统管理视频教程3 | 凉薄的自动书记人偶</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Tags</a><a class="sidebar-nav-item" href="/About">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Linux/" rel="tag">Linux</a></div><div class="post-time">2019-08-25</div></div></div><div class="container post-header"><h1>兄弟连-Linux基础知识与系统管理视频教程3</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%92%8C%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86"><span class="toc-number">1.</span> <span class="toc-text">用户和用户组管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.</span> <span class="toc-text">用户配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E6%96%87%E4%BB%B6-etc-passwd"><span class="toc-number">1.1.1.</span> <span class="toc-text">用户信息文件&#x2F;etc&#x2F;passwd</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E6%A0%87%E5%BF%97"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">密码标志</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UID"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">UID</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%AA%E7%94%A8%E6%88%B7"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">伪用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GID"><span class="toc-number">1.1.1.4.</span> <span class="toc-text">GID</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%B1%E5%AD%90%E6%96%87%E4%BB%B6-etc-shadow"><span class="toc-number">1.1.2.</span> <span class="toc-text">影子文件&#x2F;etc&#x2F;shadow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BF%A1%E6%81%AF%E6%96%87%E4%BB%B6-etc-group%E5%92%8C%E7%BB%84%E5%AF%86%E7%A0%81%E6%96%87%E4%BB%B6-etc-gshadow"><span class="toc-number">1.1.3.</span> <span class="toc-text">组信息文件&#x2F;etc&#x2F;group和组密码文件&#x2F;etc&#x2F;gshadow</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E5%AF%86%E7%A0%81"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">组密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%84%E5%8A%A0%E7%94%A8%E6%88%B7"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">附加用户</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E7%9B%B8%E5%85%B3%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.</span> <span class="toc-text">用户管理相关文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%9A%84%E5%AE%B6%E7%9B%AE%E5%BD%95"><span class="toc-number">1.2.1.</span> <span class="toc-text">用户的家目录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%86%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E6%94%B9%E6%88%90%E8%B6%85%E7%BA%A7%E7%94%A8%E6%88%B7"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">将普通用户改成超级用户</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%9A%84%E9%82%AE%E7%AE%B1"><span class="toc-number">1.2.2.</span> <span class="toc-text">用户的邮箱</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%9A%84%E6%A8%A1%E6%9D%BF%E7%9B%AE%E5%BD%95"><span class="toc-number">1.2.3.</span> <span class="toc-text">用户的模板目录</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.3.</span> <span class="toc-text">用户管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%91%BD%E4%BB%A4-useradd"><span class="toc-number">1.3.1.</span> <span class="toc-text">用户添加命令 useradd</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#useradd%E5%9C%A8%E8%83%8C%E5%90%8E%E5%88%B0%E5%BA%95%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">useradd在背后到底做了什么</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E9%BB%98%E8%AE%A4%E5%80%BC%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-useradd%E5%91%BD%E4%BB%A4%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.3.2.</span> <span class="toc-text">用户默认值配置文件(useradd命令的默认值配置文件)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81-passwd"><span class="toc-number">1.3.3.</span> <span class="toc-text">修改用户密码 passwd</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%BD%9C%E4%B8%BA%E7%94%A8%E6%88%B7%E7%9A%84%E5%AF%86%E7%A0%81"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">使用字符串作为用户的密码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF-usermod"><span class="toc-number">1.3.4.</span> <span class="toc-text">修改用户信息 usermod</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E7%8A%B6%E6%80%81-chage"><span class="toc-number">1.3.5.</span> <span class="toc-text">修改用户密码状态 chage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7-userdel"><span class="toc-number">1.3.6.</span> <span class="toc-text">删除用户 userdel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%88%87%E6%8D%A2%E5%91%BD%E4%BB%A4su"><span class="toc-number">1.3.7.</span> <span class="toc-text">用户切换命令su</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.4.</span> <span class="toc-text">用户组管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E7%BB%84-groupadd"><span class="toc-number">1.4.1.</span> <span class="toc-text">添加用户组 groupadd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E7%BB%84-groupmod"><span class="toc-number">1.4.2.</span> <span class="toc-text">修改用户组 groupmod</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%E7%BB%84-groupdel"><span class="toc-number">1.4.3.</span> <span class="toc-text">删除用户组 groupdel</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%8A%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%85%A5%E7%BB%84%E6%88%96%E4%BB%8E%E7%BB%84%E4%B8%AD%E5%88%A0%E9%99%A4-gpasswd"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">把用户添加入组或从组中删除 gpasswd</span></a></li></ol></li></ol></li></ol></li></ol></details></div><div class="container post-content"><h1 id="用户和用户组管理"><a href="#用户和用户组管理" class="headerlink" title="用户和用户组管理"></a>用户和用户组管理</h1><h2 id="用户配置文件"><a href="#用户配置文件" class="headerlink" title="用户配置文件"></a>用户配置文件</h2><h3 id="用户信息文件-etc-passwd"><a href="#用户信息文件-etc-passwd" class="headerlink" title="用户信息文件/etc/passwd"></a>用户信息文件/etc/passwd</h3><p><strong>在 Linux 中主要是通过用户配置文件来查看和修改用户信息</strong></p>
<p>/etc/passwd : 用户基本信息文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/passwd</span><br><span class="line"><span class="comment"># root:x:0:0:root:/root:/bin/bash</span></span><br><span class="line"><span class="comment"># bin:x:1:1:bin:/bin:/sbin/nologin</span></span><br><span class="line"><span class="comment"># daemon:x:2:2:daemon:/sbin:/sbin/nologin</span></span><br></pre></td></tr></table></figure>

<p>每一行代表一个用户,使用冒号分割成七个字段</p>
<ul>
<li>第1字段：用户名称</li>
<li>第2字段：密码标志</li>
<li>第3字段：UID（用户ID）<ul>
<li>0：超级用户</li>
<li>1-499：系统用户（伪用户）</li>
<li>500-65535：普通用户</li>
</ul>
</li>
<li>第4字段：GID（用户初始组ID）</li>
<li>第5字段：用户说明</li>
<li>第6字段：家目录<ul>
<li>普通用户：home/用户名/</li>
<li>超级用户：/root/</li>
</ul>
</li>
<li>第7字段：登录之后的 Shell</li>
</ul>
<h4 id="密码标志"><a href="#密码标志" class="headerlink" title="密码标志"></a>密码标志</h4><blockquote>
<ul>
<li>第2字段：密码标志 .<br>一开始设计的时候密码确实是放在<code>/etc/passwd</code>的第2字段的<br>(否则这个文件也不会称为<code>passwd</code>)<br>(当然,密码肯定是经过加密的,但是还是不安全)</li>
<li>因为<code>/etc/passwd</code>每个用户都有<code>r</code>权限,所以容易导致密码泄露</li>
<li>所以后来把密码改放到<code>/etc/shadow</code>里了.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ll /etc/passwd</span><br><span class="line"><span class="comment"># -rw-r--r-- 1 root root 1051 Aug 24 08:41 /etc/passwd</span></span><br><span class="line"></span><br><span class="line"> ll /etc/shadow</span><br><span class="line"><span class="comment"># --w------- 1 root root 781 Aug 24 08:43 /etc/shadow</span></span><br><span class="line"><span class="comment"># 说明只有root才能操作这个文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># /etc/shadow存放的密码是经过sha256加密的</span></span><br><span class="line">more /etc/shadow</span><br><span class="line"><span class="comment"># root:$6$ku6PsrqS3DO06yf2$FBgBrTFv1oW11JGPZRpxMYPgnF6oaYKA1uZ7Vd7zFaPR8j67jGLNcs4W/Blzw/sB</span></span><br><span class="line"><span class="comment"># lDDnkpXIMMJVjC9sZA1Jb.:17226:0:99999:7:::</span></span><br></pre></td></tr></table></figure>



<p>第二字段的<code>x</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/passwd</span><br><span class="line"><span class="comment"># root:x:0:0:root:/root:/bin/bash</span></span><br></pre></td></tr></table></figure>

<ul>
<li>如果删除<code>x</code> , 那么这个账号就不会去检查密码,直接就能登录</li>
<li>如果删除<code>x</code> , 这个账号就只能本机登录,不再允许远程登录.这样就保证了安全性</li>
<li>也就是说,这个x就是一个<code>密码标识</code> , <strong>说明这个账号是有密码的</strong></li>
</ul>
</blockquote>
<h4 id="UID"><a href="#UID" class="headerlink" title="UID"></a>UID</h4><blockquote>
<p>第三字段的<code>UID</code> : </p>
<ul>
<li>超级用户是UID为0</li>
<li>所以,只要我们把某个用户A的UID改为0就可以让他变成超级用户了.</li>
<li>注意 : 此时linux就会用户A和原来的超级用户root视为同一个用户</li>
</ul>
</blockquote>
<h4 id="伪用户"><a href="#伪用户" class="headerlink" title="伪用户"></a>伪用户</h4><blockquote>
<p>伪用户:</p>
<ul>
<li>这个是系统为了调用服务而设置的用户</li>
<li>不能删除,否则系统容易崩溃 </li>
</ul>
</blockquote>
<h4 id="GID"><a href="#GID" class="headerlink" title="GID"></a>GID</h4><p>用户的<code>初始组ID</code> , 同类型用户的集合就可以是一个<code>初始组ID</code></p>
<ul>
<li>初始组：就是指用户一登录就立刻拥有这个用户组的相关权限，每个用户的初始组<strong>只能有一个</strong>，一般就是<strong>和这个用户的用户名相同的组名作为这个用户的初始组</strong>。</li>
<li>附加组：指用户可以加入多个其他的用户组，并拥有这些组的权限，附加组可以有多个。</li>
</ul>
<p>如果要根据<code>初始组ID</code>找到对应的初始组,那么就需要用到<code>/etc/group</code>文件</p>
<h3 id="影子文件-etc-shadow"><a href="#影子文件-etc-shadow" class="headerlink" title="影子文件/etc/shadow"></a>影子文件/etc/shadow</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">more /etc/shadow</span><br><span class="line"><span class="comment">#root:$6$ku6PsrqS3DO06yf2$FBgBrTFv1oW11JGPZRpxMYPgnF6oaYKA1uZ7Vd7zFaPR8j67jGLNcs4W/Blzw/sB</span></span><br><span class="line"><span class="comment"># lDDnkpXIMMJVjC9sZA1Jb.:17226:0:99999:7:::</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>第1字段：用户名</p>
</li>
<li><p>第2字段：加密密码</p>
<ul>
<li>加密算法升级为SHA512散列加密算法(有加盐)</li>
<li>如果密码位是<code>!!</code>或<code>*</code>代表没有密码，不能登录</li>
</ul>
</li>
<li><p>第3字段：密码最后一次修改日期</p>
<ul>
<li>使用1970年1月1日作为标准时间，每过一天时间戳加1</li>
</ul>
</li>
<li><p>第4字段：两次密码的修改间隔时间（和第3字段相比）<br>(如果值为9,说明前一次修改密码9天后才能修改密码)</p>
</li>
<li><p>第5字段：密码有效期（和第3字段相比）</p>
</li>
<li><p>第6字段：密码修改到期前的警告天数（和第5字段相比）</p>
</li>
<li><p>第7字段：密码过期后的宽限天数（和第5字段相比）</p>
<ul>
<li>0：代表密码过期后立即失效(默认值为0)</li>
<li>-1：则代表密码永远不会失效。</li>
<li>n ：n天后失效 </li>
</ul>
</li>
<li><p>第8字段：账号失效时间</p>
<ul>
<li>要用时间戳表示</li>
</ul>
</li>
<li><p>第9字段：保留</p>
</li>
</ul>
<h3 id="组信息文件-etc-group和组密码文件-etc-gshadow"><a href="#组信息文件-etc-group和组密码文件-etc-gshadow" class="headerlink" title="组信息文件/etc/group和组密码文件/etc/gshadow"></a>组信息文件/etc/group和组密码文件/etc/gshadow</h3><p>存放用户组的信息</p>
<ul>
<li>windows默认所有用户都是属于users组(通过<code>C:\Users</code>可查)</li>
<li>linux是每增加一个用户A,就会新增一个组B,这个组的名字就和用户A的名字一样</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">more /etc/group</span><br><span class="line"><span class="comment"># root:x:0:</span></span><br><span class="line"><span class="comment"># bin:x:1:bin,daemon</span></span><br><span class="line"><span class="comment"># daemon:x:2:bin,daemon</span></span><br><span class="line"><span class="comment"># sys:x:3:bin,adm</span></span><br><span class="line"><span class="comment"># adm:x:4:adm,daemon</span></span><br><span class="line"><span class="comment"># tty:x:5:</span></span><br><span class="line"><span class="comment"># stapdev:x:158:</span></span><br><span class="line"><span class="comment"># screen:x:84:</span></span><br><span class="line"><span class="comment"># mysql:x:27:</span></span><br><span class="line"><span class="comment"># nginx:x:498:</span></span><br><span class="line"><span class="comment"># blog_user:x:500:</span></span><br></pre></td></tr></table></figure>

<ul>
<li>第一字段：组名</li>
<li>第二字段：组密码标志</li>
<li>第三字段：GID</li>
<li>第四字段：组中附加用户</li>
</ul>
<h4 id="组密码"><a href="#组密码" class="headerlink" title="组密码"></a>组密码</h4><p>这里的<code>组密码标志</code>和<code>密码标志</code>一样:</p>
<ul>
<li><code>x</code> 标志着这个组有密码</li>
<li>真正的密码放在了<code>/etc/gshadow/</code>里面</li>
</ul>
<h4 id="附加用户"><a href="#附加用户" class="headerlink" title="附加用户"></a>附加用户</h4><p>我们可以通过<code>more /etc/group</code>来查看用户组的附加用户,但是如何知道初始用户?</p>
<blockquote>
<ol>
<li>打开<code> /etc/passwd</code> , 找到某个用户A的GID ,</li>
<li>根据这个GID去<code>/etc/group</code>里找</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/passwd</span><br><span class="line"><span class="comment"># root:x:0:0:root:/root:/bin/bash</span></span><br><span class="line"></span><br><span class="line">vim /etc/group</span><br><span class="line"><span class="comment"># root:x:0:</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>root:x:0:0:root:/root:/bin/bash</code>第四个字段为0,说明 root 用户的GID为4</li>
<li><code> root:x:0:</code>第三个字段为0,所以 root 组对应的 GID 为4</li>
<li>所以说,root用户对应的初始组为root组,GID为4</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">more /etc/gshadow</span><br><span class="line"><span class="comment"># root:::</span></span><br><span class="line"><span class="comment"># bin:::bin,daemon</span></span><br><span class="line"><span class="comment"># daemon:::bin,daemon</span></span><br><span class="line"><span class="comment"># mysql:!::</span></span><br><span class="line"><span class="comment"># nginx:!::</span></span><br><span class="line"><span class="comment"># blog_user:!::</span></span><br></pre></td></tr></table></figure>

<ul>
<li>第一字段：组名</li>
<li>第二字段：组密码</li>
<li>第三字段：组管理员用户名</li>
<li>第四字段：组中附加用户</li>
</ul>
<blockquote>
<p>发现基本都没有组密码,说明组密码用的并不多,并且<strong>不推荐使用</strong></p>
</blockquote>
<h2 id="用户管理相关文件"><a href="#用户管理相关文件" class="headerlink" title="用户管理相关文件"></a>用户管理相关文件</h2><h3 id="用户的家目录"><a href="#用户的家目录" class="headerlink" title="用户的家目录"></a>用户的家目录</h3><ul>
<li>普通用户：/home/用户名/，所有者和所属组都是此用户，权限是700</li>
<li>超级用户：/root/，所有者和所属组都是root用户，权限是550</li>
</ul>
<h4 id="将普通用户改成超级用户"><a href="#将普通用户改成超级用户" class="headerlink" title="将普通用户改成超级用户"></a>将普通用户改成超级用户</h4><p>修改<code>/etc/passwd/</code> , 将该用户的UID修改为0</p>
<blockquote>
<ul>
<li>在windows来说,将用户A变成超级用户是将A的所有组改为root组</li>
<li>在linux中,是将用户A直接变成root用户(也就是将UID改为0)</li>
</ul>
</blockquote>
<h3 id="用户的邮箱"><a href="#用户的邮箱" class="headerlink" title="用户的邮箱"></a>用户的邮箱</h3><ul>
<li><p>这里的邮件是linux用户和linux用户之间传递邮件,是不用联网的 </p>
</li>
<li><p>位置 : /var/spool/mail/用户名/</p>
</li>
</ul>
<h3 id="用户的模板目录"><a href="#用户的模板目录" class="headerlink" title="用户的模板目录"></a>用户的模板目录</h3><ul>
<li>位置 : /etc/skel/</li>
<li>用户家目录下面有一些隐藏文件 , 这些隐藏文件是自动生成的,既然是自动生成的,那就会要有模板文件,这些模板文件就在<code>/etc/skel/</code>目录下面</li>
<li>所以我们就可以在这个目录下创建一个文件 , 到时新创建的用户就会自动生成这个文件</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> home/blog_user</span><br><span class="line">ls -al</span><br><span class="line"><span class="comment"># total 32</span></span><br><span class="line"><span class="comment">#drwx------  3 blog_user blog_user 4096 Aug 25 02:08 .</span></span><br><span class="line"><span class="comment">#drwxr-xr-x. 3 root      root      4096 Aug 24 08:41 ..</span></span><br><span class="line"><span class="comment">#-rw-------  1 blog_user blog_user  184 Aug 25 05:47 .bash_history</span></span><br><span class="line"><span class="comment">#-rw-r--r--  1 blog_user blog_user   18 Mar 23  2017 .bash_logout</span></span><br><span class="line"><span class="comment">#-rw-r--r--  1 blog_user blog_user  176 Mar 23  2017 .bash_profile</span></span><br><span class="line"><span class="comment">#-rw-r--r--  1 blog_user blog_user  124 Mar 23  2017 .bashrc</span></span><br><span class="line"><span class="comment">#drwxrw----  3 blog_user blog_user 4096 Aug 25 01:54 .pki</span></span><br><span class="line"><span class="comment">#-rw-------  1 blog_user blog_user  865 Aug 25 02:08 .viminfo</span></span><br></pre></td></tr></table></figure>



<h2 id="用户管理命令"><a href="#用户管理命令" class="headerlink" title="用户管理命令"></a>用户管理命令</h2><h3 id="用户添加命令-useradd"><a href="#用户添加命令-useradd" class="headerlink" title="用户添加命令 useradd"></a>用户添加命令 useradd</h3><ul>
<li>```bash<br>useradd [选项] 用户名<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 选项 : </span><br><span class="line"></span><br><span class="line">  - `-u  UID`：手工指定用户的UID号</span><br><span class="line">  - `-d  家目录`：手工指定用户的家目录的位置</span><br><span class="line">  - `-c  用户说明`：手工指定用户的说明</span><br><span class="line">  - `-g  组名`：手工指定用户的初始组</span><br><span class="line">  - `-G  组名`：指定用户的附加组</span><br><span class="line">  - `-s  shell`：手工指定用户的登录 shell。默认是/bin/bash</span><br><span class="line"></span><br><span class="line">- 示例:</span><br><span class="line"></span><br><span class="line">  ```bash</span><br><span class="line">  useradd -u 550 -G root, bin -d /home/hyl  -c &quot;test user&quot; -s /bin/bash hyl</span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p>执行完useradd之后,其实该用户是不完整的,必须再使用passwd命令设置密码</p>
</blockquote>
<h4 id="useradd在背后到底做了什么"><a href="#useradd在背后到底做了什么" class="headerlink" title="useradd在背后到底做了什么"></a>useradd在背后到底做了什么</h4><p>我们在执行<code>useradd hyl</code>,之后,实际上就是</p>
<ul>
<li>修改了<code>passwd</code>,<code>shadow</code>,<code>group</code>,<code>gshadow</code>四个文件</li>
<li>新增<code>/home/hyl</code>,<code> /var/spool/mail/hyl</code>两个目录</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看四个文件修改的内容</span></span><br><span class="line">grep hyl /etc/passwd</span><br><span class="line">grep hyl /etc/shadow</span><br><span class="line">grep hyl /etc/group</span><br><span class="line">grep hyl /etc/gshadow</span><br><span class="line"></span><br><span class="line"><span class="comment"># 发现新增了家目录</span></span><br><span class="line">ls -ld /home</span><br><span class="line"><span class="comment"># 发现新增了邮箱</span></span><br><span class="line">ll /var/spool/mail</span><br></pre></td></tr></table></figure>

<blockquote>
<p>也就是说,原则上,我们可以不通过useradd命令,<strong>直接</strong>修改上面四个文件,新增两个目录来实现新用户</p>
</blockquote>
<h3 id="用户默认值配置文件-useradd命令的默认值配置文件"><a href="#用户默认值配置文件-useradd命令的默认值配置文件" class="headerlink" title="用户默认值配置文件(useradd命令的默认值配置文件)"></a>用户默认值配置文件(useradd命令的默认值配置文件)</h3><ul>
<li><p>/etc/default/useradd</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">GROUP=100    <span class="comment"># 用户默认组</span></span><br><span class="line">HOME=/home    <span class="comment"># 用户家目录</span></span><br><span class="line">INACTIVE= -1    <span class="comment">#  密码过期宽限天数（shadow文件7字段）</span></span><br><span class="line">EXPIRE=           <span class="comment">#密码失效时间（shadow文件8字段）</span></span><br><span class="line">SHELL=/bin/bash        <span class="comment"># 默认 shell</span></span><br><span class="line">SKEL=/etc/skel      <span class="comment">#  模板目录</span></span><br><span class="line">CREATE_MAIL_SPOOL=yes   <span class="comment"># 是否建立邮箱</span></span><br></pre></td></tr></table></figure></li>
<li><p>/etc/login.defs</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">PASS_MAX_DAYS  99999      <span class="comment"># 密码有效朝（shadow文件5字段）</span></span><br><span class="line">PASS_MIN_DAYS 0       <span class="comment"># 密码修改问隔（shadow文件4字段）</span></span><br><span class="line">PASS_MIN_LEN 5      <span class="comment"># 密码最小5位（PAM）</span></span><br><span class="line">PASS_WARN_AGE 7      <span class="comment"># 密码到期警告（shadow文件6字段）</span></span><br><span class="line">UID_MIN 500    <span class="comment"># 最小和最大UID范围</span></span><br><span class="line">UID_MAX	60000</span><br><span class="line">GID_MIN	500   <span class="comment"># 最小和最大GID范围</span></span><br><span class="line">GID_MAX  60000</span><br><span class="line">ENCRYPT_METHOD  SHA512  <span class="comment">#加密模式</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="修改用户密码-passwd"><a href="#修改用户密码-passwd" class="headerlink" title="修改用户密码 passwd"></a>修改用户密码 passwd</h3><ul>
<li>```bash<br>passwd [选项] 用户名<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 选项:</span><br><span class="line"></span><br><span class="line">  - `-S`  查询用户密码的密码状态。仅root用户可用。</span><br><span class="line">  - `-l`  暂时锁定用户。就是让这个用户不能登录。仅root用户可用</span><br><span class="line">  - `-u`  解锁用户。仅root用户可用</span><br><span class="line">  - `--stdin`  可以通过管道符输出的数据作为用户的密码</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### passwd -l 实际工作原理</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">cat /etc/shadow | grep blog_user</span><br><span class="line"># blog_user:$6$Ikrgwvm6$lQhHUXFNQEWihyxSp5RUgKGOtgFeIDu7zZ9WKUMfPo6oXauG48W8jLf8VNy8rjhqMavvgRwaO9lh0dDvZa2/V1:18132:0:99999:7:::</span><br><span class="line"></span><br><span class="line"># 锁定用户</span><br><span class="line">passwd -l blog_user </span><br><span class="line"># Locking password for user blog_user.</span><br><span class="line"># passwd: Success</span><br><span class="line"></span><br><span class="line">cat /etc/shadow | grep blog_user</span><br><span class="line"># blog_user:!!$6$Ikrgwvm6$lQhHUXFNQEWihyxSp5RUgKGOtgFeIDu7zZ9WKUMfPo6oXauG48W8jLf8VNy8rjhqMavvgRwaO9lh0dDvZa2/V1:18132:0:99999:7:::</span><br></pre></td></tr></table></figure></li>
</ul>
<p>发现 , 两个<code>cat /etc/shadow | grep blog_user</code>唯一的区别就是 : 给密码前面添加了<code>!!</code></p>
<blockquote>
<p>可以手工添加<code>!!</code>来锁定用户</p>
</blockquote>
<h4 id="使用字符串作为用户的密码"><a href="#使用字符串作为用户的密码" class="headerlink" title="使用字符串作为用户的密码"></a>使用字符串作为用户的密码</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span><span class="string">&quot;123&quot;</span> I passwd--stdin hyl</span><br></pre></td></tr></table></figure>



<h3 id="修改用户信息-usermod"><a href="#修改用户信息-usermod" class="headerlink" title="修改用户信息 usermod"></a>修改用户信息 usermod</h3><p>我们在创建新用户的时候有选项 :</p>
<ul>
<li><code>-u  UID</code>：手工指定用户的UID号</li>
<li><code>-d  家目录</code>：手工指定用户的家目录的位置</li>
<li><code>-c  用户说明</code>：手工指定用户的说明</li>
<li><code>-g  组名</code>：手工指定用户的初始组</li>
<li><code>-G  组名</code>：指定用户的附加组</li>
<li><code>-s  shell</code>：手工指定用户的登录 shell。默认是/bin/bash</li>
</ul>
<p><strong>usermod就是修改已有用户的选项</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod [选项] 用户名</span><br></pre></td></tr></table></figure>

<ul>
<li><code>-u  UID</code>：修改指定用户的UID号</li>
<li><code>-c  用户说明</code>：手工指定用户的说明</li>
<li><code>-G  组名</code>：指定用户的附加组</li>
<li><code>-L</code> :  锁定用户(Lock)</li>
<li><code>-U</code> :  解锁用户(Unlock)</li>
</ul>
<p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">usermod -c <span class="string">&quot;test user&quot;</span> hyl</span><br><span class="line">usermod -G root hyl</span><br><span class="line">usrmod -L hyl</span><br><span class="line">usermod -U hyl</span><br></pre></td></tr></table></figure>



<h3 id="修改用户密码状态-chage"><a href="#修改用户密码状态-chage" class="headerlink" title="修改用户密码状态 chage"></a>修改用户密码状态 chage</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chage [选项] 用户名</span><br></pre></td></tr></table></figure>

<p>选项 :</p>
<ul>
<li>-l : 列出用户的详细密码状态</li>
<li>-d 日期：修改密码最后一次更改日期（shadow3字段）</li>
<li>-m 天数：两次密码修改间隔（4字段）</li>
<li>-M 天数：密码有效期（5字段）</li>
<li>-W 天数：密码过期前警告天数（6字段）</li>
<li>-I 天数：密码过后宽限天数（7字段）</li>
<li>-E 日期：账号失效时间（8字段）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">chage -l blog_user</span><br><span class="line"><span class="comment"># Last password change					: Aug 24, 2019</span></span><br><span class="line"><span class="comment"># Password expires					: never</span></span><br><span class="line"><span class="comment"># Password inactive					: never</span></span><br><span class="line"><span class="comment"># Account expires						: never</span></span><br><span class="line"><span class="comment"># Minimum number of days between password change		: 0</span></span><br><span class="line"><span class="comment"># Maximum number of days between password change		: 99999</span></span><br><span class="line"><span class="comment"># Number of days of warning before password expires	: 7</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这个命令其实是把密码修改日期了归0了（shadow第3字段）</span></span><br><span class="line"><span class="comment"># 这样用户一登陆就要修改密码</span></span><br><span class="line">chage -d 0 hyl</span><br></pre></td></tr></table></figure>



<h3 id="删除用户-userdel"><a href="#删除用户-userdel" class="headerlink" title="删除用户 userdel"></a>删除用户 userdel</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">userdel [-r] 用户名</span><br></pre></td></tr></table></figure>

<p>-r : 删除用户的同时删除用户家目录,邮箱文件</p>
<p>同理 , 我们也可以通过</p>
<ul>
<li>修改四个文件(只要删除用户所在行就行)</li>
<li>删除两个目录</li>
</ul>
<p>就可以实现删除用户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/passwd</span><br><span class="line">vi /etc/shadow</span><br><span class="line">vi /etc/group</span><br><span class="line">vi /etc/gshadow</span><br><span class="line"></span><br><span class="line">rm -rf /var/spool/mail/hyl</span><br><span class="line">rm -rf /home/hyl/</span><br></pre></td></tr></table></figure>



<p>查看用户id</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">id hyl</span><br><span class="line"><span class="comment"># uid=501(hyl) gid=501(hyl) groups=501(hyl)</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>我们可以用此命令查询是否有该用户</p>
</blockquote>
<h3 id="用户切换命令su"><a href="#用户切换命令su" class="headerlink" title="用户切换命令su"></a>用户切换命令su</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su [选项] 用户名</span><br></pre></td></tr></table></figure>

<ul>
<li><code>-</code> : 选项只使用<code>-</code>代表连带用户的环境变量一起切换<br>(此选项坚决要加)</li>
<li><code>-c</code> : 仅执行一次命令，而不切换用户身份<br>(就是暂时使用别人的身份来执行某个命令)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">whoami</span><br><span class="line"><span class="comment"># test_user</span></span><br><span class="line"></span><br><span class="line">su - blog_user</span><br><span class="line"></span><br><span class="line">whoami</span><br><span class="line"><span class="comment"># blog_user</span></span><br><span class="line"></span><br><span class="line">env</span><br><span class="line"><span class="comment"># USER=blog_user</span></span><br><span class="line"><span class="comment"># HOME=/home/blog_user</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用test_user的身份执行useradd user3命令</span></span><br><span class="line">su - test_user -c <span class="string">&quot;useradd user3&quot;</span></span><br></pre></td></tr></table></figure>



<h2 id="用户组管理命令"><a href="#用户组管理命令" class="headerlink" title="用户组管理命令"></a>用户组管理命令</h2><h3 id="添加用户组-groupadd"><a href="#添加用户组-groupadd" class="headerlink" title="添加用户组 groupadd"></a>添加用户组 groupadd</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd [选项] 组名</span><br></pre></td></tr></table></figure>

<p><code>-g GID</code> : 指定组ID</p>
<p>示例 :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd new_group</span><br></pre></td></tr></table></figure>



<h3 id="修改用户组-groupmod"><a href="#修改用户组-groupmod" class="headerlink" title="修改用户组 groupmod"></a>修改用户组 groupmod</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupmod [选项] 组名</span><br></pre></td></tr></table></figure>

<ul>
<li><code>-g GID</code> : 修改组ID</li>
<li><code>-n 新组名</code> : 修改组名</li>
</ul>
<p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把组名 group1 修改为 testgrp</span></span><br><span class="line">groupmod -n testgrp group1</span><br></pre></td></tr></table></figure>



<h3 id="删除用户组-groupdel"><a href="#删除用户组-groupdel" class="headerlink" title="删除用户组 groupdel"></a>删除用户组 groupdel</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupdel 组名</span><br></pre></td></tr></table></figure>



<p>示例 : </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupdel tg</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>删除组A时, 如果组A下面有<strong>初始用户</strong>B , 那么组A不可删除,必须先删除用户B后,才能删除组A</li>
<li>删除组A时, 如果组A下面有<strong>附加用户</strong>C , 那么组A可以直接删除</li>
</ul>
</blockquote>
<h4 id="把用户添加入组或从组中删除-gpasswd"><a href="#把用户添加入组或从组中删除-gpasswd" class="headerlink" title="把用户添加入组或从组中删除 gpasswd"></a>把用户添加入组或从组中删除 gpasswd</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpasswd 选项 组名</span><br></pre></td></tr></table></figure>

<ul>
<li><code>-a 用户名</code> : 把用户加入组</li>
<li><code>-d 用户名</code> : 把用户从组中删除</li>
</ul>
<p>示例 : </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将test_user用户加入到root组中</span></span><br><span class="line">gpasswd -a test_user root</span><br></pre></td></tr></table></figure>

<blockquote>
<p>同理,我们也是可以手动修改<code>/etc/group</code>文件的第四个字段来给某个组添加或删除某个<strong>附加用户</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/group</span><br></pre></td></tr></table></figure>


</blockquote>
</div></div></article><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>