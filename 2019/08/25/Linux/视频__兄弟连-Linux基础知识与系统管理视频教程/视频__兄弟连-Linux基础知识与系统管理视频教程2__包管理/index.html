<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=" id=&quot;软件包管理简介&quot;&gt;&lt;a href=&quot;#软件包管理简介&quot; class=&quot;headerlink&quot; title=&quot;软件包管理简介&quot;&gt;&lt;/a&gt;软件包管理简介&lt;/h2&gt;&lt;h3 id=&quot;软件包分类&quot;&gt;&lt;a href=&quot;#软件包分类&quot; class=&quot;headerlink&quot; title=&quot;软件包分类&quot;&gt;&lt;/a&gt;软件包分类&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;源码包&lt;/li&gt;
&lt;li&gt;二进制包(RPM包,系统默认包)&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;源码包&quot;&gt;&lt;a href=&quot;#源码包&quot; class=&quot;headerlink&quot; title=&quot;源码包&quot;&gt;&lt;/a&gt;源码包&lt;/h3&gt;&lt;p&gt;源码包的优点:"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>兄弟连-Linux基础知识与系统管理视频教程2 | 凉薄的自动书记人偶</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-none-link" href="/tags/Linux/" rel="tag">Linux</a></div><div class="post-time">2019-08-25</div></div></div><div class="container post-header"><h1>兄弟连-Linux基础知识与系统管理视频教程2</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">软件包管理简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E5%8C%85%E5%88%86%E7%B1%BB"><span class="toc-number">1.1.</span> <span class="toc-text">软件包分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%8C%85"><span class="toc-number">1.2.</span> <span class="toc-text">源码包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RPM%E5%8C%85"><span class="toc-number">1.3.</span> <span class="toc-text">RPM包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RPM%E5%8C%85%E7%AE%A1%E7%90%86-rpm%E5%91%BD%E4%BB%A4%E7%AE%A1%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">RPM包管理 - rpm命令管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#RPM%E5%8C%85%E5%91%BD%E5%90%8D%E5%8E%9F%E5%88%99"><span class="toc-number">2.1.</span> <span class="toc-text">RPM包命名原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PRM%E5%8C%85%E4%BE%9D%E8%B5%96%E6%80%A7"><span class="toc-number">2.2.</span> <span class="toc-text">PRM包依赖性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%E5%85%A8%E5%90%8D%E5%92%8C%E5%8C%85%E5%90%8D"><span class="toc-number">2.3.</span> <span class="toc-text">包全名和包名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RPM%E5%AE%89%E8%A3%85"><span class="toc-number">2.4.</span> <span class="toc-text">RPM安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RPM%E5%8C%85%E7%9A%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.5.</span> <span class="toc-text">RPM包的查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RPM%E7%9A%84%E6%A0%A1%E9%AA%8C"><span class="toc-number">2.6.</span> <span class="toc-text">RPM的校验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RPM%E5%8C%85%E7%9A%84%E6%96%87%E4%BB%B6%E6%8F%90%E5%8F%96"><span class="toc-number">2.7.</span> <span class="toc-text">RPM包的文件提取</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RPM%E5%8C%85%E7%AE%A1%E7%90%86-yum%E5%9C%A8%E7%BA%BF%E7%AE%A1%E7%90%86"><span class="toc-number">3.</span> <span class="toc-text">RPM包管理 - yum在线管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9Cyum%E6%BA%90"><span class="toc-number">3.1.</span> <span class="toc-text">网络yum源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#yum%E5%91%BD%E4%BB%A4"><span class="toc-number">3.2.</span> <span class="toc-text">yum命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">3.2.1.</span> <span class="toc-text">常用命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#yum%E8%BD%AF%E4%BB%B6%E7%BB%84%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">3.2.2.</span> <span class="toc-text">yum软件组管理命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%89%E7%9B%98yum%E6%BA%90%E6%90%AD%E5%BB%BA"><span class="toc-number">3.3.</span> <span class="toc-text">光盘yum源搭建</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%8C%85%E7%AE%A1%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">源码包管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%8C%85%E5%92%8CRPM%E5%8C%85%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">4.0.1.</span> <span class="toc-text">源码包和RPM包的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%8C%85%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B"><span class="toc-number">4.0.2.</span> <span class="toc-text">源码包安装过程</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E5%8C%85%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">5.</span> <span class="toc-text">脚本安装包与软件包的选择</span></a></li></ol></details></div><div class="container post-content"><h2 id="软件包管理简介"><a href="#软件包管理简介" class="headerlink" title="软件包管理简介"></a>软件包管理简介</h2><h3 id="软件包分类"><a href="#软件包分类" class="headerlink" title="软件包分类"></a>软件包分类</h3><ol>
<li>源码包</li>
<li>二进制包(RPM包,系统默认包)</li>
</ol>
<h3 id="源码包"><a href="#源码包" class="headerlink" title="源码包"></a>源码包</h3><p>源码包的优点:</p>
<ol>
<li>开源，如果有足够的能力，可以修改源代码</li>
<li>可以自由选择所需的功能</li>
<li>软件是编译安装，所以更加适合自己的系统，更加稳定也效率更高</li>
<li>卸载方便</li>
</ol>
<p>源码包的缺点:</p>
<ol>
<li>安装过程步骤较多，尤其安裝较大的软件集合时（如LAMP环境搭建），容易出现拼写错误</li>
<li>编译过程时间较长，安装比二进制安装时间长</li>
<li>因为是编译安装，安装过程中一旦报错新手很难解决</li>
</ol>
<h3 id="RPM包"><a href="#RPM包" class="headerlink" title="RPM包"></a>RPM包</h3><p>二进制包的优点:</p>
<ol>
<li>包管理系统简单，只通过几个命令就可以实现包的安装、升级、查询和卸载</li>
<li>安装速度比源码包安装快的多</li>
</ol>
<p>二进制包的缺点:</p>
<ol>
<li>经过编译，不再可以看到源代码</li>
<li>功能选择不如源码包灵活</li>
<li>依赖性</li>
</ol>
<h2 id="RPM包管理-rpm命令管理"><a href="#RPM包管理-rpm命令管理" class="headerlink" title="RPM包管理 - rpm命令管理"></a>RPM包管理 - rpm命令管理</h2><h3 id="RPM包命名原则"><a href="#RPM包命名原则" class="headerlink" title="RPM包命名原则"></a>RPM包命名原则</h3><ul>
<li>httpd : 包名</li>
<li>httpd-2.2.15-15.e16.centos.1.i686.rpm : 包全民</li>
</ul>
<blockquote>
<p>httpd-2.2.15-15.e16.centos.1.i686.rpm</p>
<ul>
<li>httpd : 软件包名</li>
<li>2.2.15 : 软件版本</li>
<li>15 : 软件发布的次数</li>
<li>e16.centos : 适合的 Linux平台</li>
<li>i686 : 适合的硬件平台</li>
<li>rpm : rpm包扩展名</li>
</ul>
</blockquote>
<h3 id="PRM包依赖性"><a href="#PRM包依赖性" class="headerlink" title="PRM包依赖性"></a>PRM包依赖性</h3><ul>
<li>树形依赖 : a –&gt; b –&gt; c</li>
<li>环形依赖 : a –&gt; b –&gt; c –&gt; a</li>
<li>模块依赖 : 某个RPM包A是依赖于某个模块B的,也就是说只要装了B,A就自动安装了</li>
</ul>
<h3 id="包全名和包名"><a href="#包全名和包名" class="headerlink" title="包全名和包名"></a>包全名和包名</h3><ol>
<li>包全名：操作的包是<strong>没有安装</strong>的软件包时，使用包全名。而且要注意路径</li>
<li>包名：操作已经安装的软件包时，使用包名。是搜索/var/ib/rpm/中的数据库</li>
</ol>
<h3 id="RPM安装"><a href="#RPM安装" class="headerlink" title="RPM安装"></a>RPM安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh 包全名</span><br></pre></td></tr></table></figure>

<p>参数:</p>
<ul>
<li>-i(install) : 安装</li>
<li>-v(verbose) : 显示详细信息</li>
<li>-h(hash) : 显示进度</li>
<li>–nodeps : 不检测依赖性</li>
<li>-U(update) : 升级</li>
<li>-e(erase) : 卸载</li>
</ul>
<p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh httpd-2.2.15-15.e16.centos.1.i686.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 卸载</span></span><br><span class="line">rpm -e httpd-2.2.15-15.e16.centos.1.i686.rpm</span><br></pre></td></tr></table></figure>



<h3 id="RPM包的查询"><a href="#RPM包的查询" class="headerlink" title="RPM包的查询"></a>RPM包的查询</h3><p>查询是否安装 </p>
<p>参数:</p>
<ul>
<li>-q(query) : 查询</li>
<li>-a(all) : 所有</li>
<li>-i(information) : 包的信息</li>
<li>-l(list) : 包的位置</li>
<li>-R(requires) : 包的依赖性</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询特定包是否安装</span></span><br><span class="line">rpm -q 包名</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询所有已经安装的RPM包</span></span><br><span class="line">rpm -qa</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询所有包含python的RPM包</span></span><br><span class="line">rpm -qa | grep python</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看信息</span></span><br><span class="line">rpm -qi httpd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看位置</span></span><br><span class="line">rpm -ql httpd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看python包的依赖性</span></span><br><span class="line">rpm -qR python</span><br></pre></td></tr></table></figure>



<h3 id="RPM的校验"><a href="#RPM的校验" class="headerlink" title="RPM的校验"></a>RPM的校验</h3><ul>
<li>-V(verify) : 校验指定RPM包中的文件</li>
<li>主要使用校验来检测RPM包是否被修改</li>
<li>检验检测的8个信息:<ol>
<li>S   文件大小是否改变</li>
<li>M   文件的类型或文件的权限（rwx）是否被改变</li>
<li>5   文件MD5校验和是否改变（可以看成文件内容是否改变）</li>
<li>D   设备的中，从代码是否改变</li>
<li>L   文件路径是否改变</li>
<li>U   文件的属主（所有者）是否改变</li>
<li>G   文件的属组是否改变</li>
<li>T   文件的修改时间是否改变</li>
</ol>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -V 已安装的包名</span><br></pre></td></tr></table></figure>



<h3 id="RPM包的文件提取"><a href="#RPM包的文件提取" class="headerlink" title="RPM包的文件提取"></a>RPM包的文件提取</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm2cpio 包全名 | cpio -div .文件绝对路径</span><br></pre></td></tr></table></figure>

<ul>
<li>rpm2cpio : 将rpm包转换为cpio格式的命令</li>
<li>cpio : 是一个标准工具,它用于创建软件档案文件和从档案文件中提取文件</li>
</ul>
<p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询ls命令属于哪个软件包</span></span><br><span class="line">rpm -pf /bin/ls</span><br><span class="line"></span><br><span class="line"><span class="comment"># 先使用rpm2cpio将coreutils-8.4-19.el6.i686包转变cpio格式</span></span><br><span class="line"><span class="comment"># 再执行cpio -div将这个cpio格式提取出/bin/ls</span></span><br><span class="line"><span class="comment"># 保存在当前目录( . )</span></span><br><span class="line">rpm2cpio /mut/cdrom/Packages/coreutils-8.4-19.el6.i686 | cpio -div ./bin/ls</span><br><span class="line"></span><br><span class="line"><span class="comment"># 把ls命令复制到bin目录下,修复文件丢失</span></span><br><span class="line">cp /root/bin/ls bin</span><br></pre></td></tr></table></figure>



<h2 id="RPM包管理-yum在线管理"><a href="#RPM包管理-yum在线管理" class="headerlink" title="RPM包管理 - yum在线管理"></a>RPM包管理 - yum在线管理</h2><h3 id="网络yum源"><a href="#网络yum源" class="headerlink" title="网络yum源"></a>网络yum源</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/yum.repos.d/CentOS-Base.repo</span><br></pre></td></tr></table></figure>

<ul>
<li>[base]   :   容器名称，一定要放在[]中</li>
<li>name   :    容器说明，可以自己随便写</li>
<li>mirrorlist   :    镜像站点，这个可以注释掉</li>
<li>baseurl   :    我们的yum源服务器的地址。默认是 Centos官方的yum源服务器，是可以使用的，如果你觉得慢可以改成你喜欢的yum源地址</li>
<li>enabled   :     此容器是否生效，如果不写或写成enable=1都是生效，写成enable=0就是不生效</li>
<li>gpgcheck   :    如果是1是指RPM的数字证书生效，如果是0则不生效</li>
<li>gpokey   :    数字证书的公钥文件保存位置。不用修改</li>
</ul>
<h3 id="yum命令"><a href="#yum命令" class="headerlink" title="yum命令"></a>yum命令</h3><h4 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询所有可用的软件包列表</span></span><br><span class="line">yum list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 搜索包含关键字的包</span></span><br><span class="line">yum search 关键字</span><br><span class="line"></span><br><span class="line"><span class="comment">#  安装</span></span><br><span class="line"><span class="comment"># -y : 自动回答yes</span></span><br><span class="line">yum -y install 包名</span><br><span class="line"></span><br><span class="line"><span class="comment">#  升级</span></span><br><span class="line">yum -y update 包名</span><br><span class="line"></span><br><span class="line"><span class="comment">#  卸载</span></span><br><span class="line">yum -y remove 包名</span><br></pre></td></tr></table></figure>



<h4 id="yum软件组管理命令"><a href="#yum软件组管理命令" class="headerlink" title="yum软件组管理命令"></a>yum软件组管理命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列出所有可用的软件组列表</span></span><br><span class="line">yum grouplist</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装指定的软件组 , 组名可以由grouplist查询出来</span></span><br><span class="line">yum groupinstall 软件组名</span><br><span class="line"></span><br><span class="line"><span class="comment"># 卸载指定的软件组</span></span><br><span class="line">yum groupremove 软件组名</span><br></pre></td></tr></table></figure>



<h3 id="光盘yum源搭建"><a href="#光盘yum源搭建" class="headerlink" title="光盘yum源搭建"></a>光盘yum源搭建</h3><p>修改yum源,让网络yum源失效</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看所有的yum源</span></span><br><span class="line"><span class="built_in">cd</span> /etc/yum.repos.d/</span><br><span class="line"><span class="comment"># CentOS-Base.repo  CentOS-Debuginfo.repo  CentOS-Media.repo  CentOS-Vault.repo</span></span><br></pre></td></tr></table></figure>

<p>yum是通过扫描yum源来进行安装的,所以只需要将不需要的远修改个名字就行.</p>
<p>比如现在光盘需要用到<code>CentOS-Media.repo</code>,就需要将其它的修改,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 名字可以随意修改,这里使用约定俗成的做法</span></span><br><span class="line">mv CentOS-Base.repo CentOS-Base.repo.bak</span><br><span class="line">mv CentOS-Debuginfo.repo CentOS-Debuginfo.repo.bak</span><br><span class="line">mv CentOS-Vault.repo CentOS-Vault.repo.bak</span><br></pre></td></tr></table></figure>



<p>修改光盘yum源文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim CentOS-Media.repo</span><br></pre></td></tr></table></figure>

<ul>
<li>修改baseurl</li>
<li>设置enabled为1</li>
</ul>
<h2 id="源码包管理"><a href="#源码包管理" class="headerlink" title="源码包管理"></a>源码包管理</h2><h4 id="源码包和RPM包的区别"><a href="#源码包和RPM包的区别" class="headerlink" title="源码包和RPM包的区别"></a>源码包和RPM包的区别</h4><ul>
<li>安装之前的区别：概念上的区别</li>
<li>安装之后的区别：安装位置不同</li>
</ul>
<p>RPM包默认安装路径</p>
<table>
<thead>
<tr>
<th>/etc/</th>
<th>配置文件安装目录</th>
</tr>
</thead>
<tbody><tr>
<td>/usr/bin/</td>
<td>可执行的命令安装目录</td>
</tr>
<tr>
<td>/usr/lib/</td>
<td>程序所使用的函数库保存位置</td>
</tr>
<tr>
<td>/usr/share/doc/</td>
<td>基本的软件使用手册保存位置</td>
</tr>
<tr>
<td>/usr/share/man/</td>
<td>帮助文件保存位置</td>
</tr>
</tbody></table>
<p>源码包安装位置</p>
<p>自定义位置,一般是<code>/usr/local/软件名/</code></p>
<p>安装位置不同带来的影响</p>
<p><strong>RPM包安装的服务可以使用系统服务管理命令（service）来管理</strong>，例如RPM包安装的 apache的启动方法是：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用绝对路径</span></span><br><span class="line">/etc/rc.d/init.d/httpd start</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">service httpd start</span><br></pre></td></tr></table></figure>



<ul>
<li><code>service httpd start</code>的本质其实就是去<code>/etc/rc.d/init.d/</code>找到httpd,然后启动</li>
<li>所以,对于使用源码包安装的服务,因为路径不一样,就不能使用<code>service httpd start</code>,只能使用绝对路径查找</li>
</ul>
<h4 id="源码包安装过程"><a href="#源码包安装过程" class="headerlink" title="源码包安装过程"></a>源码包安装过程</h4><ul>
<li>我们可以同时安装PRM包和源码包 , 但是不推荐</li>
<li>源码包保存位置 : <code>/usr/local/src/</code></li>
<li>软件安装位置：<code>/usr/local/</code></li>
</ul>
<p>流程 : </p>
<ol>
<li>下载源码包</li>
<li>解压缩下载的源码包</li>
<li><strong>进入解压缩目录</strong></li>
<li>.configure软件配置与检查<ul>
<li>定义需要的功能选项。</li>
<li>检测系统环境是否符合安装要求。</li>
<li>把定义好的功能选项和检测系统环境的信息都写入 Makefile文件，用于后续的编辑。</li>
</ul>
</li>
<li>make : 编译</li>
<li>make install 编译安装</li>
</ol>
<p>现在已经下载了httpd-2.2.9.tar.gz</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解压缩</span></span><br><span class="line">tar -zxvf httpd-2.2.9.tar.gz</span><br><span class="line"><span class="comment"># 进入解压缩目录</span></span><br><span class="line"><span class="built_in">cd</span> httpd-2.2.9</span><br><span class="line"><span class="comment"># 设置安装路径</span></span><br><span class="line">.configure --prefix=/usr/<span class="built_in">local</span>/apache2</span><br><span class="line"><span class="comment"># 调用gcc,将源码进行编译</span></span><br><span class="line">make</span><br><span class="line"><span class="comment"># 编译安装</span></span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>只有执行了make install后才会真正的安装,如果安装失败,我们执行<code>make clean</code>来清除临时文件即可.</li>
<li>也就是说 , 源码包不需要卸载命令，直接删除安装目录即可。不会遗留任何垃圾文件。</li>
</ul>
</blockquote>
<h2 id="脚本安装包与软件包的选择"><a href="#脚本安装包与软件包的选择" class="headerlink" title="脚本安装包与软件包的选择"></a>脚本安装包与软件包的选择</h2><ul>
<li>脚本安装包并不是独立的软件包类型，常见安装的是源码包。</li>
<li>是人为把安装过程写成了自动安装的脚本，只要执行脚本，定义简单的参数，就可以完成安装。</li>
<li>非常类似于 Windows下软件的安装方式</li>
</ul>
<p>流程 :</p>
<ol>
<li>下载软件<br><a target="_blank" rel="noopener" href="http://sourceforge.net/projects/webadmin/files/webmin">http://sourceforge.net/projects/webadmin/files/webmin</a> </li>
<li>解压缩，并进入加压缩目录</li>
<li>执行安装脚本</li>
</ol>
</div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>