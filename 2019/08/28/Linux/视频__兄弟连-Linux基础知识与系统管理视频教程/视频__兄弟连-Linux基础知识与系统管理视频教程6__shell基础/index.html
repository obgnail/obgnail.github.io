<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=" id=&quot;shell基础&quot;&gt;&lt;a href=&quot;#shell基础&quot; class=&quot;headerlink&quot; title=&quot;shell基础&quot;&gt;&lt;/a&gt;shell基础&lt;/h1&gt;&lt;h2 id=&quot;shell概述&quot;&gt;&lt;a href=&quot;#shell概述&quot; class=&quot;headerlink&quot; title=&quot;shell概述&quot;&gt;&lt;/a&gt;shell概述&lt;/h2&gt;&lt;h3 id=&quot;Shell是什么&quot;&gt;&lt;a href=&quot;#Shell是什么&quot; class=&quot;headerlink&quot; title=&quot;Shell是什么&quot;&gt;&lt;/a&gt;Shell是什么&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Shell是一个命令行解释器，它为用户提供了一个向 Linux 内核发送请求以便运行程序的界面系统级程序，用户可以用Shell启动、挂起、停止甚至是编写一些程序。"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>兄弟连-Linux基础知识与系统管理视频教程6 | 凉薄的自动书记人偶</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Tags</a><a class="sidebar-nav-item" href="/About">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Linux/" rel="tag">Linux</a></div><div class="post-time">2019-08-28</div></div></div><div class="container post-header"><h1>兄弟连-Linux基础知识与系统管理视频教程6</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#shell%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">shell基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">shell概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Shell%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.1.1.</span> <span class="toc-text">Shell是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shell%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.1.2.</span> <span class="toc-text">Shell的分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E6%94%AF%E6%8C%81%E7%9A%84Shell"><span class="toc-number">1.1.3.</span> <span class="toc-text">Linux 支持的Shell</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.</span> <span class="toc-text">shell脚本的执行方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bash%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD"><span class="toc-number">1.3.</span> <span class="toc-text">Bash的基本功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4"><span class="toc-number">1.3.1.</span> <span class="toc-text">历史命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E5%88%AB%E5%90%8D%E4%B8%8E%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-number">1.3.2.</span> <span class="toc-text">命令别名与常用快捷键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.3.3.</span> <span class="toc-text">输入输出重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">标准输入输出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">输出重定向</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">输入重定向</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E5%91%BD%E4%BB%A4%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C%E4%B8%8E%E7%AE%A1%E9%81%93%E7%AC%A6"><span class="toc-number">1.3.4.</span> <span class="toc-text">多命令顺序执行与管道符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E9%85%8D%E7%AC%A6%E4%B8%8E%E5%85%B6%E4%BB%96%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7"><span class="toc-number">1.3.5.</span> <span class="toc-text">通配符与其他特殊符号</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bash%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-number">1.4.</span> <span class="toc-text">Bash的变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">1.4.1.</span> <span class="toc-text">用户自定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.4.2.</span> <span class="toc-text">环境变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%B8%B8%E8%A7%81%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">系统常见环境变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E5%8F%98%E9%87%8F"><span class="toc-number">1.4.3.</span> <span class="toc-text">位置参数变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">1.4.4.</span> <span class="toc-text">预定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%97%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5"><span class="toc-number">1.4.5.</span> <span class="toc-text">接受键盘输入</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bash%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.5.</span> <span class="toc-text">Bash的运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97%E4%B8%8E%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.5.0.1.</span> <span class="toc-text">数值运算与运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#declare-%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.5.0.1.1.</span> <span class="toc-text">declare 声明变量类型:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#expr%E6%88%96let%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97%E5%B7%A5%E5%85%B7"><span class="toc-number">1.5.0.1.2.</span> <span class="toc-text">expr或let数值运算工具</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#quot-%E8%BF%90%E7%AE%97%E5%BC%8F-quot-%E6%88%96-quot-%E8%BF%90%E7%AE%97%E5%BC%8F-quot"><span class="toc-number">1.5.0.1.3.</span> <span class="toc-text">&quot;$((运算式))&quot;或&quot;$[运算式]&quot;</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%86%85%E5%AE%B9%E6%9B%BF%E6%8D%A2"><span class="toc-number">1.5.0.2.</span> <span class="toc-text">变量测试与内容替换</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.</span> <span class="toc-text">环境变量配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%AE%80%E4%BB%8B"><span class="toc-number">1.6.1.</span> <span class="toc-text">环境变量配置文件简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%9C%E7%94%A8"><span class="toc-number">1.6.2.</span> <span class="toc-text">环境变量配置文件作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%92%8C%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF"><span class="toc-number">1.6.3.</span> <span class="toc-text">其他配置文件和登录信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.7.</span> <span class="toc-text">Shell中的正则表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%88%AA%E5%8F%96%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.</span> <span class="toc-text">字符截取命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#cut%E5%AD%97%E6%AE%B5%E6%8F%90%E5%8F%96%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.1.</span> <span class="toc-text">cut字段提取命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#printf%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.2.</span> <span class="toc-text">printf命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#awk%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.3.</span> <span class="toc-text">awk命令</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E6%9D%A1%E4%BB%B61%E7%AC%A6%E5%90%88-%E6%89%A7%E8%A1%8C%E5%8A%A8%E4%BD%9C1-%E6%9D%A1%E4%BB%B62%E7%AC%A6%E5%90%88-%E6%89%A7%E8%A1%8C%E5%8A%A8%E4%BD%9C2"><span class="toc-number">2.</span> <span class="toc-text">如果条件1符合,执行动作1,条件2符合,执行动作2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#sed%E5%91%BD%E4%BB%A4"><span class="toc-number">2.0.1.</span> <span class="toc-text">sed命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">2.1.</span> <span class="toc-text">字符处理命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">2.2.</span> <span class="toc-text">条件判断</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6%E7%9A%84%E5%88%A4%E6%96%AD"><span class="toc-number">2.2.1.</span> <span class="toc-text">单个文件的判断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E6%96%87%E4%BB%B6%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8C%E6%AF%94%E8%BE%83"><span class="toc-number">2.2.2.</span> <span class="toc-text">两个文件之间进行比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E6%95%B4%E6%95%B0%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8C%E6%AF%94%E8%BE%83"><span class="toc-number">2.2.3.</span> <span class="toc-text">两个整数之间进行比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%88%A4%E6%96%AD"><span class="toc-number">2.2.4.</span> <span class="toc-text">字符串的判断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">2.2.5.</span> <span class="toc-text">多重条件判断</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">2.3.</span> <span class="toc-text">流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#if"><span class="toc-number">2.3.1.</span> <span class="toc-text">if</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#case"><span class="toc-number">2.3.2.</span> <span class="toc-text">case</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for"><span class="toc-number">2.3.3.</span> <span class="toc-text">for</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#while%E5%BE%AA%E7%8E%AF%E5%92%8Cuntil"><span class="toc-number">2.3.4.</span> <span class="toc-text">while循环和until</span></a></li></ol></li></ol></li></ol></details></div><div class="container post-content"><h1 id="shell基础"><a href="#shell基础" class="headerlink" title="shell基础"></a>shell基础</h1><h2 id="shell概述"><a href="#shell概述" class="headerlink" title="shell概述"></a>shell概述</h2><h3 id="Shell是什么"><a href="#Shell是什么" class="headerlink" title="Shell是什么"></a>Shell是什么</h3><ul>
<li><p>Shell是一个命令行解释器，它为用户提供了一个向 Linux 内核发送请求以便运行程序的界面系统级程序，用户可以用Shell启动、挂起、停止甚至是编写一些程序。</p>
<blockquote>
<p>简单来说就是将类似于<code>ls</code>的命令 , 转化01序列</p>
</blockquote>
</li>
<li><p>流程:</p>
<blockquote>
<p>外层应用程序 –&gt; shell命令解释器 –&gt; 内核 –&gt; 硬件</p>
</blockquote>
</li>
<li><p>shell是一个功能相当强大的编程语言，易编写，易调试，灵活性较强.Shell是<strong>解释执行的脚本语言</strong>，在Shell中可以直接调用 Linux 系统命令。</p>
</li>
</ul>
<h3 id="Shell的分类"><a href="#Shell的分类" class="headerlink" title="Shell的分类"></a>Shell的分类</h3><ul>
<li>Bourne Shell</li>
<li>C Shell</li>
</ul>
<h3 id="Linux-支持的Shell"><a href="#Linux-支持的Shell" class="headerlink" title="Linux 支持的Shell"></a>Linux 支持的Shell</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> more /etc/shells</span><br><span class="line"><span class="comment"># /bin/sh</span></span><br><span class="line"><span class="comment"># /bin/bash</span></span><br><span class="line"><span class="comment"># /sbin/nologin</span></span><br><span class="line"><span class="comment"># /bin/dash</span></span><br></pre></td></tr></table></figure>



<h2 id="shell脚本的执行方式"><a href="#shell脚本的执行方式" class="headerlink" title="shell脚本的执行方式"></a>shell脚本的执行方式</h2><p>echo输出命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> [选项] [输出内容]</span><br></pre></td></tr></table></figure>

<p>-e : 开启转义</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;asasdasdasd asdasdasd&quot;</span></span><br><span class="line"><span class="comment"># asasdasdasd asdasdasd</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;ab\bc&quot;</span></span><br><span class="line"><span class="comment"># ac</span></span><br></pre></td></tr></table></figure>



<p>第一个脚本</p>
<ol>
<li><p>创建脚本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi hello.sh</span><br></pre></td></tr></table></figure>

<p>hello.sh内容如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#The first program </span></span><br><span class="line"><span class="comment">#Author: hyl</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>#!/bin/bash</code>不是注释 , 标志这个文件是shell脚本</p>
</blockquote>
</li>
<li><p>执行:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 赋予执行权限</span></span><br><span class="line">chmod 755 hello.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行命令</span></span><br><span class="line">./hello.sh</span><br></pre></td></tr></table></figure>

<p>或者:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash hello.sh</span><br></pre></td></tr></table></figure></li>
<li><p>如果shell脚本是在window里写的 , 因为换行符不同 ,我们可以使用<code>dos2unix</code>来解决</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dos2unix hello.sh</span><br><span class="line">bash hello.sh</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Bash的基本功能"><a href="#Bash的基本功能" class="headerlink" title="Bash的基本功能"></a>Bash的基本功能</h2><h3 id="历史命令"><a href="#历史命令" class="headerlink" title="历史命令"></a>历史命令</h3><p>history [选项] [历史命令保存文件]<br>选项:</p>
<ul>
<li>-c : 清空历史命令</li>
<li>-w : 把缓存中的历史命令写入历史命令保存文件<code>./bash history</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">history</span></span><br></pre></td></tr></table></figure>



<ul>
<li><p>历史命令默认会保存1000条，</p>
<p>可以在环境变量配置文件/etc/profile中进行修改</p>
</li>
<li><p>使用上、下箭头调用以前的历史命令</p>
</li>
<li><p>使用<code>!n</code>重复执行第n条历史命令</p>
</li>
<li><p>使用<code>!!</code>重复执行上一条命令</p>
</li>
<li><p>使用<code>!字符串</code>重复执行最后一条以该字串开头的命令</p>
</li>
</ul>
<h3 id="命令别名与常用快捷键"><a href="#命令别名与常用快捷键" class="headerlink" title="命令别名与常用快捷键"></a>命令别名与常用快捷键</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> 别名=<span class="string">&quot;原命令&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看</span></span><br><span class="line"><span class="built_in">alias</span></span><br></pre></td></tr></table></figure>

<p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 原命令vim , 别名vi</span></span><br><span class="line"><span class="built_in">alias</span> vi=<span class="string">&quot;vim&quot;</span></span><br></pre></td></tr></table></figure>



<p>命令执行顺序</p>
<ol>
<li>第一顺位执行用绝对路径或相对路径执行的命令。</li>
<li>第二顺位执行别名。</li>
<li>第三顺位执行Bash的内部命令。</li>
<li>第四顺位执行按照$PATH环境变量定义的目录査找顺序找到的第一个命令</li>
</ol>
<p>删除别名:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unalias</span> 别名</span><br></pre></td></tr></table></figure>



<p>让别名永久生效:修改文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /root/.bashrc</span><br></pre></td></tr></table></figure>



<p>bash常用快捷键</p>
<ul>
<li>Ctrl+U : 剪切(可以当成删除使用)</li>
<li>Ctrl +Y : 粘贴</li>
<li>Ctrl+ R : 历史记录</li>
</ul>
<h3 id="输入输出重定向"><a href="#输入输出重定向" class="headerlink" title="输入输出重定向"></a>输入输出重定向</h3><h4 id="标准输入输出"><a href="#标准输入输出" class="headerlink" title="标准输入输出"></a>标准输入输出</h4><table>
<thead>
<tr>
<th>设备</th>
<th>设备文件名</th>
<th>文件描述符</th>
<th>缩写</th>
<th>描述</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>键盘</td>
<td>/dev/stdin</td>
<td>0</td>
<td>STDIN</td>
<td>标准输入</td>
<td></td>
</tr>
<tr>
<td>显示器</td>
<td>/dev/sdtout</td>
<td>1</td>
<td>STDOUT</td>
<td>标准输出</td>
<td></td>
</tr>
<tr>
<td>显示器</td>
<td>/dev/sdterr</td>
<td>2</td>
<td>STDERR</td>
<td>标准错误输出</td>
<td></td>
</tr>
</tbody></table>
<h4 id="输出重定向"><a href="#输出重定向" class="headerlink" title="输出重定向"></a>输出重定向</h4><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">command &gt; file</td>
<td align="left">已覆盖的方式, 将输出重定向到 file。</td>
</tr>
<tr>
<td align="left">command &lt; file</td>
<td align="left">已覆盖的方式,将输入重定向到 file。</td>
</tr>
<tr>
<td align="left">command &gt;&gt; file</td>
<td align="left">将输出以追加的方式重定向到 file。</td>
</tr>
<tr>
<td align="left">n &gt; file</td>
<td align="left">将文件描述符为 n 的文件重定向到 file。</td>
</tr>
<tr>
<td align="left">n &gt;&gt; file</td>
<td align="left">将文件描述符为 n 的文件以追加的方式重定向到 file。</td>
</tr>
<tr>
<td align="left">n &gt;&amp; m</td>
<td align="left">将输出文件 m 和 n 合并。</td>
</tr>
<tr>
<td align="left">n &lt;&amp; m</td>
<td align="left">将输入文件 m 和 n 合并。</td>
</tr>
<tr>
<td align="left">&lt;&lt; tag</td>
<td align="left">将开始标记 tag 和结束标记 tag 之间的内容作为输入。</td>
</tr>
</tbody></table>
<blockquote>
<p>对于报错信息 , 我们需要使用<code>2</code><strong>重定向错误信息</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 并没有lssst命令 </span></span><br><span class="line">lssst 2&gt;&gt; file1</span><br></pre></td></tr></table></figure>

<p>注意<code>2</code>和<code>&gt;&gt;</code>之间没有空格</p>
</blockquote>
<blockquote>
<p><strong>不管对错都重定向到file1</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 不管对错都重定向到file1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 覆盖</span></span><br><span class="line">lssssst &amp;&gt; file1</span><br><span class="line"><span class="comment"># 追加</span></span><br><span class="line">lssssst &amp;&gt;&gt; file1</span><br></pre></td></tr></table></figure>

<p>正确追加到文件1 , 错误追加到文件2</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">命令 &gt;&gt;文件1  2&gt;&gt; 文件2</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="输入重定向"><a href="#输入重定向" class="headerlink" title="输入重定向"></a>输入重定向</h4><p>比如某些命令需要参数 , 我们就可以将参数存储到文件中,使用输入重定向传参</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wc [选项] [文件名]</span><br></pre></td></tr></table></figure>

<p>选项:</p>
<ul>
<li>-c   统计字节数</li>
<li>-w  统计单词数</li>
<li>-l   统计行数</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wc &lt; python.cfg</span><br></pre></td></tr></table></figure>



<h3 id="多命令顺序执行与管道符"><a href="#多命令顺序执行与管道符" class="headerlink" title="多命令顺序执行与管道符"></a>多命令顺序执行与管道符</h3><p>多命令顺序执行</p>
<ul>
<li>; 分号，没有任何逻辑关系的连接符。当多个命令用分号连接时，各命令之间的执行成功与否彼此没有任何影响，都会一条一条执行下去。</li>
<li>|| 逻辑或，当用此连接符连接多个命令时，<strong>前面的命令执行成功，则后面的命令不会执行。</strong>前面的命令执行失败，后面的命令才会执行。</li>
<li>&amp;&amp; 逻辑与，当用此连接符连接多个命令时，<strong>前面的命令执行成功，才会执行后面的命令</strong>，前面的命令执行失败，后面的命令不会执行，与 || 正好相反。</li>
<li> | 管道符，当用此连接符连接多个命令时，<strong>前面命令执行的正确输出，会交给后面的命令继续处理。</strong>若前面的命令执行失败，则会报错，若后面的命令无法处理前面命令的输出，也会报错。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断命令是否正常运行</span></span><br><span class="line">命令 &amp;&amp; <span class="built_in">echo</span> yes || <span class="built_in">echo</span> no</span><br></pre></td></tr></table></figure>



<h3 id="通配符与其他特殊符号"><a href="#通配符与其他特殊符号" class="headerlink" title="通配符与其他特殊符号"></a>通配符与其他特殊符号</h3><p><code>?</code> : 匹配一个字符</p>
<p><code>*</code> : 匹配0到多个字符</p>
<p>Bash中其他特殊符号</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>单引号<code>&#39;&#39;</code></td>
<td>在单引号中所有的特殊符号都没有特殊含义。</td>
</tr>
<tr>
<td>双引号<code>&quot;&quot;</code></td>
<td>1. 在双引号中特殊符号都没有特殊含义，<br />2. 但是$、`、\是例外，分别代表<code>调用变量的值</code>、<code>引用命令</code>和<code>转义符</code>的特殊含义</td>
</tr>
<tr>
<td>反引号 `</td>
<td>1. 反引号。反引号括起来的内容是系统命令，在Bash中会先执行<br />2. 它和<code>$()</code>作用一样，不过推荐使用<code>$()</code>，因为反引号非常容易看错。</td>
</tr>
<tr>
<td><code>$()</code></td>
<td>和反引号作用一样，用来引用系统命令</td>
</tr>
<tr>
<td>井号<code>#</code></td>
<td>注释</td>
</tr>
<tr>
<td><code>$</code></td>
<td>用于调用变量的值，如需要调用变量name的值时，需要用<code>$name</code>的方式得到变量的值。</td>
</tr>
<tr>
<td>反斜线<code>\</code></td>
<td>转义符</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">name=sc</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span></span><br><span class="line"><span class="comment"># sc</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$name&#x27;</span></span><br><span class="line"><span class="comment"># $name</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$name</span>&quot;</span></span><br><span class="line"><span class="comment"># sc</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span>&quot;</span></span><br><span class="line"><span class="comment"># Tue Aug 27 02:32:56 UTC 2019</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> `date`</span><br><span class="line"><span class="comment"># Tue Aug 27 02:33:13 UTC 2019</span></span><br></pre></td></tr></table></figure>



<h2 id="Bash的变量"><a href="#Bash的变量" class="headerlink" title="Bash的变量"></a>Bash的变量</h2><ul>
<li>用户自定义变量</li>
<li>环境变量：这种变量中主要保存的是<strong>和系统操作环境相关</strong>的数据。</li>
<li>位置参数变量：这种变量主要是用来<strong>向脚本当中传递参数或数据</strong>的，变量名不能自定义，变量作用是固定的。</li>
<li>预定义变量：是Bash中已经定义好的变量，变量名不能自定义，变量作用也是固定的。</li>
</ul>
<ul>
<li><p>在Bash中，变量的默认类型都是<strong>字符串型</strong>，如果要进行数值运算，则必须指定变量类型为数值型。</p>
</li>
<li><p>变量赋值的时候等号左右不能有空格 , </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># right</span></span><br><span class="line">name=hyl</span><br><span class="line">name=<span class="string">&#x27;he ying liang&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># wrong</span></span><br><span class="line">name = hyl</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="用户自定义变量"><a href="#用户自定义变量" class="headerlink" title="用户自定义变量"></a>用户自定义变量</h3><ul>
<li>变量的叠加 :  <code>&quot;$变量名&quot;</code>或者<code>$&#123;变量名&#125;</code></li>
<li><code>set</code>查看全部的变量</li>
<li><code>unset name</code> : 删除变量</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">aa=123</span><br><span class="line">b=<span class="string">&quot;he ying liang&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$aa</span></span><br><span class="line"><span class="comment"># 123</span></span><br><span class="line"></span><br><span class="line">aa=<span class="string">&quot;<span class="variable">$aa</span>&quot;</span>456</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$aa</span></span><br><span class="line"><span class="comment"># 123456</span></span><br><span class="line">aa=<span class="variable">$&#123;aa&#125;</span>789</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$aa</span></span><br><span class="line"><span class="comment"># 123456789</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">unset</span> aa</span><br></pre></td></tr></table></figure>



<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><ul>
<li><p>用户自定义变量只在当前的She中生效，而<strong>环境变量会在当前Shell和这个Shell所有子Shell中生效</strong>。如果把环境变量写入相应的配置文件，那么这个环境变量就会在所有的Shell生效</p>
<blockquote>
<p>环境变量和自定义变量的本质区别就是 : <strong>作用域不同</strong></p>
<ul>
<li>自定义变量只在当前shell中生效</li>
<li>环境变量在子shell中生效</li>
<li>如果把环境变量写入配置文件,那么就会在所有shell中生效</li>
</ul>
</blockquote>
</li>
<li><p>环境变量名建议大写，便于区分</p>
</li>
<li><p>设置环境变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> 变量名=变量值</span><br><span class="line"><span class="comment"># 声明变量</span></span><br><span class="line"></span><br><span class="line">env</span><br><span class="line"><span class="comment"># 查询变量</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">unset</span> 变量名</span><br><span class="line"><span class="comment"># 删除变量</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">name=hyl</span><br><span class="line"><span class="built_in">export</span> name</span><br><span class="line"><span class="comment"># 将自定义变量升级为环境变量</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> age=21</span><br><span class="line"><span class="comment"># 直接定义环境变量</span></span><br></pre></td></tr></table></figure>



<h4 id="系统常见环境变量"><a href="#系统常见环境变量" class="headerlink" title="系统常见环境变量"></a>系统常见环境变量</h4><ul>
<li><p>PATH : <strong>系统查找命令的路径</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span> </span><br><span class="line"><span class="comment"># /usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin</span></span><br><span class="line"><span class="comment"># 使用冒号分割</span></span><br><span class="line"></span><br><span class="line">PATH=<span class="string">&quot; <span class="variable">$PATH</span>&quot;</span>:/root/sh</span><br><span class="line"><span class="comment"># PATH变量叠加</span></span><br><span class="line"><span class="comment"># 临时改变 , 重启就失效</span></span><br></pre></td></tr></table></figure></li>
<li><p>PS1 : 定义系统提示符的变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PS1</span></span><br><span class="line"><span class="comment"># [\u@\h \W]\$</span></span><br><span class="line"><span class="comment"># 对应[root@li1596-233 ~]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="位置参数变量"><a href="#位置参数变量" class="headerlink" title="位置参数变量"></a>位置参数变量</h3><p><code>变量名称</code>和<code>变量作用</code>都不能更改</p>
<table>
<thead>
<tr>
<th>位置参数变量</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>$1, $2, …：</td>
<td>对应第1、第2等参数，shift [n]换位置</td>
</tr>
<tr>
<td><code>$n</code></td>
<td>n为数字,<code>$0</code>代表命令本身,<code>$1-$9</code>代表第一到第九个参数,十以上的参数需要用大括号包含,如<code>$&#123;10&#125;</code></td>
</tr>
<tr>
<td><code>$*</code></td>
<td>这个变量代表命令行中所有的参数，<code>$*</code>把所有的参数看成一个整体</td>
</tr>
<tr>
<td><code>$@ </code></td>
<td>这个变量也代表命令行中所有的参数，不过<code>$@</code>把每个参数区分对待</td>
</tr>
<tr>
<td><code>$#</code></td>
<td>这个变量代表命令行中所有参数的个数</td>
</tr>
</tbody></table>
<p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">vim script.sh</span><br><span class="line"><span class="comment"># script.sh内容如下</span></span><br><span class="line"><span class="comment"># echo $0</span></span><br><span class="line"><span class="comment"># echo $1</span></span><br><span class="line"><span class="comment"># echo $2</span></span><br><span class="line"><span class="comment"># echo $*</span></span><br><span class="line"><span class="comment"># echo $@</span></span><br><span class="line"><span class="comment"># echo $#</span></span><br><span class="line"></span><br><span class="line">chmod 755 script.sh</span><br><span class="line">./script.sh</span><br><span class="line"><span class="comment">#./script.sh</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">./script.sh 11 22 33</span><br><span class="line"><span class="comment">#./script.sh</span></span><br><span class="line"><span class="comment">#11</span></span><br><span class="line"><span class="comment">#22</span></span><br><span class="line"><span class="comment">#11 22 33</span></span><br><span class="line"><span class="comment">#11 22 33</span></span><br><span class="line"><span class="comment">#3</span></span><br></pre></td></tr></table></figure>



<h3 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h3><p><code>位置参数变量</code>就是特殊的<code>预定义变量</code></p>
<table>
<thead>
<tr>
<th>预定义变量</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td><code>$?</code></td>
<td>最后一次执行的命令的返回状态。<br />1. 如果这个变量的值为0，证明上一个命令正确执行；<br />2. 如果这个变量的值为<strong>非0</strong>，则证明上一个命令执行<strong>不正确</strong><br />3. 不同的错误有不同的错误码</td>
</tr>
<tr>
<td><code>$$</code></td>
<td>当前进程的进程号（P  ID）</td>
</tr>
<tr>
<td><code>$!</code></td>
<td>后台运行的最后一个进程的进程号（PID）</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正确执行</span></span><br><span class="line">ls</span><br><span class="line"><span class="comment"># file1  file2  file5  file777  project_dir  script.sh</span></span><br><span class="line"><span class="built_in">echo</span> $?</span><br><span class="line"><span class="comment"># 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 错误执行</span></span><br><span class="line">llasdasdasd</span><br><span class="line"><span class="comment"># -bash: llasdasdasd: command not found</span></span><br><span class="line"><span class="built_in">echo</span> $?</span><br><span class="line"><span class="comment"># 127</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>||</code>和<code>&amp;&amp;</code>的惰性运算 , 其实就是依赖于<code>echo $?</code></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> $$</span><br><span class="line"><span class="comment"># 29040</span></span><br></pre></td></tr></table></figure>



<h3 id="接受键盘输入"><a href="#接受键盘输入" class="headerlink" title="接受键盘输入"></a>接受键盘输入</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">read</span> [选项] [变量名]</span><br></pre></td></tr></table></figure>

<p>选项:</p>
<ul>
<li><p><code>-p   “提示信息”</code> ：在等待read输入时，输出提示信息</p>
</li>
<li><p><code>-t   秒数</code>：read命令会一直等待用户输入，使用此选项可以指定等待时间</p>
</li>
<li><p><code>-n   字符数</code>：read命令只接受指定的字符数，就会执行</p>
<blockquote>
<p>本来输入后回车 , 程序才会运行.现在你只要输入字符长度大于某个值 , 程序就会自动运行</p>
</blockquote>
</li>
<li><p><code>-s</code>   : 隐藏输入的数据，适用于机密信息的输入</p>
</li>
</ul>
<p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 提示“请输入姓名”并等30秒，把用户的输入保存入变量nme中</span></span><br><span class="line"><span class="built_in">read</span> -t 30 -p <span class="string">&quot;please input your name :&quot;</span> name</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;your name is <span class="variable">$name</span>&quot;</span></span><br></pre></td></tr></table></figure>



<h2 id="Bash的运算符"><a href="#Bash的运算符" class="headerlink" title="Bash的运算符"></a>Bash的运算符</h2><p>Bash的默认数据类型是<code>字符串</code></p>
<h4 id="数值运算与运算符"><a href="#数值运算与运算符" class="headerlink" title="数值运算与运算符"></a>数值运算与运算符</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=11</span><br><span class="line">b=22</span><br><span class="line">c=<span class="variable">$a</span>+<span class="variable">$b</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$c</span></span><br><span class="line"><span class="comment"># 11+22</span></span><br></pre></td></tr></table></figure>



<h5 id="declare-声明变量类型"><a href="#declare-声明变量类型" class="headerlink" title="declare 声明变量类型:"></a>declare 声明变量类型:</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">declare</span> [+-] [选项] 变量名</span><br></pre></td></tr></table></figure>

<p>选项:</p>
<ul>
<li><code>-</code> : 给变量设定类型属性</li>
<li><code>+</code> : 取消变量的类型属性</li>
<li><code>-i</code> : 将变量声明为整数型（Integer）</li>
<li><code>-x</code> : 将变量声明为环境变量</li>
<li><code>-p</code> : 显示指定变量的被声明的类型</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">declare</span> -p a</span><br><span class="line"><span class="comment"># declare -- a=&#x27;11&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> a</span><br><span class="line"><span class="built_in">declare</span> -p a</span><br><span class="line"><span class="comment"># declare -x a=&quot;11&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">aa=11</span><br><span class="line">bb=22</span><br><span class="line"><span class="built_in">declare</span> -i cc=<span class="variable">$aa</span>+<span class="variable">$bb</span></span><br></pre></td></tr></table></figure>



<h5 id="expr或let数值运算工具"><a href="#expr或let数值运算工具" class="headerlink" title="expr或let数值运算工具"></a>expr或let数值运算工具</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">aa=11</span><br><span class="line">bb=22</span><br><span class="line">dd=$(expr <span class="variable">$aa</span> + <span class="variable">$bb</span>)</span><br><span class="line"><span class="comment"># dd的值是a和bb的和。注意“+”号左右两侧必须有空格</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=11</span><br><span class="line">b=22</span><br><span class="line">c=<span class="variable">$a</span>+<span class="variable">$b</span></span><br><span class="line">d=$(expr <span class="variable">$a</span> + <span class="variable">$b</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$c</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$d</span></span><br><span class="line"><span class="comment"># 11+22</span></span><br><span class="line"><span class="comment"># 33</span></span><br></pre></td></tr></table></figure>



<h5 id="quot-运算式-quot-或-quot-运算式-quot"><a href="#quot-运算式-quot-或-quot-运算式-quot" class="headerlink" title="&quot;$((运算式))&quot;或&quot;$[运算式]&quot;"></a><code>&quot;$((运算式))&quot;</code>或<code>&quot;$[运算式]&quot;</code></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">aa=11</span><br><span class="line">bb=22</span><br><span class="line">ff=$((<span class="variable">$aa</span>+<span class="variable">$bb</span>))</span><br><span class="line">gg=$[<span class="variable">$aa</span>+<span class="variable">$bb</span>]</span><br></pre></td></tr></table></figure>



<h4 id="变量测试与内容替换"><a href="#变量测试与内容替换" class="headerlink" title="变量测试与内容替换"></a>变量测试与内容替换</h4><table>
<thead>
<tr>
<th>变量置换方式</th>
<th>变量y没有设置</th>
<th>变量y为空值</th>
<th>变量y设置值</th>
</tr>
</thead>
<tbody><tr>
<td>x=${y-新值}</td>
<td>x= 新值</td>
<td>x 为空</td>
<td>x=$y</td>
</tr>
<tr>
<td>x=${y:-新值}</td>
<td>x= 新值</td>
<td>x= 新值</td>
<td>x=$y</td>
</tr>
<tr>
<td>x=${y+新值}</td>
<td>x 为空</td>
<td>x= 新值</td>
<td>x=新值</td>
</tr>
<tr>
<td>x=${y:+新值}</td>
<td>x 为空</td>
<td>x 为空</td>
<td>x=新值</td>
</tr>
<tr>
<td>x=${y=新值}</td>
<td>x= 新值</td>
<td>x 为空</td>
<td>x=$y</td>
</tr>
<tr>
<td>y= 新值</td>
<td>y 值不变</td>
<td>y值不变</td>
<td></td>
</tr>
<tr>
<td>x=${y:=新值}</td>
<td>x= 新值</td>
<td>X= 新值</td>
<td>x=$y</td>
</tr>
<tr>
<td>y= 新值</td>
<td>y= 新值</td>
<td>y值不变</td>
<td></td>
</tr>
<tr>
<td>x=${y?新值}</td>
<td>新值输出到标准错误输出（屏幕）</td>
<td>x 为空</td>
<td>x=$y</td>
</tr>
<tr>
<td>x=${y:?新值}</td>
<td>新值输出到标准错误输出</td>
<td>新值输出到标准错误输出</td>
<td>x=$y</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> y</span><br><span class="line">x=<span class="variable">$&#123;y-new&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$x</span></span><br><span class="line"><span class="comment"># new</span></span><br><span class="line"></span><br><span class="line">y=<span class="string">&quot;&quot;</span></span><br><span class="line">x=<span class="variable">$&#123;y-new&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$x</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="环境变量配置文件"><a href="#环境变量配置文件" class="headerlink" title="环境变量配置文件"></a>环境变量配置文件</h2><p>配置文件的读取顺序 :</p>
<p><img src="/images/1566892815510.png" alt="1566892815510"></p>
<p>虽然 <code>/etc/profile</code> 和 <code>/etc/bashrc</code> 都调用了 <code>/etc/profile.d/*.sh</code> .  </p>
<ul>
<li><code>/etc/profile</code> 定义的是需要使用登录密码后才能使用的shell . </li>
<li><code>/etc/bashrc</code>定义的是不需要使用登录密码后才能使用的shell</li>
</ul>
<h3 id="环境变量配置文件简介"><a href="#环境变量配置文件简介" class="headerlink" title="环境变量配置文件简介"></a>环境变量配置文件简介</h3><ul>
<li><p>环境变量配置文件中主要是定义对系统的操作环境生效的系统默认环境变量，比如PATH、HISTSIZE、PS1、HOSTNAME等默认环境变量。</p>
</li>
<li><p>source命令<br>本来修改环境变量要在重启后才生效,现在强制性让配置文件直接生效</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> 配置文件</span><br><span class="line"><span class="comment"># 或者(.和配置文件中间有括号)(. 就是source的缩写)</span></span><br><span class="line">. 配置文件</span><br></pre></td></tr></table></figure></li>
<li><p>主要的环境变量配置文件:</p>
<ul>
<li>/etc/profile</li>
<li>/etc/profile.d/*.sh</li>
<li>~/.bash_profile</li>
<li>~/.bashrc</li>
<li>/etc/bashrc</li>
</ul>
</li>
</ul>
<h3 id="环境变量配置文件作用"><a href="#环境变量配置文件作用" class="headerlink" title="环境变量配置文件作用"></a>环境变量配置文件作用</h3><p>/etc/profile的作用</p>
<ul>
<li>USER变量</li>
<li>LOGNAME变量</li>
<li>MAIL变量</li>
<li>PATH变量</li>
<li>HOSTNAME变量</li>
<li>HISTSIZE变量</li>
<li>umask </li>
<li>调用/etc/profile.d/*.sh文件</li>
</ul>
<p>~/.bash_profile的作用</p>
<ul>
<li>调用了~/.bashrc文件。</li>
<li>在PATH变量后面加入了<code>:$HOME/bin</code>这个目录</li>
</ul>
<p>/etc/.bashrc的作用</p>
<ul>
<li>PS1变量</li>
<li>umask</li>
<li>PATH变量</li>
<li>调用/etc/profile.d/*.sh文件</li>
</ul>
<h3 id="其他配置文件和登录信息"><a href="#其他配置文件和登录信息" class="headerlink" title="其他配置文件和登录信息"></a>其他配置文件和登录信息</h3><ul>
<li><p><code>~/.bash_logout</code> : 注销时生效的环境变量配置文件</p>
<blockquote>
<p>就是说当用户注销时,就会执行的该文件</p>
</blockquote>
</li>
<li><p><code>~/bash_history</code> : 存放使用过的命令</p>
</li>
<li><p><code>/etc/issue</code> : 本地终端欢迎信息</p>
</li>
<li><p><code>/etc/issue.net</code> : 远程终端欢迎信息</p>
</li>
<li><p><code>/etc/motd</code> : 不管是本地登录，还是远程登录，都可以显示此欢迎信息</p>
</li>
</ul>
<h2 id="Shell中的正则表达式"><a href="#Shell中的正则表达式" class="headerlink" title="Shell中的正则表达式"></a>Shell中的正则表达式</h2><ul>
<li>shell中正则为<code>包含匹配</code> , shell中通配符是<code>完全匹配</code></li>
<li>shell中的正则是<strong>在文件中匹配字符串</strong>的 , shell中的通配符是用来<strong>匹配符合条件的文件名</strong></li>
<li>ls , find , cp 这些命令不支持正则 . 仅支持shell的通配符</li>
</ul>
<p>shell中的正则某些命令要加反斜杠</p>
<ul>
<li><p><code>\&#123;n\&#125;</code> : 前一个字符恰好出现n次</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[1][3-8][0-9]\&#123;9\&#125;</span><br><span class="line"><span class="comment"># 匹配手机号码</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>\&#123;n,\&#125;</code> </p>
</li>
<li><p><code>\&#123;n,m\&#125;</code></p>
</li>
</ul>
<h2 id="字符截取命令"><a href="#字符截取命令" class="headerlink" title="字符截取命令"></a>字符截取命令</h2><h3 id="cut字段提取命令"><a href="#cut字段提取命令" class="headerlink" title="cut字段提取命令"></a>cut字段提取命令</h3><ul>
<li><p>提取列</p>
</li>
<li><p>```bash<br>cut [选项] 文件名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 选项:</span><br><span class="line">  - -f  列号 : 提取第几列</span><br><span class="line">  - -d  分隔符 : 按照指定分隔符分割列</span><br><span class="line"></span><br><span class="line">- 示例:</span><br><span class="line"></span><br><span class="line">  ```bash</span><br><span class="line">  cut -d &quot;:&quot; -f 1,3 test.txt</span><br><span class="line">  # 分割符为: , 获取1和3列</span><br><span class="line">  </span><br><span class="line">  cat test.txt | grep 100 | grep -v hyl | cut -f 2</span><br><span class="line">  #包含100,不包含hyl , 截取第2列</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cat test.txt</span><br><span class="line"><span class="comment"># id      name    score</span></span><br><span class="line"><span class="comment"># 1       hyl     96</span></span><br><span class="line"><span class="comment"># 2       dsz     100</span></span><br><span class="line"><span class="comment"># 3       gzr     120</span></span><br><span class="line"></span><br><span class="line">$ cut -f 2 test.txt</span><br><span class="line"><span class="comment"># name</span></span><br><span class="line"><span class="comment"># hyl</span></span><br><span class="line"><span class="comment"># dsz</span></span><br><span class="line"><span class="comment"># gzr</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="printf命令"><a href="#printf命令" class="headerlink" title="printf命令"></a>printf命令</h3><ul>
<li><p>格式化输出</p>
</li>
<li><p>```bash<br>printf ‘输出类型输出格式’ 输出内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 输出类型：</span><br><span class="line"></span><br><span class="line">  - `%ns` : 输出**字符串**，n是数字指代输出几个字符</span><br><span class="line">  - `%ni` : 输出**整数**，n是数字指代输出几个数字</span><br><span class="line">  - `%m.nf` : 输出**浮点数**，m和n是数字，指代输出的整数位数和小数位数。如`%8.2f`代表共输出8位数其中2位是小数，6位是整数。</span><br><span class="line"></span><br><span class="line">- 输出格式：</span><br><span class="line"></span><br><span class="line">  - `\n` : 换行</span><br><span class="line">  - `\r`  :  回车，也就是 Enter键</span><br><span class="line">  - `\t`  :  水平输出退格键，也就是Tab键</span><br><span class="line"></span><br><span class="line">- 示例:</span><br><span class="line"></span><br><span class="line">  ```bash</span><br><span class="line">  printf %s 1 2 3 4 5 6</span><br><span class="line">  # 123456</span><br><span class="line">  </span><br><span class="line">  printf %s %s %s  1 2 3 4 5 6</span><br><span class="line">  # %s%s123456</span><br><span class="line">  </span><br><span class="line">  printf &#x27;%s %s %s&#x27;  1 2 3 4 5 6</span><br><span class="line">  # 1 2 34 5 6</span><br><span class="line">  </span><br><span class="line">  printf &#x27;%s %s %s\n&#x27;  1 2 3 4 5 6</span><br><span class="line">  # 1 2 3</span><br><span class="line">  # 4 5 6</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="awk命令"><a href="#awk命令" class="headerlink" title="awk命令"></a>awk命令</h3><ul>
<li><p>比起cut命令更加全能的截取列的命令</p>
</li>
<li><p>在awk命令的输出中支持print和printf命令</p>
<ul>
<li>print：print会在每个输出之后自动加入一个换行符（Linux默认没有print命令）</li>
<li>printf：printf是标准格式输岀命令，并不会自动加入换行符，如果需要换行，需要手工加入换行符</li>
</ul>
</li>
<li><p>```bash<br>awk ‘条件1 {动作1} 条件2 {动作2}…’ 文件名</p>
<h1 id="如果条件1符合-执行动作1-条件2符合-执行动作2"><a href="#如果条件1符合-执行动作1-条件2符合-执行动作2" class="headerlink" title="如果条件1符合,执行动作1,条件2符合,执行动作2"></a>如果条件1符合,执行动作1,条件2符合,执行动作2</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 示例:</span><br><span class="line"></span><br><span class="line">  ```bash</span><br><span class="line">  awk &#x27;&#123;printf $2 &quot;\t&quot; $6 &quot;\n&quot;&#125;&#x27; student.txt</span><br><span class="line">  # 不用条件,全部都执行</span><br><span class="line">  </span><br><span class="line">  cat student.txt | grep -v Name | awk &#x27;$6&gt;=87 &#123;printf $2 &quot;\n&quot;&#125;&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> cat test.txt</span><br><span class="line"><span class="comment"># id      name    score</span></span><br><span class="line"><span class="comment"># 1       hyl     96</span></span><br><span class="line"><span class="comment"># 2       dsz     100</span></span><br><span class="line"><span class="comment"># 3       gzr     120</span></span><br><span class="line"> </span><br><span class="line"> awk <span class="string">&#x27;&#123;printf $2 &quot;\t&quot; $3 &quot;\n&quot;&#125;&#x27;</span> test.txt</span><br><span class="line"><span class="comment"># name    score</span></span><br><span class="line"><span class="comment"># hyl     96</span></span><br><span class="line"><span class="comment"># dsz     100</span></span><br><span class="line"><span class="comment"># gzr     120</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>awk首先读入一行数据 , 然后赋值 , $2代表第二行 ,$0代表一整行 </p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">df -h</span><br><span class="line"><span class="comment"># Filesystem            Size  Used Avail Use% Mounted on</span></span><br><span class="line"><span class="comment"># C:/Program Files/Git  111G   80G   31G  73% /</span></span><br><span class="line"><span class="comment"># D:                    100G   99G  1.8G  99% /d</span></span><br><span class="line"><span class="comment"># F:                    235G  183G   53G  78% /f</span></span><br><span class="line"></span><br><span class="line">df -h | awk <span class="string">&#x27;&#123;printf $3 &quot;\n&quot;&#125;&#x27;</span></span><br><span class="line"><span class="comment"># Used</span></span><br><span class="line"><span class="comment"># 111G</span></span><br><span class="line"><span class="comment"># 99G</span></span><br><span class="line"><span class="comment"># 183G</span></span><br><span class="line"></span><br><span class="line">df -h | awk <span class="string">&#x27;&#123;print $3&#125;&#x27;</span></span><br><span class="line"><span class="comment"># Used</span></span><br><span class="line"><span class="comment"># 111G</span></span><br><span class="line"><span class="comment"># 99G</span></span><br><span class="line"><span class="comment"># 183G</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>print命令只能用于awk命令内部</p>
</blockquote>
</li>
<li><p>BEGIN : <strong>在读取数据之前</strong>先执行某些语句</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">&#x27;BEGIN&#123;print &quot;test!!&quot;&#125; &#123;print $2 &quot;\t&quot; $3&#125;&#x27;</span> test.txt</span><br><span class="line"><span class="comment"># test!!</span></span><br><span class="line"><span class="comment"># name    score</span></span><br><span class="line"><span class="comment"># hyl     96</span></span><br><span class="line"><span class="comment"># dsz     100</span></span><br><span class="line"><span class="comment"># gzr     120t</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定分隔符</span></span><br><span class="line">awk <span class="string">&#x27;&#123;FS=&quot; &quot;&#125; &#123;print $1 &quot;\t&quot; $3&#125;&#x27;</span> test.txt</span><br><span class="line"><span class="comment"># id      score</span></span><br><span class="line"><span class="comment"># 1       96</span></span><br><span class="line"><span class="comment"># 2       100</span></span><br><span class="line"><span class="comment"># 3       120</span></span><br></pre></td></tr></table></figure></li>
<li><p>awk首先读入<strong>第一行</strong>数据 , 然后赋值 , 所以我们可以使用begin</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 先扫描第一行, 然后设置分隔符</span></span><br><span class="line">awk <span class="string">&#x27;&#123;FS=&quot;:&quot;&#125; &#123;print $1 &quot;\t&quot; $2&#125;&#x27;</span> xxx.txt</span><br><span class="line"><span class="comment"># id:name:score</span></span><br><span class="line"><span class="comment"># 1       hyl</span></span><br><span class="line"><span class="comment"># 2       dsz</span></span><br><span class="line"><span class="comment"># 3       gzr</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在扫描之前就设置分隔符</span></span><br><span class="line">awk <span class="string">&#x27;BEGIN&#123;FS=&quot;:&quot;&#125; &#123;print $1 &quot;\t&quot; $2&#125;&#x27;</span> xxx.txt</span><br><span class="line"><span class="comment"># id      name</span></span><br><span class="line"><span class="comment"># 1       hyl</span></span><br><span class="line"><span class="comment"># 2       dsz</span></span><br><span class="line"><span class="comment"># 3       gzr</span></span><br></pre></td></tr></table></figure></li>
<li><p>同理 , 还有END</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">&#x27;BEGIN&#123;print &quot;test!!&quot;&#125;END &#123;printf &quot;The End \n&quot;&#125; &#123;print $2 &#125;&#x27;</span> xxx.txt</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="sed命令"><a href="#sed命令" class="headerlink" title="sed命令"></a>sed命令</h3><ul>
<li><p>sed是一种几乎包括在所有UNIX平台（包括 Linux）的轻量级<strong>流编辑器</strong>.</p>
</li>
<li><p>sed主要是用来将数据进行选取、替换、删除、新增的命令。</p>
<blockquote>
<p>简单来说 ,sed就像是vim , 但是vim只能修改文件 , 而sed可以修改命令返回的数据</p>
</blockquote>
</li>
<li><p>```bash<br>sed [选项] ‘[动作]’ 文件名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 选项:</span><br><span class="line"></span><br><span class="line">  - `-n` : **一般sed命令会把所有数据都输出到屏幕**，如果加入此选择，则只会把经过sed命令处理的行输出到屏幕。</span><br><span class="line">  - `-e` : 允许对输入数据应用多条sed命令编辑</span><br><span class="line">  - `-i` : 用sed的修改结果**直接修改读取数据的文件**，而不是由屏幕输出</span><br><span class="line"></span><br><span class="line">- 动作:</span><br><span class="line"></span><br><span class="line">  - a ：新增， a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)～</span><br><span class="line">  - c ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！</span><br><span class="line">  - d ：删除，因为是删除啊，所以 d 后面通常不接任何咚咚；</span><br><span class="line">  - i ：插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)；</span><br><span class="line">  - p ：打印，亦即将某个选择的数据印出。通常 p 会与参数 sed -n 一起运行</span><br><span class="line">  - s ：取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配正规表示法！例如 1,20s/old/new/g 就是啦！</span><br><span class="line"></span><br><span class="line">- 示例:</span><br><span class="line"></span><br><span class="line">  ```bash</span><br><span class="line">  cat xxx.txt</span><br><span class="line">  # id:name:score</span><br><span class="line">  # 1:hyl:96</span><br><span class="line">  # 2:dsz:100</span><br><span class="line">  # 3:gzr:120</span><br><span class="line">  </span><br><span class="line">  sed -n &#x27;2p&#x27; xxx.txt</span><br><span class="line">  # 1:hyl:96</span><br><span class="line">  </span><br><span class="line">  df -h</span><br><span class="line">  # Filesystem            Size  Used Avail Use% Mounted on</span><br><span class="line">  # C:/Program Files/Git  111G   80G   31G  73% /</span><br><span class="line">  # D:                    100G   99G  1.8G  99% /d</span><br><span class="line">  # F:                    235G  185G   50G  79% /f</span><br><span class="line">  </span><br><span class="line">   df -h | sed -n &#x27;2p&#x27;</span><br><span class="line">  # C:/Program Files/Git  111G   80G   31G  73% /</span><br><span class="line">  </span><br><span class="line">  sed &#x27;1,3d&#x27; xxx.txt</span><br><span class="line">  # 3:gzr:120</span><br><span class="line">  # 删除第一行到第三行的数据(并不修改文件本身)</span><br><span class="line">  </span><br><span class="line">  # 在第2行新增 ----------</span><br><span class="line">  sed &#x27;2a ----------&#x27; xxx.txt</span><br><span class="line">  # id:name:score</span><br><span class="line">  # 1:hyl:96</span><br><span class="line">  # ----------</span><br><span class="line">  # 2:dsz:100</span><br><span class="line">  # 3:gzr:120</span><br></pre></td></tr></table></figure></li>
<li><p>字符串替换:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">&#x27;s/旧字串/新字串/g&#x27;</span> 文件名</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">cat xxx.txt</span><br><span class="line">id:name:score</span><br><span class="line"><span class="comment"># 1:hyl:96</span></span><br><span class="line"><span class="comment"># 2:dsz:100</span></span><br><span class="line"><span class="comment"># 3:gzr:120</span></span><br><span class="line"></span><br><span class="line">sed <span class="string">&#x27;s/gzr/XXX/g&#x27;</span> xxx.txt</span><br><span class="line"><span class="comment"># id:name:score</span></span><br><span class="line"><span class="comment"># 1:hyl:96</span></span><br><span class="line"><span class="comment"># 2:dsz:100</span></span><br><span class="line"><span class="comment"># 3:<span class="doctag">XXX:</span>120</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 把第4行的120替换成999</span></span><br><span class="line">sed <span class="string">&#x27;4s/120/999/g&#x27;</span> xxx.txt</span><br><span class="line"><span class="comment"># id:name:score</span></span><br><span class="line"><span class="comment"># 1:hyl:96</span></span><br><span class="line"><span class="comment"># 2:dsz:100</span></span><br><span class="line"><span class="comment"># 3:gzr:999</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="字符处理命令"><a href="#字符处理命令" class="headerlink" title="字符处理命令"></a>字符处理命令</h2><p>排序命令sort</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort [选项] 文件名</span><br></pre></td></tr></table></figure>

<p>选项:</p>
<ul>
<li><code>-f</code> : 忽略大小写</li>
<li><code>-n</code> : 以数值型进行排序，默认使用字符串型排序</li>
<li><code>-r</code> : 反向排序</li>
<li><code>-t</code> : 指定分隔符，默认是分隔符是制表符</li>
<li><code>-k n[,m]</code> : 按照指定的字段范围排序。从第n字段开始，m字段结束（默认到行尾）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sort xxx.txt</span><br><span class="line"></span><br><span class="line">sort -r xxx.txt</span><br><span class="line"><span class="comment"># 反向排序</span></span><br><span class="line"></span><br><span class="line">sort -t <span class="string">&quot;:&quot;</span> -k 3,3 xxx.txt</span><br><span class="line"><span class="comment"># 指定分隔符是&quot;:&quot; , 第三字段开头,第三字段结尾排序 , 就是只用第三字段排序</span></span><br></pre></td></tr></table></figure>



<p>wc</p>
<p><strong>统计命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wc [选项] 文件名</span><br></pre></td></tr></table></figure>

<p>选项:</p>
<ul>
<li><code>-l</code> : 只统计行数</li>
<li><code>-w</code> : 只统计单词数</li>
<li><code>-m</code> : 只统计字符数</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wc xxx.txt</span><br><span class="line"><span class="comment">#  3  4 45 xxx.txt</span></span><br><span class="line"><span class="comment"># 3行 4个单词 45个字符</span></span><br><span class="line"></span><br><span class="line">wc -l xxx.txt</span><br><span class="line"><span class="comment"># 3 xxx.txt</span></span><br><span class="line"><span class="comment"># 统计行数</span></span><br></pre></td></tr></table></figure>



<h2 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h2><h3 id="单个文件的判断"><a href="#单个文件的判断" class="headerlink" title="单个文件的判断"></a>单个文件的判断</h3><ul>
<li><code>-d 文件</code> :判断该文件是否存在，并且是否为目录文件（是目录为真）</li>
<li><code>-e 文件</code> : 判断该文件是否存在（存在为真）</li>
<li><code>-f 文件</code> : 判断该文件是否存在，并且是否为普通文件（是普通文件为真）</li>
<li><code>-L 文件</code> : 判断该文件是否存在，并且是否为符号链接文件（是符号链接文件为真）</li>
<li><code>-r 文件</code> : 判断该文件是否存在，并且是否该文件拥有读权限（有读权限为真）</li>
<li><code>-w 文件</code> : 判断该文件是否存在，并且是否该文件拥有写权限（有写权限为真）</li>
<li><code>-x 文件</code> : 判断该文件是否存在，并且是否该文件拥有执行权限（有执行权限为真）</li>
</ul>
<blockquote>
<p><code>rwx</code> : 所有人,所属组,其他人三者只要有人有权限 ,即为真</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">test</span> -e xxx.txt</span><br><span class="line"></span><br><span class="line">[ -e xxx.txt ]</span><br><span class="line"><span class="comment"># 中括号左右要有空格</span></span><br></pre></td></tr></table></figure>

<p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">test</span> -e xxx.txt</span><br><span class="line"><span class="built_in">echo</span> $?</span><br><span class="line"><span class="comment"># 0</span></span><br><span class="line"><span class="comment"># 上一条命令正确 , 说明存在xxx.txt</span></span><br><span class="line"></span><br><span class="line">[ -e hyl.txt ]</span><br><span class="line"><span class="built_in">echo</span> $?</span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="comment"># 上一条命令错误 , 说明不存在hyl.txt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将两条命令合起来</span></span><br><span class="line">[ -e hyl.txt ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;yes&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="comment"># no</span></span><br></pre></td></tr></table></figure>



<h3 id="两个文件之间进行比较"><a href="#两个文件之间进行比较" class="headerlink" title="两个文件之间进行比较"></a>两个文件之间进行比较</h3><ul>
<li><code>文件1 -nt 文件2</code> : nt(new then) , 判断文件1的<strong>修改时间</strong>是否比文件2的新（如果新则为真)</li>
<li><code>文件1 -ot 文件2</code> : ot(old then) , 判断文件1的<strong>修改时间</strong>是否比文件2的旧（如果旧则为真)</li>
<li><code>文件1 -ef 文件2</code> : ef(equal file) , 判断文件1是否和文件2的inode号一致，可以理解为<strong>两个文件是否为同一个文件</strong>。这个判断用于判断硬链接是很好的方法</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ xxx.txt -ef hyl.txt ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;yes&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="comment"># no</span></span><br></pre></td></tr></table></figure>



<h3 id="两个整数之间进行比较"><a href="#两个整数之间进行比较" class="headerlink" title="两个整数之间进行比较"></a>两个整数之间进行比较</h3><ul>
<li><code>-eq</code></li>
<li><code>-ne</code></li>
<li><code>-gt</code></li>
<li><code>-lt</code></li>
<li><code>-ge</code></li>
<li><code>-le</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ 22 -gt 33 ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;yes&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="comment"># no</span></span><br></pre></td></tr></table></figure>



<h3 id="字符串的判断"><a href="#字符串的判断" class="headerlink" title="字符串的判断"></a>字符串的判断</h3><ul>
<li><code>-z 字符串</code> : 判断字符串是否为空(为空返回真)</li>
<li><code>-n 字符串</code> :  判断字符串是否为非空（非空返回真</li>
<li><code>字串1==字串2</code> :判断字符串1是否和字符串2相等</li>
<li><code>字串1!=字串2</code> : 判断字符串1是否和字符串2不相等（不相等返回真</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> name=hyl</span><br><span class="line"> </span><br><span class="line"> [ -z <span class="string">&quot;<span class="variable">$name</span>&quot;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;yes&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="comment"># no</span></span><br></pre></td></tr></table></figure>



<h3 id="多重条件判断"><a href="#多重条件判断" class="headerlink" title="多重条件判断"></a>多重条件判断</h3><ul>
<li><code>判断1 -a 判断2</code> : 与</li>
<li><code>判断1 -o 判断2</code> : 或</li>
<li><code>!判断</code> : 非</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ 22 -gt 33 -a 55 -lt 23 ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;yes&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="comment"># no</span></span><br></pre></td></tr></table></figure>





<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="if"><a href="#if" class="headerlink" title="if"></a>if</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ 条件 ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">		程序</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		程序</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line"><span class="keyword">if</span> [ 条件 ] ; <span class="keyword">then</span></span><br><span class="line">	程序</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		程序</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断分区使用率</span></span><br><span class="line">rate=$(df -h | grep <span class="string">&quot;C&quot;</span> | awk <span class="string">&#x27;&#123;print $5&#125;&#x27;</span> | cut -d <span class="string">&quot;%&quot;</span> -f1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$rate</span> -ge 80 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&#x27;warning C is full&#x27;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>



<h3 id="case"><a href="#case" class="headerlink" title="case"></a>case</h3><ul>
<li><p>case语句和if….elif….else语句一样都是多分支条件语句，</p>
</li>
<li><p>不过和if多分支条件语气不同的是，<strong>case语句只能判断一种条件关系</strong>，而i语句可以判断多种条件关系。</p>
</li>
<li><p>```bash<br>case $变量名 in</p>
<pre><code>&quot;值1&quot;)
;;

&quot;值2&quot;)
;;
*)
;;
</code></pre>
<p>esac</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 示例:</span><br><span class="line"></span><br><span class="line">  ```bash</span><br><span class="line">  read -p &quot;Pleace choose yes/no: &quot; -t 30 cho</span><br><span class="line">  case $cho in</span><br><span class="line">  	&quot;yes&quot;)</span><br><span class="line">  		echo &quot;Your choose is Yes&quot;</span><br><span class="line">  		;;</span><br><span class="line">  	&quot;no&quot;)</span><br><span class="line">  		echo &quot;Your choose is no&quot;</span><br><span class="line">  		;;</span><br><span class="line">  	*)</span><br><span class="line">  		echo &quot;Your choose is error&quot;</span><br><span class="line">  		;;</span><br><span class="line">  esac	</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><p>语法一 :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 变量 <span class="keyword">in</span> 值1 值2 值3...</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	程序</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> time <span class="keyword">in</span> moring noon afternoon evening</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;This time is <span class="variable">$time</span>&quot;</span></span><br><span class="line">	<span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 批量解压缩</span></span><br><span class="line"><span class="built_in">cd</span> /dir1</span><br><span class="line">ls *.tar.gz &gt; ls.log</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $(cat ls.log)</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">		tar -zxf <span class="variable">$i</span> &amp; &gt; /dev/null</span><br><span class="line">	<span class="keyword">done</span></span><br><span class="line">rm -rf /dir1/ls.log </span><br></pre></td></tr></table></figure>



<p>语法二 :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (( 初始值; 循环控制条件; 变量变化))</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">		程序</span><br><span class="line">	<span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s=0</span><br><span class="line"><span class="keyword">for</span> (( i=1;i&lt;=100;i=i+1 ))</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">		s=$(( <span class="variable">$s</span>+<span class="variable">$i</span> ))</span><br><span class="line">	<span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;the sum of 1+2+...+100 is : <span class="variable">$s</span>&quot;</span></span><br></pre></td></tr></table></figure>



<h3 id="while循环和until"><a href="#while循环和until" class="headerlink" title="while循环和until"></a>while循环和until</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> [ 条件判断式 ]</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">		程序</span><br><span class="line">	<span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">i=1</span><br><span class="line">s=0</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -le 100 ]</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">		s=$(( <span class="variable">$s</span>=<span class="variable">$i</span> ))</span><br><span class="line">		i=$(( <span class="variable">$i</span>+<span class="number">1</span> ))</span><br><span class="line">	<span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;the sum is : <span class="variable">$s</span>&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">i=1</span><br><span class="line">s=0</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -gt 100 ]</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">		s=$(( <span class="variable">$s</span>=<span class="variable">$i</span> ))</span><br><span class="line">		i=$(( <span class="variable">$i</span>+<span class="number">1</span> ))</span><br><span class="line">	<span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;the sum is : <span class="variable">$s</span>&quot;</span></span><br></pre></td></tr></table></figure>















</div></div></article><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>