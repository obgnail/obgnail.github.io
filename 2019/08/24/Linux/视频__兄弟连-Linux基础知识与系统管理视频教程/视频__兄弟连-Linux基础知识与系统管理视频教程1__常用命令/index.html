<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="&gt;
&lt;li&gt;&lt;p&gt;Linux没有后缀名,使用&lt;code&gt;权限&lt;/code&gt;来区分文件类型"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>兄弟连-Linux基础知识与系统管理视频教程1 | 凉薄的自动书记人偶</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Tags</a><a class="sidebar-nav-item" href="/About">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Linux/" rel="tag">Linux</a></div><div class="post-time">2019-08-24</div></div></div><div class="container post-header"><h1>兄弟连-Linux基础知识与系统管理视频教程1</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.</span> <span class="toc-text">常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.</span> <span class="toc-text">文件处理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ls"><span class="toc-number">1.1.1.</span> <span class="toc-text">ls</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cp"><span class="toc-number">1.1.2.</span> <span class="toc-text">cp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#touch"><span class="toc-number">1.1.3.</span> <span class="toc-text">touch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#more"><span class="toc-number">1.1.4.</span> <span class="toc-text">more</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less"><span class="toc-number">1.1.5.</span> <span class="toc-text">less</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ln"><span class="toc-number">1.1.6.</span> <span class="toc-text">ln</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.</span> <span class="toc-text">权限管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#chmod"><span class="toc-number">1.2.1.</span> <span class="toc-text">chmod</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chown"><span class="toc-number">1.2.2.</span> <span class="toc-text">chown</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chgrp"><span class="toc-number">1.2.3.</span> <span class="toc-text">chgrp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#umask"><span class="toc-number">1.2.4.</span> <span class="toc-text">umask</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#S-%E4%BB%A5rwx%E5%BD%A2%E5%BC%8F%E6%98%BE%E7%A4%BA%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E9%BB%98%E8%AE%A4%E6%9D%83%E9%99%90"><span class="toc-number">2.</span> <span class="toc-text">-S 以rwx形式显示新建文件默认权限</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%90%9C%E7%B4%A2%E5%91%BD%E4%BB%A4"><span class="toc-number">2.1.</span> <span class="toc-text">文件搜索命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#find"><span class="toc-number">2.1.1.</span> <span class="toc-text">find</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#locate"><span class="toc-number">2.1.2.</span> <span class="toc-text">locate</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9C%A8%E6%96%87%E4%BB%B6%E8%B5%84%E6%96%99%E5%BA%93%E4%B8%AD%E6%9F%A5%E6%89%BE"><span class="toc-number">3.</span> <span class="toc-text">在文件资料库中查找</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E6%96%87%E4%BB%B6%E8%B5%84%E6%96%99%E5%BA%93"><span class="toc-number">4.</span> <span class="toc-text">更新文件资料库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%8D%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99"><span class="toc-number">5.</span> <span class="toc-text">不区分大小写</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#whereis"><span class="toc-number">5.0.1.</span> <span class="toc-text">whereis</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ls-bin-ls-usr-share-man-man1-ls-1-gz"><span class="toc-number">6.</span> <span class="toc-text">ls: &#x2F;bin&#x2F;ls &#x2F;usr&#x2F;share&#x2F;man&#x2F;man1&#x2F;ls.1.gz</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4"><span class="toc-number">6.1.</span> <span class="toc-text">帮助命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#man"><span class="toc-number">6.1.1.</span> <span class="toc-text">man</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bls%E5%91%BD%E4%BB%A4%E7%9A%84%E5%B8%AE%E5%8A%A9%E4%BF%A1%E6%81%AF"><span class="toc-number">7.</span> <span class="toc-text">查看ls命令的帮助信息</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6services%E7%9A%84%E5%B8%AE%E5%8A%A9%E4%BF%A1%E6%81%AF"><span class="toc-number">8.</span> <span class="toc-text">查看配置文件services的帮助信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#whatis"><span class="toc-number">8.0.1.</span> <span class="toc-text">whatis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#apropos"><span class="toc-number">8.0.2.</span> <span class="toc-text">apropos</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#help"><span class="toc-number">8.0.3.</span> <span class="toc-text">help</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">8.1.</span> <span class="toc-text">用户管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#useradd"><span class="toc-number">8.1.1.</span> <span class="toc-text">useradd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#passwd"><span class="toc-number">8.1.2.</span> <span class="toc-text">passwd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#who"><span class="toc-number">8.1.3.</span> <span class="toc-text">who</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#w"><span class="toc-number">8.1.4.</span> <span class="toc-text">w</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9%E5%92%8C%E8%A7%A3%E5%8E%8B%E5%91%BD%E4%BB%A4"><span class="toc-number">8.2.</span> <span class="toc-text">压缩和解压命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#gzip"><span class="toc-number">8.2.1.</span> <span class="toc-text">gzip</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tar"><span class="toc-number">8.2.2.</span> <span class="toc-text">tar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#zip"><span class="toc-number">8.2.3.</span> <span class="toc-text">zip</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bzip2"><span class="toc-number">8.2.4.</span> <span class="toc-text">bzip2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">8.3.</span> <span class="toc-text">网络命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#write"><span class="toc-number">8.3.1.</span> <span class="toc-text">write</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#wall"><span class="toc-number">8.3.2.</span> <span class="toc-text">wall</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ping"><span class="toc-number">8.3.3.</span> <span class="toc-text">ping</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ifconfig"><span class="toc-number">8.3.4.</span> <span class="toc-text">ifconfig</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E4%BF%A1%E6%81%AF"><span class="toc-number">9.</span> <span class="toc-text">查看信息</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%BF%A1%E6%81%AF"><span class="toc-number">10.</span> <span class="toc-text">设置信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#last"><span class="toc-number">10.0.1.</span> <span class="toc-text">last</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lastlog"><span class="toc-number">10.0.2.</span> <span class="toc-text">lastlog</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#traceroute"><span class="toc-number">10.0.3.</span> <span class="toc-text">traceroute</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setup"><span class="toc-number">10.0.4.</span> <span class="toc-text">setup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mount"><span class="toc-number">10.0.5.</span> <span class="toc-text">mount</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E6%9C%BA%E9%87%8D%E5%90%AF%E5%91%BD%E4%BB%A4"><span class="toc-number">10.1.</span> <span class="toc-text">关机重启命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#shutdown"><span class="toc-number">10.1.1.</span> <span class="toc-text">shutdown</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#halt-poweroff-init-0"><span class="toc-number">10.1.2.</span> <span class="toc-text">halt&#x2F;poweroff&#x2F;init 0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reboot-init-6"><span class="toc-number">10.1.3.</span> <span class="toc-text">reboot&#x2F;init 6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#logout"><span class="toc-number">10.1.4.</span> <span class="toc-text">logout</span></a></li></ol></li></ol></li></ol></details></div><div class="container post-content"><ul>
<li><p>Linux没有后缀名,使用<code>权限</code>来区分文件类型</p>
</li>
<li><p>LInux所有的存储设备都必须挂载之后用户才能使用,包括硬盘,U盘和光盘</p>
<blockquote>
<ul>
<li>没有硬件都有名称,成为设备文件名</li>
<li>挂载点可以当成是win的盘符来理解</li>
<li>把设备文件名和挂载点连接起来的过程就称为<code>挂载</code></li>
</ul>
</blockquote>
</li>
<li><p>单用户模式 : 类似于win的安全模式,启用最少的服务,主要用于修复</p>
</li>
</ul>
<h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><h2 id="文件处理命令"><a href="#文件处理命令" class="headerlink" title="文件处理命令"></a>文件处理命令</h2><h3 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ls -la</span><br><span class="line"><span class="comment"># total 32</span></span><br><span class="line"><span class="comment"># -rw-------  1 root root  823 Mar 13  2017 anaconda-ks.cfg</span></span><br><span class="line"><span class="comment"># drwxr-xr-x  3 root root 4096 Aug 23 14:46 blog</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>drwxr-xr-x : 拆分成<code>d</code>,<code>rwx</code>,<code>r-x</code>,<code>r-x</code></p>
<blockquote>
<ul>
<li><code>d</code>表示目录,<code>-</code>表示文件,<code>l</code>表示软链接</li>
<li>三个分为所有者 ,所属组,其他人的权限</li>
<li><code>rwx</code> 表示 <code>读</code>,<code>写</code>,<code>执行</code>的权限(read,write,execute)</li>
</ul>
</blockquote>
<blockquote>
<p>为什么所有者会可能没有执行权限?</p>
<p>对文件来讲<code>执行权限</code>是最高权限,遵循<strong>权限最小化</strong>,对于日志文件就没有必要有执行权限</p>
</blockquote>
</li>
<li><p>1 代表文件的引用计数</p>
</li>
<li><p>root root : 分别代表<code>所有者</code>,<code>所属组</code></p>
<blockquote>
<p>用户和文件的关系</p>
<ul>
<li><code>所有者(U)</code> : 一般来说谁创建文件,那个用户就是文件的所有者,当然所有者是可以改变的,但是所有者<strong>只能有一个</strong></li>
<li><code>所属组(G)</code>  : 代表一个用户集合,所有者赋予权限让这些人能使用这个文件</li>
<li><code>其他人(O)</code> : 不属于上面的两个的都是其他人</li>
</ul>
</blockquote>
</li>
<li><p> 823 : 文件大小,单位字节</p>
</li>
</ul>
<blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ls -lh</span><br><span class="line"><span class="comment"># total 92K</span></span><br><span class="line"><span class="comment"># dr-xr-x---.  7 root root 4.0K Aug 23 15:43 .</span></span><br><span class="line"><span class="comment"># drwxr-xr-x  22 root root 4.0K Jun 17 07:02 ..</span></span><br><span class="line"><span class="comment"># -rw-------   1 root root  823 Mar 13  2017 anaconda-ks.cfg</span></span><br></pre></td></tr></table></figure>

<p>h代表human ,以人类(人性化)方式显示</p>
</blockquote>
<ul>
<li><p>Mar 13  2017 : 文件<code>修改时间</code></p>
<blockquote>
<p>linux没有<code>文件创建时间</code>,有:</p>
<ul>
<li>文件的最后一次访问时间</li>
<li>文件的状态修改时间</li>
<li>文件的数据修改时间</li>
</ul>
</blockquote>
</li>
<li><p>anaconda-ks.cfg : 文件名</p>
</li>
</ul>
<ol>
<li>使用<code>ls -i</code>的i参数来查看文件的id , i就是id</li>
<li>使用<code>ls -d</code>的d参数来查看目录本身 , d就是directory </li>
</ol>
<h3 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h3><ul>
<li>cp的本质就是创建文件,因此就会修改文件属性,如果想保留文件属性,可以使用<code>-p</code></li>
<li>cp默认复制文件,如果想复制目录,要使用<code>-r</code><br>(联想rm命令的<code>-r</code>表示目录)</li>
</ul>
<h3 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h3><p>文件名,目录名如果要使用空格,必须使用引号引起来:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch <span class="string">&quot;program files&quot;</span></span><br></pre></td></tr></table></figure>



<h3 id="more"><a href="#more" class="headerlink" title="more"></a>more</h3><p>查看文件</p>
<ul>
<li>空格 或者 f : 翻页</li>
<li>回车 : 一行一行的显示</li>
<li>q : 退出</li>
</ul>
<h3 id="less"><a href="#less" class="headerlink" title="less"></a>less</h3><p>查看文件</p>
<blockquote>
<p>类似于more,但是比more更高级 , </p>
<ul>
<li>支持往前翻页 : pgUp</li>
<li>支持搜索 : <code>/ + 关键词</code>,<code>n</code>向下查找</li>
</ul>
</blockquote>
<h3 id="ln"><a href="#ln" class="headerlink" title="ln"></a>ln</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建文件issue 的软连接 /tmp/issue.soft</span></span><br><span class="line">ln -s /etc/issue /tmp/issue.soft</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建文件issue 的硬链接 /tmp/issue.hard</span></span><br><span class="line">ln /etc/issue /tmp/issue.hard</span><br></pre></td></tr></table></figure>

<p>软硬连接的结果:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 硬链接(注意计数引用的数量为2)</span></span><br><span class="line">-rw-r--r-- 2 root root 0 Aug 24 02:57 hard</span><br><span class="line"></span><br><span class="line"><span class="comment"># 软连接</span></span><br><span class="line">lrwxrwxrwx 1 root root 7 Aug 24 03:43 soft -&gt; 123.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 源文件(注意计数引用的数量为2)</span></span><br><span class="line">-rw-r--r-- 2 root root 0 Aug 24 02:57 123.txt</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>软连接就像win里的快捷方式</strong></p>
</li>
<li><p>所有人对于软连接都有全部的权限</p>
<blockquote>
<p>原因很简单,这就是一个快捷方式而已,并不能决定源文件的操作权限</p>
</blockquote>
</li>
<li><p>硬链接 , 除了文件的位置不一样,其他的属性,数据全部和源文件一致</p>
<blockquote>
<ul>
<li>硬链接可以同步更新</li>
<li>硬链接的<code>cp -p</code>的关系有点类似于python里的对复制对象copy和deepcopy的操作<ol>
<li>硬链接和源文件指向同一份文件id</li>
<li><code>cp -p</code>指向的文件id不一样</li>
</ol>
</li>
<li>linux的文件管理也是<code>计数引用</code>,所有对于一个文件A有软连接B和硬链接C,如果A删除,B肯定不能用,但是C是可以用的,因为还有C这一个计数引用 </li>
</ul>
</blockquote>
</li>
<li><p>硬链接不可以跨分区</p>
</li>
<li><p>硬链接不可以用户目录</p>
</li>
<li><p>硬链接其实用的很少</p>
</li>
</ul>
<h2 id="权限管理命令"><a href="#权限管理命令" class="headerlink" title="权限管理命令"></a>权限管理命令</h2><h3 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h3><ul>
<li>change the permissions mode of a file</li>
<li>只有两个人可以更改权限 : <code>root</code>, <code>文件所有者</code></li>
<li>ugoa : 所有者,用户组,其他人,所有人</li>
<li>+-= : <code>增加</code>权限,<code>减少</code>权限,<code>设置</code>权限(不管你之前是什么权限,现在把你设置为这个权限)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ls -l</span><br><span class="line"><span class="comment"># -rw-r--r-- 1 root root 0 Aug 24 02:57 123.txt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 增加权限(给所有者添加执行的权限)</span></span><br><span class="line">chmod u+x 123.txt</span><br><span class="line"><span class="comment"># -rwxr--r-- 1 root root 0 Aug 24 02:57 123.txt</span></span><br><span class="line"></span><br><span class="line">chmod g+w,o-r 123.txt</span><br><span class="line"><span class="comment"># -rwxrw---- 1 root root 0 Aug 24 02:57 123.txt</span></span><br><span class="line"></span><br><span class="line">chmod g=rwx 123.txt</span><br><span class="line"><span class="comment"># -rwxrwx--- 1 root root 0 Aug 24 02:57 123.txt</span></span><br></pre></td></tr></table></figure>



<p>权限的数字表示:</p>
<ul>
<li>r : 4</li>
<li>w : 2</li>
<li>x : 1</li>
</ul>
<p>所以:<code>rwxrw-r--</code> 就是7 6 4</p>
<p>chmod使用权限数字:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 640 123.txt</span><br><span class="line"><span class="comment"># -rw-r----- 1 root root 0 Aug 24 02:57 123.txt</span></span><br></pre></td></tr></table></figure>



<p><code>-R</code>递归修改目录权限(目录下所有文件的权限都会被修改)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod -R 666 dir1/</span><br></pre></td></tr></table></figure>



<p>文件目录权限总结:</p>
<table>
<thead>
<tr>
<th>代表字符</th>
<th>权限</th>
<th>对文件的含义</th>
<th>对目录的含义</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>读权限</td>
<td>可以查看文件内容(cat/more/less/tail)</td>
<td>可以列出目录中的内容(ls)</td>
</tr>
<tr>
<td>w</td>
<td>写权限</td>
<td>可以修改文件内容(vim)</td>
<td>可以在目录中创建,删除文件(touch/rmdir/rm)</td>
</tr>
<tr>
<td>x</td>
<td>执行权限</td>
<td>可以执行文件</td>
<td>可以进入目录(cd)</td>
</tr>
</tbody></table>
<blockquote>
<p>例如:</p>
<ul>
<li><p>一个目录dir1下有一个文件file1,dir1的权限是<code>rwxrwxrwx</code>,file1的权限是<code>-rw-r--r--</code></p>
</li>
<li><p>其他人的权限其实是可以删除file1这个文件的</p>
</li>
</ul>
<ol>
<li>也就是说,能否删除文件并不是该文件的写权限决定的(文件写权限决定的是vim),而是由该文件的目录的写权限决定的</li>
<li>同理,对于一个目录来说,rx权限是同时出现的.原因很简单,你不可以可以进去却不能列出内容,或者能列出内容但是进不去目录</li>
</ol>
</blockquote>
<h3 id="chown"><a href="#chown" class="headerlink" title="chown"></a>chown</h3><ul>
<li><p>change file ownership : 修改文件的所有者</p>
</li>
<li><p><strong>只有管理员root才能使用</strong></p>
</li>
<li><p>```bash<br>chown[用户] [文件或目录]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 示例:</span><br><span class="line"></span><br><span class="line">  ```bash</span><br><span class="line">  useradd heyingliang</span><br><span class="line">  chown heyingliang file1</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="chgrp"><a href="#chgrp" class="headerlink" title="chgrp"></a>chgrp</h3><ul>
<li><p>change file group ownership : 修改文件的所有组</p>
</li>
<li><p>```bash<br>chgrp [用户组] [文件或目录]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 示例:</span><br><span class="line"></span><br><span class="line">  ```bash</span><br><span class="line">  groupadd brother</span><br><span class="line">  # 修改文件file1的所属组为brother</span><br><span class="line">  chgrp brother file1</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="umask"><a href="#umask" class="headerlink" title="umask"></a>umask</h3><ul>
<li><p>the user file-creation mask : 显示,设置文件的默认权限</p>
</li>
<li><p>每个用户都会有一个<code>默认组</code>,就是文件在创建的时候默认分配的用户组</p>
</li>
<li><p>```bash<br>umask [-S]</p>
<h1 id="S-以rwx形式显示新建文件默认权限"><a href="#S-以rwx形式显示新建文件默认权限" class="headerlink" title="-S 以rwx形式显示新建文件默认权限"></a>-S 以rwx形式显示新建文件默认权限</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 示例:</span><br><span class="line"></span><br><span class="line">  ```bash</span><br><span class="line">   umask -S</span><br><span class="line">  # u=rwx,g=rx,o=rx</span><br><span class="line">  </span><br><span class="line">  mkdir dir2</span><br><span class="line">  # drwxr-xr-x 2 root root 4096 Aug 24 06:48 dir2</span><br><span class="line">  </span><br><span class="line">  touch file2</span><br><span class="line">  # -rw-r--r-- 1 root root    0 Aug 24 06:49 file2</span><br></pre></td></tr></table></figure>

<blockquote>
<p>发现</p>
<ul>
<li>目录的权限是rwxr-xr-x</li>
<li>文件的权限是rw-r–r–</li>
</ul>
<p>原因 : <strong>默认新建的文件都不能拥有可执行权限</strong></p>
</blockquote>
</li>
<li><p>umask的显示形式是 : 和rwxrwxrwx进行<code>逻辑与</code>运算</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">umask</span></span><br><span class="line"><span class="comment"># 0022</span></span><br></pre></td></tr></table></figure>

<blockquote>
<ol>
<li>第一个0代表特殊权限,暂时不管.</li>
<li>022就是代表了所有者,所属组,其他人的权限</li>
<li>022 即为 <code>--- -w- -w-</code></li>
<li><code>--- -w- -w-</code>和<code>rwx rwx rwx</code>进行相与,得出<code>rwx r-x r-x</code></li>
<li>所以最终权限就是<code>rwx r-x r-x</code></li>
</ol>
</blockquote>
</li>
<li><p>更改默认权限:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">umask</span> 077</span><br><span class="line"></span><br><span class="line">touch file3</span><br><span class="line">mkdir dir3</span><br><span class="line">ls -l</span><br><span class="line"><span class="comment"># -rw------ 1 root root    0 Aug 24 06:49 file3</span></span><br><span class="line"><span class="comment"># drwx------ 2 root root    0 Aug 24 06:52 dir3</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="文件搜索命令"><a href="#文件搜索命令" class="headerlink" title="文件搜索命令"></a>文件搜索命令</h2><h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><ul>
<li><p>```bash<br>find [搜索范围] [匹配条件]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 示例:</span><br><span class="line"></span><br><span class="line">  - `-name` : 根据文件名</span><br><span class="line">  - `-iname` : 不区分大小写</span><br><span class="line">  - `-size` : 根据大小</span><br><span class="line">  - `-user` : 根据所有者查找</span><br><span class="line">  - `-amin` : 根据文件访问时间(access)</span><br><span class="line">  - `-cmin` : 根据文件属性修改时间(change)</span><br><span class="line">  - `-mmin` : 根据文件内容修改时间(modify)</span><br><span class="line">  - `-a` : 两个条件同时满足</span><br><span class="line">  - `-o` 两个条件满意其一</span><br><span class="line">  - `-type` : 根据文件类型查找</span><br><span class="line">  - `-inum` : 根据i节点查找</span><br><span class="line">  - `-exec` : 查找后执行命令</span><br><span class="line"></span><br><span class="line">  ```bash</span><br><span class="line">  # 根据文件名搜索 : 在tmp文件夹根据名字查找dir1</span><br><span class="line">  find /tmp -name dir1</span><br><span class="line">  # /tmp/dir1</span><br><span class="line">  </span><br><span class="line">  # find是全字匹配,必须精准匹配文件名</span><br><span class="line">  find /tmp -name dir</span><br><span class="line">  # 无返回</span><br><span class="line">  </span><br><span class="line">  # 否则必须使用通配符</span><br><span class="line">  find /tmp -name dir*</span><br><span class="line">  </span><br><span class="line">  # 不区分大小写</span><br><span class="line">  find /tmp -iname dir2</span><br><span class="line">  </span><br><span class="line">  # 根据大小查找 : 查找大于100MB的文件 (+n大于,-n小于,n等于)</span><br><span class="line">  find /tmp -size +204800</span><br><span class="line">  </span><br><span class="line">  # 根据所有者查找</span><br><span class="line">  find /tmp -user root</span><br><span class="line">  </span><br><span class="line">  # 查找100分钟内被修改过属性的文件(+就是查找修改时间超过100分钟)</span><br><span class="line">  find /tmp -cmin -100</span><br><span class="line">  </span><br><span class="line">  # 查找文件大小小于1000并且所有人为root的文件</span><br><span class="line">  find /tmp -size -1000 -a -user root</span><br><span class="line">  </span><br><span class="line">  # 查找文件类型为file的文件(d就是目录,l就是软连接)</span><br><span class="line">  find /tmp -type f</span><br><span class="line">  </span><br><span class="line">  # 查找目录 , 然后将查找结果执行ls -l</span><br><span class="line">  find /tmp -type d -exec ls -l &#123;&#125; \;</span><br><span class="line">  </span><br><span class="line">  # 查找id为31531的文件 , 然后将其删除</span><br><span class="line">  find /tmp -inum 31531 -exec rm &#123;&#125; \ ;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意按文件大小查找的时候:</p>
<ul>
<li><p>linux使用数据库来表示,一个数据块0.5K(512字节)</p>
</li>
<li><p>所以100MB = 102400KB = 204800</p>
</li>
<li><p>所以最终结果为:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /tmp -size 204800</span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h3><ul>
<li><p>在<code>文件资料库</code>中查找文件</p>
</li>
<li><p>功能有点像MySQL里的创建一个文件资料库,然后在文件资料库里查找</p>
</li>
<li><p>```bash</p>
<h1 id="在文件资料库中查找"><a href="#在文件资料库中查找" class="headerlink" title="在文件资料库中查找"></a>在文件资料库中查找</h1><p>locate file1</p>
<h1 id="更新文件资料库"><a href="#更新文件资料库" class="headerlink" title="更新文件资料库"></a>更新文件资料库</h1><p>updatedb</p>
<h1 id="不区分大小写"><a href="#不区分大小写" class="headerlink" title="不区分大小写"></a>不区分大小写</h1><p>locate -i file1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">### which</span><br><span class="line"></span><br><span class="line">- 功能 : 搜索**命令**所在目录以及别名信息</span><br><span class="line"></span><br><span class="line">- ```bash</span><br><span class="line">  which ls</span><br><span class="line">  # alias ls=&#x27;ls --color=auto&#x27;</span><br><span class="line">  # 	/bin/ls</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="whereis"><a href="#whereis" class="headerlink" title="whereis"></a>whereis</h3><ul>
<li><p>功能 : 搜索<strong>命令</strong>所在目录以及帮助文档路径</p>
</li>
<li><p>```bash<br>whereis ls</p>
<h1 id="ls-bin-ls-usr-share-man-man1-ls-1-gz"><a href="#ls-bin-ls-usr-share-man-man1-ls-1-gz" class="headerlink" title="ls: /bin/ls /usr/share/man/man1/ls.1.gz"></a>ls: /bin/ls /usr/share/man/man1/ls.1.gz</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">### grep</span><br><span class="line"></span><br><span class="line">- 功能 : 在文件中搜索字符串匹配的行并输出</span><br><span class="line"></span><br><span class="line">  &gt; 简单来说 , 文件有好多行 , 现在只想找到包含特定字符串的行</span><br><span class="line"></span><br><span class="line">- ```bash</span><br><span class="line">  grep -iv [指定字串] [文件]</span><br></pre></td></tr></table></figure></li>
<li><p>参数 :</p>
<ul>
<li><code>-i</code> : 不区分大小写</li>
<li><code>-v</code> : 排除指定字符串</li>
</ul>
</li>
<li><p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在requirements.txt中查找包含aio的行</span></span><br><span class="line">grep aio requirements.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 排除开头为# 的行(也就是注释行)</span></span><br><span class="line">grep -v ^<span class="comment"># main.py</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h2><h3 id="man"><a href="#man" class="headerlink" title="man"></a>man</h3><ul>
<li><p>manual</p>
</li>
<li><p>```bash</p>
<h1 id="查看ls命令的帮助信息"><a href="#查看ls命令的帮助信息" class="headerlink" title="查看ls命令的帮助信息"></a>查看ls命令的帮助信息</h1><p>man ls</p>
<h1 id="查看配置文件services的帮助信息"><a href="#查看配置文件services的帮助信息" class="headerlink" title="查看配置文件services的帮助信息"></a>查看配置文件services的帮助信息</h1><p>man services</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- manual既可以查看命令,也可以查看服务 , 如果字符同时是命令和配置文件,那么就会首先查看命令的帮助文档</span><br><span class="line"></span><br><span class="line">  ```bash</span><br><span class="line">  manual passwd</span><br></pre></td></tr></table></figure>

<blockquote>
<p>我们使用数字来区分字符和配置文件.</p>
<p>命令为1</p>
<p>配置文件为5</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看命令的passwd文档</span></span><br><span class="line">manual 1 passwd </span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看配置文件passwd</span></span><br><span class="line">manual 5 passwd</span><br></pre></td></tr></table></figure></blockquote>
</li>
</ul>
<h3 id="whatis"><a href="#whatis" class="headerlink" title="whatis"></a>whatis</h3><p>查看命令的简短信息:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">whatis  ifconfig</span><br><span class="line"><span class="comment"># ifconfig             (8)     - configure a network interface</span></span><br></pre></td></tr></table></figure>



<h3 id="apropos"><a href="#apropos" class="headerlink" title="apropos"></a>apropos</h3><p>查看配置文件的简短信息:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apropos inittab</span><br></pre></td></tr></table></figure>



<h3 id="help"><a href="#help" class="headerlink" title="help"></a>help</h3><p>显示命令常用的选项</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls --<span class="built_in">help</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看帮助信息</span></span><br><span class="line"><span class="built_in">help</span> <span class="built_in">umask</span></span><br></pre></td></tr></table></figure>



<h2 id="用户管理命令"><a href="#用户管理命令" class="headerlink" title="用户管理命令"></a>用户管理命令</h2><h3 id="useradd"><a href="#useradd" class="headerlink" title="useradd"></a>useradd</h3><p>添加用户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd heyingliang</span><br></pre></td></tr></table></figure>



<h3 id="passwd"><a href="#passwd" class="headerlink" title="passwd"></a>passwd</h3><p>更改用户密码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd heyingliang</span><br></pre></td></tr></table></figure>



<h3 id="who"><a href="#who" class="headerlink" title="who"></a>who</h3><p>查看登录用户信息</p>
<ul>
<li>root : 登录用户名</li>
<li>pts : 登录的终端</li>
<li>0 : 远程登录的终端号</li>
<li>2019-08-24 08:00  : 登录的时间</li>
<li>211.97.3.242 : 登录的主机IP地址</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">who</span><br><span class="line"><span class="comment"># root     pts/0        2019-08-24 08:00 (211.97.3.242)</span></span><br><span class="line"><span class="comment"># blog_user pts/1        2019-08-24 08:44 (211.97.3.242)</span></span><br><span class="line"><span class="comment"># root     pts/2        2019-08-24 06:36 (211.97.3.242)</span></span><br><span class="line"><span class="comment"># root     pts/3        2019-08-24 06:37 (211.97.3.242)</span></span><br></pre></td></tr></table></figure>



<h3 id="w"><a href="#w" class="headerlink" title="w"></a>w</h3><p>关于用户更多的信息:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> w</span><br><span class="line"><span class="comment"># 08:51:59 up 68 days,  1:49,  4 users,  load average: 0.00, 0.00, 0.00</span></span><br><span class="line"><span class="comment"># USER     TTY      FROM              LOGIN@   IDLE   JCPU   PCPU WHAT</span></span><br><span class="line"><span class="comment"># root     pts/0    211.97.3.242     08:00    1.00s  0.01s  0.00s w</span></span><br><span class="line"><span class="comment"># blog_use pts/1    211.97.3.242     08:44    6:47   0.01s  0.01s -bash</span></span><br><span class="line"><span class="comment"># root     pts/2    211.97.3.242     06:36   55:18   0.07s  0.07s -bash</span></span><br><span class="line"><span class="comment"># root     pts/3    211.97.3.242     06:37   59:18   0.01s  0.01s -bash</span></span><br></pre></td></tr></table></figure>



<h2 id="压缩和解压命令"><a href="#压缩和解压命令" class="headerlink" title="压缩和解压命令"></a>压缩和解压命令</h2><h3 id="gzip"><a href="#gzip" class="headerlink" title="gzip"></a>gzip</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 压缩</span></span><br><span class="line">gzip file1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解压</span></span><br><span class="line">gunzip file1</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">gzip file1 -d</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>gzip只能压缩文件</strong></li>
<li>gzip压缩不保留源文件</li>
</ul>
<h3 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h3><p>打包目录</p>
<ul>
<li><code>c</code> : create,表示打包</li>
<li><code>v</code> : 显示详细信息</li>
<li><code>f</code> : 指定文件名</li>
<li><code>z</code> : 打包的同时进行压缩</li>
<li><code>-x</code> : 解包</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将dir1目录打包成dir.tar</span></span><br><span class="line">tar -cvf dir.tar dir1</span><br><span class="line"><span class="comment"># (因为有-v,显示打包了哪些文件)</span></span><br><span class="line"><span class="comment"># dir1/</span></span><br><span class="line"><span class="comment"># dir1/file1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将dir.tar文件压缩</span></span><br><span class="line"><span class="comment"># 这样就形成了最常见的源代码安装包dir.tar.gz</span></span><br><span class="line">gzip dir.tar</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将dir1打包并压缩成dir.tar.gz</span></span><br><span class="line"><span class="comment"># 使用这种方式就能快速创建一个压缩包(并且保留源文件)</span></span><br><span class="line">tar -zcf dir.tar.gz dir1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解压并拆包</span></span><br><span class="line">tar -zxf dir.tar.gz</span><br></pre></td></tr></table></figure>



<h3 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h3><p>压缩文件或目录</p>
<ul>
<li>保留源文件</li>
<li>支持压缩目录</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将文件file1压缩成file.zip</span></span><br><span class="line">zip file.zip file1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将目录dir1压缩成dir.zip</span></span><br><span class="line">zip -r dir.zip dir1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解压</span></span><br><span class="line">unzip file.zip</span><br></pre></td></tr></table></figure>



<h3 id="bzip2"><a href="#bzip2" class="headerlink" title="bzip2"></a>bzip2</h3><ul>
<li>是gzip的升级版</li>
<li>还是只支持压缩文件</li>
<li><code>-k</code> : 添加该选项后保留源文件</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 压缩</span></span><br><span class="line">bzip2 file2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 压缩后保留源文件</span></span><br><span class="line">bzip2 -k file2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解压</span></span><br><span class="line">bunzip2 file2.bz2</span><br><span class="line"><span class="comment"># 保留源文件</span></span><br><span class="line">bunzip2 -k file2.bz2</span><br></pre></td></tr></table></figure>

<p>bzip2配合tar : 将<code>z</code> 改为 <code>j</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar配合gzip压缩</span></span><br><span class="line">tar -czf dir.tar.gz dir1</span><br><span class="line"></span><br><span class="line"><span class="comment"># tar配合bzip2压缩</span></span><br><span class="line">tar -cjf dir.tar.bz2 dir1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解压</span></span><br><span class="line">tar -czf dir.tar.gz</span><br><span class="line"><span class="comment"># 解压</span></span><br><span class="line">tar -cjf dir.tar.bz2</span><br></pre></td></tr></table></figure>



<h2 id="网络命令"><a href="#网络命令" class="headerlink" title="网络命令"></a>网络命令</h2><h3 id="write"><a href="#write" class="headerlink" title="write"></a>write</h3><p>功能 : 给用户发信息,以Ctrl + D 保存结束</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">write heyingliang</span><br></pre></td></tr></table></figure>



<h3 id="wall"><a href="#wall" class="headerlink" title="wall"></a>wall</h3><ul>
<li>write all : 发送广播信息</li>
<li>自己也会收到这个广播信息 </li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wall 123789</span><br></pre></td></tr></table></figure>



<h3 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h3><p>功能 : 测试网络连通性</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ping 192.168.1.156</span><br><span class="line"></span><br><span class="line"><span class="comment"># 只测试3次</span></span><br><span class="line">ping -c 3 190.116.1.136</span><br></pre></td></tr></table></figure>



<h3 id="ifconfig"><a href="#ifconfig" class="headerlink" title="ifconfig"></a>ifconfig</h3><ul>
<li><p>interface configure</p>
</li>
<li><p>查看和设置网卡信息</p>
</li>
<li><p>```bash</p>
<h1 id="查看信息"><a href="#查看信息" class="headerlink" title="查看信息"></a>查看信息</h1><p>ifconfig</p>
<h1 id="设置信息"><a href="#设置信息" class="headerlink" title="设置信息"></a>设置信息</h1><p>ifconfig eth0 192.168.8.250</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  &gt; eth0 : 代表本地的真实网卡</span><br><span class="line">  &gt;</span><br><span class="line">  &gt; loop : 本地回环</span><br><span class="line"></span><br><span class="line">- 返回信息:</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>eth0      Link encap:Ethernet  HWaddr F2:3C:91:02:9F:CC  </p>
<pre><code>      inet addr:139.162.112.233  Bcast:139.162.112.255  Mask:255.255.255.0
      inet6 addr: 2400:8902::f03c:91ff:fe02:9fcc/64 Scope:Global
      inet6 addr: fe80::f03c:91ff:fe02:9fcc/64 Scope:Link
      UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
      RX packets:40528496 errors:0 dropped:0 overruns:0 frame:0
      TX packets:25789726 errors:0 dropped:0 overruns:0 carrier:0
      collisions:0 txqueuelen:1000 
      RX bytes:28930421737 (26.9 GiB)  TX bytes:29062325006 (27.0 GiB)
</code></pre>
<p>lo        Link encap:Local Loopback  </p>
<pre><code>      inet addr:127.0.0.1  Mask:255.0.0.0
      inet6 addr: ::1/128 Scope:Host
      UP LOOPBACK RUNNING  MTU:65536  Metric:1
      RX packets:3287 errors:0 dropped:0 overruns:0 frame:0
      TX packets:3287 errors:0 dropped:0 overruns:0 carrier:0
      collisions:0 txqueuelen:1000 
      RX bytes:1029216 (1005.0 KiB)  TX bytes:1029216 (1005.0 KiB)
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  &gt; - Ethernet : 以太网</span><br><span class="line">  &gt; - HWaddr F2:3C:91:02:9F:CC  : 网卡硬件地址</span><br><span class="line">  &gt; - inet addr:139.162.112.233 : 当前IP </span><br><span class="line">  &gt; - Bcast:139.162.112.255 : 网络广播地址</span><br><span class="line">  &gt; - Mask:255.255.255.0 : 子网掩码</span><br><span class="line">  &gt; - inet6 addr: 2400:8902::f03c:91ff:fe02:9fcc/64 Scope:Global : IPV6地址信息</span><br><span class="line">  &gt; - UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1 : 网络附加信息</span><br><span class="line">  &gt; - RX packets:40528496 errors:0 dropped:0 overruns:0 frame:0 : 接收到的数据包的数量和丢包等等信息</span><br><span class="line">  &gt; - TX packets:25789726 errors:0 dropped:0 overruns:0 carrier:0 : 发送的数据包额度数量和丢包等等信息</span><br><span class="line">  &gt; - RX bytes:28930421737 (26.9 GiB) : 接受的数据包的总大小</span><br><span class="line">  &gt; - TX bytes:29062325006 (27.0 GiB) : 发送的数据包的总大小</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### mail</span><br><span class="line"></span><br><span class="line">- 查看发送电子邮件</span><br><span class="line"></span><br><span class="line">- 就像是真实的邮件一样,write只能在对方在线的时候发生,mail不管对方在不在线都可以</span><br><span class="line"></span><br><span class="line">- mail 一般是用于系统发送给root对象的,这样就可以知道系统出现的问题</span><br><span class="line"></span><br><span class="line">- ctrl +D 保存发送</span><br><span class="line"></span><br><span class="line">- ```bash</span><br><span class="line">  # 发送邮件</span><br><span class="line">  mail [用户名]</span><br><span class="line">  </span><br><span class="line">  # 查看邮箱情况</span><br><span class="line">  mail</span><br><span class="line">  </span><br><span class="line">  # 查看邮箱情况之后 , 输入右键编码即可查看邮件内容</span><br><span class="line">  1</span><br><span class="line">  </span><br><span class="line">  # 然后h就可以返回邮箱情况</span><br><span class="line">  h</span><br><span class="line">  </span><br><span class="line">  # 删除编号为1的邮件</span><br><span class="line">  d 1</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="last"><a href="#last" class="headerlink" title="last"></a>last</h3><ul>
<li><p>列出过去登入系统的用户信息</p>
</li>
<li><p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">last</span><br><span class="line"><span class="comment"># blog_use pts/1        211.97.3.242     Sat Aug 24 09:51   still logged in   </span></span><br><span class="line"><span class="comment"># blog_use pts/1        211.97.3.242     Sat Aug 24 08:44 - 09:51  (01:06)    </span></span><br><span class="line"><span class="comment"># root     pts/0        211.97.3.242     Sat Aug 24 08:00   still logged in   </span></span><br><span class="line"><span class="comment"># root     pts/3        211.97.3.242     Sat Aug 24 06:37 - 10:08  (03:31)    </span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="lastlog"><a href="#lastlog" class="headerlink" title="lastlog"></a>lastlog</h3><p>和last差不多:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">lastlog</span><br><span class="line"><span class="comment"># Username         Port     From             Latest</span></span><br><span class="line"><span class="comment"># root             pts/0    211.97.3.242     Sat Aug 24 08:00:23 +0000 2019</span></span><br><span class="line"><span class="comment"># bin                                        **Never logged in**</span></span><br><span class="line"><span class="comment"># daemon                                     **Never logged in**</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 只查看uid为205的用户的登录信息</span></span><br><span class="line">lastlog -u 502</span><br></pre></td></tr></table></figure>



<h3 id="traceroute"><a href="#traceroute" class="headerlink" title="traceroute"></a>traceroute</h3><ul>
<li><p>显示数据包到主机间的路径</p>
</li>
<li><p>```bash<br>traceroute <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">### netstat</span><br><span class="line"></span><br><span class="line">- 查看网络相关的信息</span><br><span class="line"></span><br><span class="line">- ```bash</span><br><span class="line">  netstat [选项]</span><br></pre></td></tr></table></figure></li>
<li><p>参数:</p>
<ol>
<li>-t : TCP协议</li>
<li>-u : UDP协议</li>
<li>-I : 监听</li>
<li>-r : 路由</li>
<li>-n : 显示IP地址和端口号</li>
</ol>
</li>
<li><p>示例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看本机监听的端口</span></span><br><span class="line">netstat -tlun</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看本机所有的网络连接</span></span><br><span class="line">netstat -an</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看本机路由表</span></span><br><span class="line">netstat -rn</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="setup"><a href="#setup" class="headerlink" title="setup"></a>setup</h3><p>配置网络(red hat专用)</p>
<h3 id="mount"><a href="#mount" class="headerlink" title="mount"></a>mount</h3><ul>
<li><p>挂载命令</p>
</li>
<li><p>```bash<br>mount [-t 文件系统] 设备文件名 挂载点</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 示例:</span><br><span class="line"></span><br><span class="line">  ```bash</span><br><span class="line">  mount -t iso9660 /dev/sr0/mut/cdrom</span><br><span class="line">  </span><br><span class="line">  # 简写 : mount + 设备文件名 + 挂载点</span><br><span class="line">  mount /dev/sr0 /mnt/cdrm/</span><br><span class="line">  </span><br><span class="line">  # 卸载:</span><br><span class="line">  umont /dev/sr0</span><br></pre></td></tr></table></figure>

<blockquote>
<p>挂载就是:</p>
<ol>
<li>找到硬件</li>
<li>给这个硬件分配一个设备文件名A</li>
<li>寻找一个目录B</li>
<li>将A和B连接起来</li>
</ol>
</blockquote>
</li>
</ul>
<h2 id="关机重启命令"><a href="#关机重启命令" class="headerlink" title="关机重启命令"></a>关机重启命令</h2><h3 id="shutdown"><a href="#shutdown" class="headerlink" title="shutdown"></a>shutdown</h3><p>参数:</p>
<ul>
<li>c : 取消前一个关机命令</li>
<li>h : 关机</li>
<li>r : 重启</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutdown -h now</span><br></pre></td></tr></table></figure>



<h3 id="halt-poweroff-init-0"><a href="#halt-poweroff-init-0" class="headerlink" title="halt/poweroff/init 0"></a>halt/poweroff/init 0</h3><p>关机</p>
<h3 id="reboot-init-6"><a href="#reboot-init-6" class="headerlink" title="reboot/init 6"></a>reboot/init 6</h3><p>重启</p>
<p>系统运行级别:</p>
<ul>
<li>0 关机</li>
<li>1 单用户</li>
<li>2 不完全多用户,不含NFS服务</li>
<li>3 完全多用户</li>
<li>4 未分配</li>
<li>5 图形界面(默认)</li>
<li>6 重启</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看当前的运行级别</span></span><br><span class="line">runlevel</span><br><span class="line"><span class="comment"># 5  3    (上一个级别  , 当前的级别)</span></span><br></pre></td></tr></table></figure>



<h3 id="logout"><a href="#logout" class="headerlink" title="logout"></a>logout</h3><p>退出登录</p>
</div></div></article><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>